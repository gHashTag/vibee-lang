<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <title>BEAM Sacred HD</title>
  <style>
    *{margin:0;padding:0}
    body{background:#000;overflow:hidden;touch-action:none}
    canvas{display:block;width:100vw;height:100vh}
    #ui{position:fixed;top:10px;left:10px;font:12px monospace;color:#fff}
    .b{padding:8px 14px;margin:3px;background:rgba(0,100,255,.3);border:1px solid rgba(100,200,255,.5);color:#fff;cursor:pointer;border-radius:20px;display:inline-block}
    .b.on{background:rgba(0,255,100,.3);border-color:#0f8}
    #q{position:fixed;top:10px;right:10px;font:11px monospace;color:#0af}
  </style>
</head>
<body>
<canvas id="c"></canvas>
<div id="ui">
  <div style="color:#0af;margin-bottom:8px">◉ Sacred Geometry</div>
  <span class="b on" data-g="flower">Flower</span>
  <span class="b" data-g="metatron">Metatron</span>
  <span class="b" data-g="sri">Sri Yantra</span>
  <span class="b" data-g="merkaba">Merkaba</span>
  <span class="b" data-g="fibonacci">φ Spiral</span>
  <br><br>
  <span class="b" data-q="1">SD</span>
  <span class="b on" data-q="2">HD</span>
  <span class="b" data-q="3">4K</span>
</div>
<div id="q">HD 1920x1080</div>
<script>
const PHI=1.618033988749895,TAU=Math.PI*2,S3=Math.sqrt(3);
const cv=document.getElementById('c'),ctx=cv.getContext('2d');
let W,H,dpr=1,geo='flower',mx=.5,my=.5,t=0;

const Q={1:{n:'SD',s:1},2:{n:'HD',s:2},3:{n:'4K',s:3}};
let q=2;

function resize(){
  dpr=Q[q].s;
  W=window.innerWidth;H=window.innerHeight;
  cv.width=W*dpr;cv.height=H*dpr;
  ctx.scale(dpr,dpr);
  document.getElementById('q').textContent=Q[q].n+' '+(W*dpr)+'x'+(H*dpr);
}
resize();
window.onresize=resize;

function col(h,a){return`hsla(${h*360},70%,60%,${a})`}

function flower(cx,cy,r){
  const pts=[[cx,cy]];
  for(let i=0;i<6;i++){const a=i*TAU/6+t*.1;pts.push([cx+r*Math.cos(a),cy+r*Math.sin(a)])}
  for(let i=0;i<6;i++){
    const a=i*TAU/6+t*.1;pts.push([cx+r*2*Math.cos(a),cy+r*2*Math.sin(a)]);
    const a2=(i+.5)*TAU/6+t*.1;pts.push([cx+r*S3*Math.cos(a2),cy+r*S3*Math.sin(a2)]);
  }
  pts.forEach(([x,y],i)=>{
    ctx.beginPath();ctx.arc(x,y,r*(1+Math.sin(t*2+i*.3)*.1),0,TAU);
    ctx.strokeStyle=col(i/pts.length,.4+Math.sin(t*2+i*.3)*.2);ctx.lineWidth=2;ctx.stroke();
  });
}

function metatron(cx,cy,r){
  const pts=[[cx,cy]];
  for(let i=0;i<6;i++){const a=i*TAU/6-Math.PI/2+t*.05;pts.push([cx+r*Math.cos(a),cy+r*Math.sin(a)])}
  for(let i=0;i<6;i++){const a=i*TAU/6+t*.05;pts.push([cx+r*2*Math.cos(a),cy+r*2*Math.sin(a)])}
  ctx.strokeStyle=col(.5,.15);ctx.lineWidth=1;
  for(let i=0;i<pts.length;i++)for(let j=i+1;j<pts.length;j++){ctx.beginPath();ctx.moveTo(pts[i][0],pts[i][1]);ctx.lineTo(pts[j][0],pts[j][1]);ctx.stroke()}
  pts.forEach(([x,y],i)=>{ctx.beginPath();ctx.arc(x,y,r*.3*(1+Math.sin(t*2+i*.5)*.15),0,TAU);ctx.strokeStyle=col(i/pts.length,.8);ctx.lineWidth=2;ctx.stroke()});
}

function sri(cx,cy,r){
  ctx.beginPath();ctx.arc(cx,cy,r*1.2,0,TAU);ctx.strokeStyle=col(0,.5);ctx.lineWidth=2;ctx.stroke();
  for(let i=0;i<16;i++){const a=i*TAU/16+t*.02;ctx.beginPath();ctx.moveTo(cx+r*1.1*Math.cos(a),cy+r*1.1*Math.sin(a));ctx.lineTo(cx+r*1.3*Math.cos(a-.1),cy+r*1.3*Math.sin(a-.1));ctx.lineTo(cx+r*1.3*Math.cos(a+.1),cy+r*1.3*Math.sin(a+.1));ctx.closePath();ctx.strokeStyle=col(i/16,.4);ctx.stroke()}
  [[1,1],[1,.7],[1,.45],[1,.25],[-1,.9],[-1,.65],[-1,.4],[-1,.2],[-1,.08]].forEach(([d,s],i)=>{
    ctx.beginPath();for(let j=0;j<3;j++){const a=j*TAU/3+(d>0?-Math.PI/2:Math.PI/2)+t*.01*d;const x=cx+r*s*Math.cos(a),y=cy+r*s*Math.sin(a)*d;j?ctx.lineTo(x,y):ctx.moveTo(x,y)}
    ctx.closePath();ctx.strokeStyle=col(d>0?.1:.6,.6);ctx.lineWidth=1.5;ctx.stroke();
  });
  ctx.beginPath();ctx.arc(cx,cy,r*.03*(1+Math.sin(t*3)*.3),0,TAU);ctx.fillStyle=col(.5,1);ctx.fill();
}

function merkaba(cx,cy,r){
  for(let tet=0;tet<2;tet++){
    const d=tet?-1:1,rot=t*.3*d,v=[];
    for(let i=0;i<3;i++){const a=i*TAU/3+rot+(tet?Math.PI/3:0);v.push([cx+r*Math.cos(a),cy+r*Math.sin(a)*.5+r*.3*d])}
    v.push([cx,cy-r*.6*d]);
    [[0,1],[1,2],[2,0],[0,3],[1,3],[2,3]].forEach(([a,b],i)=>{ctx.beginPath();ctx.moveTo(v[a][0],v[a][1]);ctx.lineTo(v[b][0],v[b][1]);ctx.strokeStyle=col(tet?.1:.6,.6+Math.sin(t*2+i*.5)*.2);ctx.lineWidth=2;ctx.stroke()});
  }
  ctx.beginPath();ctx.arc(cx,cy,r*.15*(1+Math.sin(t*2)*.2),0,TAU);ctx.fillStyle=col(.5,.4);ctx.fill();
}

function fibonacci(cx,cy,r){
  ctx.save();ctx.translate(cx,cy);ctx.rotate(t*.1);ctx.translate(-cx,-cy);
  let x=cx,y=cy,w=r*.1,h=w*PHI;
  for(let i=0;i<12;i++){
    ctx.strokeStyle=col(i/12,.3+Math.sin(t+i*.3)*.2);ctx.lineWidth=1;ctx.strokeRect(x-w/2,y-h/2,w,h);
    ctx.beginPath();ctx.arc(x+(i%2?-w/2:w/2),y+(i%4<2?h/2:-h/2),Math.min(w,h),(-Math.PI/2+i*Math.PI/2),(i*Math.PI/2));
    ctx.strokeStyle=col(i/12,.8);ctx.lineWidth=2;ctx.stroke();
    const tmp=w;w=h;h=tmp+h;
    if(i%4===0)x+=tmp/2;else if(i%4===1)y+=tmp/2;else if(i%4===2)x-=tmp/2;else y-=tmp/2;
  }
  ctx.restore();
}

cv.onmousemove=e=>{mx=e.clientX/W;my=e.clientY/H};
cv.ontouchmove=e=>{e.preventDefault();mx=e.touches[0].clientX/W;my=e.touches[0].clientY/H};
cv.onclick=()=>{const g=['flower','metatron','sri','merkaba','fibonacci'];geo=g[(g.indexOf(geo)+1)%g.length];document.querySelectorAll('[data-g]').forEach(b=>b.classList.toggle('on',b.dataset.g===geo))};

document.querySelectorAll('[data-g]').forEach(b=>b.onclick=e=>{e.stopPropagation();geo=b.dataset.g;document.querySelectorAll('[data-g]').forEach(x=>x.classList.toggle('on',x.dataset.g===geo))});
document.querySelectorAll('[data-q]').forEach(b=>b.onclick=e=>{e.stopPropagation();q=+b.dataset.q;resize();document.querySelectorAll('[data-q]').forEach(x=>x.classList.toggle('on',+x.dataset.q===q))});

function loop(){
  t+=1/60;
  const cx=W/2+(mx-.5)*100,cy=H/2+(my-.5)*100,r=Math.min(W,H)*.35;
  ctx.fillStyle='rgba(0,0,0,.1)';ctx.fillRect(0,0,W,H);
  if(geo==='flower')flower(cx,cy,r*.2);
  else if(geo==='metatron')metatron(cx,cy,r*.4);
  else if(geo==='sri')sri(cx,cy,r*.8);
  else if(geo==='merkaba')merkaba(cx,cy,r*.8);
  else if(geo==='fibonacci')fibonacci(cx,cy,r);
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
