{
  "name": "metrics",
  "version": "1.0.0",
  "description": "Metrics collection (Counter, Gauge, Histogram, Summary, Timer)",
  "category": "web",
  "dependencies": ["health"],
  "exports": [
    "counter(name: String, help: String) -> Counter",
    "gauge(name: String, help: String) -> Gauge",
    "histogram(name: String, help: String, buckets: List<Float>) -> Histogram",
    "inc(counter: Counter) -> Counter",
    "dec(counter: Counter) -> Counter",
    "set(gauge: Gauge, value: Float) -> Gauge",
    "observe(histogram: Histogram, value: Float) -> Histogram",
    "get_all() -> List<MetricValue>"
  ],
  "commands": [
    {"name": "metrics.counter", "params": ["name: String", "help: String"]},
    {"name": "metrics.gauge", "params": ["name: String", "help: String"]},
    {"name": "metrics.histogram", "params": ["name: String", "help: String", "buckets: List<Float>"]},
    {"name": "metrics.inc", "params": ["name: String"]},
    {"name": "metrics.set", "params": ["name: String", "value: Float"]},
    {"name": "metrics.observe", "params": ["name: String", "value: Float"]},
    {"name": "metrics.get_all", "params": []}
  ],
  "events": {
    "emits": ["metrics:counter_inc", "metrics:gauge_set", "metrics:histogram_observe"],
    "listens": ["http:request", "http:response", "health:check"]
  }
}
