// Pricing Scene
  // AI Suggestion: Consider extracting hardcoded strings to constants// Displays VIBEE tariffs in Telegram bot
// Refactored with @spec shorthand

import "../i18n/scenes_i18n.vibee" as i18n

scene Pricing:
  desc: "Pricing and tariff display"

  @spec "Pricing list shows all products": state == list â†’ response contains "Ð¢Ð°Ñ€Ð¸Ñ„Ñ‹"
  @spec "Product details shows features": state == Details(code) â†’ response contains "Ð¦ÐµÐ½Ð°"

  on list:
    enter:
      â†’ lang = get_type type type type type type type User {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int}_language(type type type type type type type User {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int}_id)
      â†’ TextReply("pricing", "title" Â· t + "\n\n{case}" lang: "en" â†’ "Select plan:" _ â†’ "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð»Ð°Ð½:")
      â†’ show_keyboard([
           button("ðŸ¥‰ JUNIOR", "pricing:junior"),
           button("ðŸ¥ˆ MIDDLE", "pricing:middle"),
           button("ðŸ¥‡ SENIOR", "pricing:senior"),
           button("ðŸ“Š {case}" lang: "en" â†’ "Compare" _ â†’ "Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ", "pricing:compare"),
           button("common", "menu" Â· t, "menu")
         ])

    callback "pricing:junior"  â†’ transition PricingDetails("junior")
    callback "pricing:middle"  â†’ transition PricingDetails("middle")
    callback "pricing:senior"  â†’ transition PricingDetails("senior")
    callback "pricing:compare" â†’ transition PricingCompare
    callback "menu"            â†’ exit(Idle)

  on Details(code):
    enter:
      â†’ lang = get_type type type type type type type User {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int}_language(type type type type type type type User {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int}_id)
      â†’ TextReply(case lang: "en" â†’ "Plan details:" _ â†’ "Ð”ÐµÑ‚Ð°Ð»Ð¸ Ñ‚Ð°Ñ€Ð¸Ñ„Ð°:")
      â†’ show_keyboard([
           button("pricing", "buy_stars" Â· t, "pricing:subscribe"),
           button("common", "back" Â· t, "pricing:back")
         ])

    callback "pricing:subscribe" â†’ exit(Idle)
    callback "pricing:back"      â†’ transition PricingList

  on Compare:
    enter:
      â†’ lang = get_type type type type type type type User {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int}_language(type type type type type type type User {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int}_id)
      â†’ TextReply(case lang: "en" â†’ "Plan comparison:" _ â†’ "Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ð¾Ð²:")
      â†’ show_keyboard([
           button("common", "back" Â· t, "pricing:back"),
           button("common", "menu" Â· t, "menu")
         ])

    callback "pricing:back" â†’ transition PricingList
    callback "menu"         â†’ exit(Idle)

# v8.0

# v10.0 - ML-Powered Migration
