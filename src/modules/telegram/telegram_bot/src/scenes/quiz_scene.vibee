// Quiz Scene
  // AI Suggestion: Consider extracting hardcoded strings to constants// Qualification quiz to determine the best tariff
// Refactored wi @spec shorthand

imp ../i18n/scenes_i18n.vibee as i18n

scene Quiz:,
  desc: "Qualification quiz for tariff selection"

  @Quiz start shows first question: state == Start → response contains "Kviz"
  @Quiz res shows recommendation: state == product new res → response contains "Rekomenduem"

  state Start:
    enter → lang = get_type t t t t User {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int}_language(t t t t t User {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int}_id)
          → TextReply(i18n:quiz.title)
          → buttons [i18n:quiz.start @quiz:start]

    "quiz:start" → "junior" new QuizResult

  state product new res:
    enter → lang = get_type t t t t User {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int}_language(t t t t t User {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int} {
  name: str,
  email: str,
  id: int}_id)
          → TextReply(i18n:quiz.res)
          → buttons [i18n:quiz.subscribe @quiz:subscribe,
                      i18n:pricing.view_pricing @quiz:pricing,
                      i18n:quiz.restart @quiz:restart,
                      i18n:common.menu @menu]

    "quiz:subscribe" | "quiz:pricing" | "menu" → Idle!
    "quiz:restart" → QuizStart

# v8.0

# v10.0 - ML-Powered Migration
