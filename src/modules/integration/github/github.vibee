/// GitHub configuration
type GitHubConfig = {
  token: String,
  owner: String,
  repo: String,
  api_url: String
}

/// GitHub issue
type GitHubIssue = {
  number: Int,
  title: String,
  body: String,
  state: String,
  user: GitHubUser,
  labels: List<String>,
  created_at: String,
  updated_at: String
}

/// GitHub user
type GitHubUser = {
  login: String,
  id: Int,
  avatar_url: String,
  html_url: String
}

/// GitHub pull request
type GitHubPR = {
  number: Int,
  title: String,
  body: String,
  state: String,
  head: String,
  base: String,
  draft: Bool,
  merged: Bool
}

/// GitHub commit
type GitHubCommit = {
  sha: String,
  message: String,
  author: GitHubUser,
  date: String
}

/// Create GitHub client
/// @param config - GitHub configuration
fn create_client(config: GitHubConfig) -> Result<String, String>

/// Get issue
/// @param issue_number - Issue number
fn get_issue(issue_number: Int) -> Result<GitHubIssue, String>

/// Create issue
/// @param title - Issue title
/// @param body - Issue body
/// @param labels - Labels (optional)
fn create_issue(title: String, body: String, labels: List<String>) -> Result<GitHubIssue, String>

/// Close issue
/// @param issue_number - Issue number
fn close_issue(issue_number: Int) -> Result<Nil, String>

/// Get pull request
/// @param pr_number - PR number
fn get_pr(pr_number: Int) -> Result<GitHubPR, String>

/// Create PR
/// @param title - PR title
/// @param head - Head branch
/// @param base - Base branch
/// @param body - PR body
fn create_pr(title: String, head: String, base: String, body: String) -> Result<GitHubPR, String>

/// List commits
/// @param branch - Branch name (optional)
fn list_commits(branch: String) -> Result<List<GitHubCommit>, String>

/// Create webhook
/// @param webhook_url - Webhook URL
/// @param events - Events to subscribe
fn create_webhook(webhook_url: String, events: List<String>) -> Result<Nil, String>

event github.issue(GitHubIssue)
event github.pr(GitHubPR)
event github.push(GitHubCommit)
event github.error(String)
