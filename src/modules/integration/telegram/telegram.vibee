/// Telegram bot configuration
type TelegramConfig = {
  bot_token: String,
  webhook_url: String,
  parse_mode: String,
  admin_ids: List<Int>
}

/// Telegram update
type TelegramUpdate = {
  update_id: Int,
  message: TelegramMessage,
  callback_query: TelegramCallback
}

/// Telegram message
type TelegramMessage = {
  message_id: Int,
  from: TelegramUser,
  chat: TelegramChat,
  text: String,
  entities: List<Value>,
  date: Int
}

/// Telegram user
type TelegramUser = {
  id: Int,
  is_bot: Bool,
  first_name: String,
  last_name: String,
  username: String
}

/// Telegram chat
type TelegramChat = {
  id: Int,
  type: String,
  title: String
}

/// Telegram callback query
type TelegramCallback = {
  id: String,
  from: TelegramUser,
  message: TelegramMessage,
  data: String
}

/// Create Telegram bot
/// @param config - Bot configuration
fn create_bot(config: TelegramConfig) -> Result<String, String>

/// Send message
/// @param chat_id - Chat ID
/// @param text - Message text
/// @param keyboard - Inline keyboard (optional)
fn send_message(chat_id: Int, text: String, keyboard: Value) -> Result<Nil, String>

/// Send photo
/// @param chat_id - Chat ID
/// @param photo_url - Photo URL or file_id
/// @param caption - Photo caption
fn send_photo(chat_id: Int, photo_url: String, caption: String) -> Result<Nil, String>

/// Set webhook
/// @param url - Webhook URL
fn set_webhook(url: String) -> Result<Nil, String>

/// Delete webhook
fn delete_webhook() -> Result<Nil, String>

/// Get webhook info
fn webhook_info() -> Result<Value, String>

/// Answer callback query
/// @param callback_id - Callback query ID
/// @param text - Alert text
fn answer_callback(callback_id: String, text: String) -> Result<Nil, String>

event telegram.message(TelegramMessage)
event telegram.callback(TelegramCallback)
event telegram.error(String)
