/// Tool schema (OpenAI-compatible)
type ToolSchema = {
  type: String,
  function: FunctionSchema
}

/// Function schema
type FunctionSchema = {
  name: String,
  description: String,
  parameters: ParametersSchema
}

/// Parameters schema
type ParametersSchema = {
  type: String,
  properties: Map<String, PropertySchema>,
  required: List<String>
}

/// Property schema
type PropertySchema = {
  type: String,
  description: String,
  enum: List<Value>
}

/// Registered tool
type Tool = {
  id: String,
  name: String,
  description: String,
  schema: ToolSchema,
  handler: fn(Map<String, Value>) -> Value,
  registered_at: Int
}

/// Tool execution result
type ToolResult = {
  tool_id: String,
  success: Bool,
  result: Value,
  error: String,
  execution_time: Int
}

/// Register a new tool
/// @param name - Tool name
/// @param description - Tool description
/// @param schema - Tool schema
/// @param handler - Execution handler
fn register_tool(name: String, description: String, schema: ToolSchema, handler: fn(Map<String, Value>) -> Value) -> Result<Tool, String>

/// Get tool by name
/// @param name - Tool name
/// @returns Tool if registered
fn get_tool(name: String) -> Result<Tool, String>

/// List all registered tools
/// @returns List of all tools
fn list_tools() -> List<Tool>

/// Execute a tool
/// @param tool_name - Tool name
/// @param arguments - Tool arguments
/// @returns Execution result
fn execute_tool(tool_name: String, arguments: Map<String, Value>) -> Result<ToolResult, String>

/// Unregister a tool
/// @param name - Tool name
fn delete_tool(name: String) -> Result<Nil, String>

event tools.registered(Tool)
event tools.executed(ToolResult)
event tools.error(String, String)