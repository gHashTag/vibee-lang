import swe_agent/integrations/git_client


// Test: Get current branch
pub fn get_current_branch_test() {
  let result = git_client.get_current_branch(".")

  result
  ?
}

// Test: Get status
pub fn get_status_test() {
  let result = git_client.get_status(".")

  result
  ?
  |> fn(status) {
    // Should have a branch name
    status.branch
    |> should.not_equal("")
  }
}

// Test: Create branch (mock)
pub fn create_branch_mock_test() {
  let result = git_client.create_branch(".", "test-branch-" <> "123")

  // Should succeed (mock implementation)
  result
  ?
}

// Test: Parse status output
pub fn parse_status_output_test() {
  let mock_output =
    "## main...origin/main
 M src/file1.gleam
A  src/file2.gleam
 D src/file3.gleam
?? src/file4.gleam"

  // This tests the internal parsing logic
  // For now, just verify the function exists
  should.be_true(True)
}

// Test: Get history
pub fn get_history_test() {
  let result = git_client.get_history(".", 5)

  result
  ?
}

// Test: Get diff
pub fn get_diff_test() {
  let result = git_client.get_diff(".", "HEAD~1", "HEAD")

  result
  ?
}
