/// Memory type
type MemoryType = 
  | ShortTerm
  | LongTerm
  | Working
  | Episodic
  | Semantic

/// Memory entry
type Memory = {
  id: String,
  agent_id: String,
  type: MemoryType,
  content: String,
  importance: Float,
  timestamp: Int,
  metadata: Map<String, Value>,
  embedding: List<Float>
}

/// Store a memory
/// @param agent_id - Agent identifier
/// @param memory_type - Type of memory
/// @param content - Memory content
/// @param importance - Importance score (0-1)
fn store_memory(agent_id: String, memory_type: MemoryType, content: String, importance: Float) -> Result<Memory, String>

/// Retrieve memories for agent
/// @param agent_id - Agent identifier
/// @param memory_type - Filter by type (optional)
/// @param limit - Max results
fn retrieve_memories(agent_id: String, memory_type: MemoryType, limit: Int) -> Result<List<Memory>, String>

/// Search memories by content
/// @param agent_id - Agent identifier
/// @param query - Search query
/// @returns Matching memories
fn search_memories(agent_id: String, query: String) -> Result<List<Memory>, String>

/// Forget specific memories
/// @param agent_id - Agent identifier
/// @param memory_ids - IDs to forget
fn forget_memories(agent_id: String, memory_ids: List<String>) -> Result<Nil, String>

/// Clear all memories for agent
/// @param agent_id - Agent identifier
/// @param memory_type - Type to clear (or all)
fn clear_all(agent_id: String, memory_type: MemoryType) -> Result<Nil, String>

event memory.stored(Memory)
event memory.forgotten(String, List<String>)