// B-Roll Video Templates
  // AI Suggestion: Consider extracting hardcoded strings to constants// Pre-made prompts for generating background footage with AI video generators
// Use with Kling, Veo3/KIE.ai, or other text-to-video models
// Converted from infra/ai/broll_templates.gleam → dsl/infra/ai/broll_templates.vibee

// =============================================================================
// Category Types
// =============================================================================

derive(Json)
@enum BRollCategory:
  "nature" => Nature
  "city" => City
  "abstract" => Abstract
  "business" => Business
  "technology" => Technology
  "lifestyle" => Lifestyle
  "space" => Space
  "water" => Water
  "fire" => Fire
  "smoke" => Smoke
  "particles" => Particles
  "light" => Light
  Custom(str)

// =============================================================================
// Template Type
// =============================================================================

struct BRollTemplate:
  name! str
  category! BRollCategory
  prompt! str
  style! str
  loop_friendly! bool
  duration_hint! str

// =============================================================================
// Nature B-Roll Templates
// =============================================================================

@spec nature_templates() → [BRollTemplate]
  /// Nature and landscape templates
impl: nature_templates():
  [
    BRollTemplate(
      name: "forest_aerial",
      category: Nature,
      prompt: "Cinematic aerial drone shot flying slowly over a dense green forest, morning mist rising between trees, golden hour sunlight filtering through leaves, 4K, smooth camera movement",
      style: "cinematic",
      loop_friendly: true,
      duration_hint: "5-10s"
    ),
    BRollTemplate(
      name: "ocean_waves",
      category: Nature,
      prompt: "Slow motion ocean waves crashing on sandy beach, crystal clear turquoise water, white foam, sunset golden light, peaceful atmosphere, seamless loop, 4K",
      style: "relaxing",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "mountain_timelapse",
      category: Nature,
      prompt: "Timelapse of clouds moving over majestic snow-capped mountains, dramatic lighting changes, golden to blue hour goto, epic landscape, cinematic",
      style: "epic",
      loop_friendly: false,
      duration_hint: "10s"
    ),
    BRollTemplate(
      name: "rain_window",
      category: Nature,
      prompt: "Close-up of raindrops falling on window glass, blurred city lights in background, cozy mood, soft focus bokeh, seamless loop",
      style: "moody",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "autumn_leaves",
      category: Nature,
      prompt: "Golden autumn leaves falling slowly in sunlight, shallow depth of field, warm colors, peaceful forest background, slow motion",
      style: "warm",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "northern_lights",
      category: Nature,
      prompt: "Aurora borealis dancing across night sky, green and purple lights, stars visible, snowy landscape below, timelapse, 4K",
      style: "magical",
      loop_friendly: true,
      duration_hint: "10s"
    )
  ]

// =============================================================================
// City/Urban B-Roll Templates
// =============================================================================

@spec city_templates() → [BRollTemplate]
  /// Urban and city life templates
impl: city_templates():
  [
    BRollTemplate(
      name: "city_night_traffic",
      category: City,
      prompt: "Timelapse of city traffic at night, light trails from cars, neon signs reflection, urban atmosphere, seamless loop, 4K",
      style: "dynamic",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "aerial_skyline",
      category: City,
      prompt: "Smooth aerial shot of modern city skyline at sunset, skyscrapers reflecting golden light, drone flying forward slowly, cinematic",
      style: "corporate",
      loop_friendly: false,
      duration_hint: "10s"
    ),
    BRollTemplate(
      name: "rain_street",
      category: City,
      prompt: "Rainy city street at night, wet pavement reflecting neon lights, puddles, people with umbrellas silhouettes, cinematic noir mood",
      style: "noir",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "subway_motion",
      category: City,
      prompt: "Inside subway train moving through tunnel, windows showing blurred lights, motion blur, urban commute atmosphere",
      style: "urban",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "crowd_walking",
      category: City,
      prompt: "Busy city intersection with crowds of people walking, slow motion, shallow depth of field, urban life, seamless loop",
      style: "documentary",
      loop_friendly: true,
      duration_hint: "5s"
    )
  ]

// =============================================================================
// Abstract/VFX B-Roll Templates
// =============================================================================

@spec abstract_templates() → [BRollTemplate]
  /// Abstract and VFX templates
impl: abstract_templates():
  [
    BRollTemplate(
      name: "particle_flow",
      category: Particles,
      prompt: "Abstract golden particles flowing in dark space, smooth organic movement, dust motes in light beam, seamless loop, 4K",
      style: "elegant",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "liquid_metal",
      category: Abstract,
      prompt: "Abstract liquid chrome metal morphing and flowing, reflective surface, smooth transitions, dark background, seamless loop",
      style: "futuristic",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "geometric_shapes",
      category: Abstract,
      prompt: "3D geometric shapes rotating slowly in space, clean minimal design, soft shadows, white and gold colors, seamless loop",
      style: "minimal",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "smoke_tendrils",
      category: Smoke,
      prompt: "Slow motion white smoke tendrils curling and flowing on black background, ethereal and mysterious, seamless loop, 4K",
      style: "mysterious",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "fire_flames",
      category: Fire,
      prompt: "Close-up of fire flames burning, orange and blue colors, slow motion, dark background, seamless loop, hypnotic movement",
      style: "intense",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "water_surface",
      category: Water,
      prompt: "Abstract water surface with light reflections, caustics pattern, calm ripples, blue tones, seamless loop, mesmerizing",
      style: "calming",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "light_rays",
      category: Light,
      prompt: "Volumetric light rays through fog, golden sunbeams, dust particles floating, ethereal atmosphere, seamless loop",
      style: "spiritual",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "bokeh_lights",
      category: Light,
      prompt: "Out of focus bokeh lights slowly moving, colorful circles, dreamy atmosphere, black background, seamless loop",
      style: "dreamy",
      loop_friendly: true,
      duration_hint: "5s"
    )
  ]

// =============================================================================
// Business/Corporate B-Roll Templates
// =============================================================================

@spec business_templates() → [BRollTemplate]
  /// Business and corporate templates
impl: business_templates():
  [
    BRollTemplate(
      name: "office_workspace",
      category: Business,
      prompt: "Modern minimatype {name} {
  items: List[Item],
  count: Int}fice workspace, laptop on clean desk, natural light from window, plants, professional atmosphere",
      style: "corporate",
      loop_friendly: false,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "typing_hands",
      category: Business,
      prompt: "Close-up of hands typing on laptop keyboard, shallow depth of field, warm office lighting, professional work",
      style: "professional",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "meeting_room",
      category: Business,
      prompt: "Modern glass meeting room, empty conference table, city view through windows, minimalist corporate design",
      style: "corporate",
      loop_friendly: false,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "handshake",
      category: Business,
      prompt: "Professional business handshake, slow motion, bright office background, partnership concept, corporate style",
      style: "professional",
      loop_friendly: false,
      duration_hint: "5s"
    )
  ]

// =============================================================================
// Technology B-Roll Templates
// =============================================================================

@spec technology_templates() → [BRollTemplate]
  /// Technology and digital templates
impl: technology_templates():
  [
    BRollTemplate(
      name: "circuit_board",
      category: Technology,
      prompt: "Macro shot of circuit board with electrical signals traveling through traces, blue glow, futuristic tech visualization",
      style: "tech",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "data_center",
      category: Technology,
      prompt: "Walking through dark data center corridor, server racks with blinking lights, blue LED glow, tech atmosphere",
      style: "futuristic",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "hologram_ui",
      category: Technology,
      prompt: "Futuristic holographic type type User {
  name: String,
  email: String,
  id: Int} {
  name: String,
  email: String,
  id: Int} interface floating in dark space, blue transparent UI elements, sci-fi style, seamless loop",
      style: "sci-fi",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "binary_code",
      category: Technology,
      prompt: "Matrix-style binary code falling down screen, green characters on black, digital rain effect, seamless loop",
      style: "hacker",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "robot_arm",
      category: Technology,
      prompt: "Industrial robot arm moving precisely, manufacturing automation, sparks flying, blue lighting, tech factory",
      style: "industrial",
      loop_friendly: true,
      duration_hint: "5s"
    )
  ]

// =============================================================================
// Space/Cosmic B-Roll Templates
// =============================================================================

@spec space_templates() → [BRollTemplate]
  /// Space and cosmic templates
impl: space_templates():
  [
    BRollTemplate(
      name: "stars_timelapse",
      category: Space,
      prompt: "Timelapse of night sky with stars rotating, milky way visible, dark landscape silhouette, long exposure effect",
      style: "cosmic",
      loop_friendly: true,
      duration_hint: "10s"
    ),
    BRollTemplate(
      name: "nebula_flight",
      category: Space,
      prompt: "Flying through colorful space nebula, purple and blue cosmic clouds, stars everywhere, cinematic space journey",
      style: "epic",
      loop_friendly: true,
      duration_hint: "10s"
    ),
    BRollTemplate(
      name: "planet_orbit",
      category: Space,
      prompt: "Earth-like planet slowly rotating in space, atmosphere glow, stars in background, cinematic space view",
      style: "cinematic",
      loop_friendly: true,
      duration_hint: "10s"
    ),
    BRollTemplate(
      name: "asteroid_field",
      category: Space,
      prompt: "Flying through asteroid field in space, rocks tumbling slowly, distant sun light, cinematic depth",
      style: "adventure",
      loop_friendly: true,
      duration_hint: "10s"
    )
  ]

// =============================================================================
// Lifestyle B-Roll Templates
// =============================================================================

@spec lifestyle_templates() → [BRollTemplate]
  /// Lifestyle and wellness templates
impl: lifestyle_templates():
  [
    BRollTemplate(
      name: "coffee_steam",
      category: Lifestyle,
      prompt: "Close-up of hot coffee cup with steam rising, morning light, cozy atmosphere, shallow depth of field, seamless loop",
      style: "cozy",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "yoga_sunset",
      category: Lifestyle,
      prompt: "Silhouette of person doing yoga pose at sunset on beach, peaceful atmosphere, golden light, wellness concept",
      style: "wellness",
      loop_friendly: false,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "cooking_prep",
      category: Lifestyle,
      prompt: "Close-up of hands chopping fresh vegetables, kitchen background, natural light, food preparation, slow motion",
      style: "culinary",
      loop_friendly: true,
      duration_hint: "5s"
    ),
    BRollTemplate(
      name: "reading_book",
      category: Lifestyle,
      prompt: "Hands turning pages of old book, warm lamp light, cozy reading nook, shallow depth of field, relaxing mood",
      style: "cozy",
      loop_friendly: true,
      duration_hint: "5s"
    )
  ]

// =============================================================================
// Helper Functions
// =============================================================================

@spec all_templates() → [BRollTemplate]
  /// Get all templates from all categories
impl: all_templates():
  list.flatten([
    nature_templates(),
    city_templates(),
    abstract_templates(),
    business_templates(),
    technology_templates(),
    space_templates(),
    lifestyle_templates()
  ])

@spec get_by_category(category: BRollCategory) → [BRollTemplate]
  /// Get templates filtered by category
impl: get_by_category(category):
  all_templates()
  · list.filter(fn(t): t.category == category)

@spec get_loopable() → [BRollTemplate]
  /// Get only loop-friendly templates
impl: get_loopable():
  all_templates()
  · list.filter(fn(t): t.loop_friendly)

@spec find_by_name(name: str) → Nil · Result
  /// Find template by name
impl: find_by_name(name):
  all_templates()
  · list.find(fn(t): t.name == name)

@spec random_from_category(category: BRollCategory, seed: int) → Nil · Result
  /// Get random template from category using seed
impl: seed · random_from_category:
  let templates = get_by_category(category)
  case list.len(templates):
    0 → ❌Nil)
    len:
      let index = seed % len
      list.index · drop · list.first

@spec category_$(category: BRollCategory) → str
  /// Convert category to string
impl: category_$(category):
  case category:
    Nature → "nature"
    City → "city"
    Abstract → "abstract"
    Business → "business"
    Technology → "technology"
    Lifestyle → "lifestyle"
    Space → "space"
    Water → "water"
    Fire → "fire"
    Smoke → "smoke"
    Particles → "particles"
    Light → "light"
    Custom(name) → "custom:"{ name }"

@spec string_to_category(s: str) → BRollCategory
  /// Parse category from string
impl: string_to_category(s):
  case string.lowercase(s):
    "nature" → Nature
    "city" → City
    "urban" → City
    "abstract" → Abstract
    "business" → Business
    "corporate" → Business
    "technology" → Technology
    "tech" → Technology
    "lifestyle" → Lifestyle
    "space" → Space
    "cosmic" → Space
    "water" → Water
    "fire" → Fire
    "smoke" → Smoke
    "particles" → Particles
    "light" → Light
    other → Custom(other)

@spec enhance_prompt(template: BRollTemplate, extra_modifiers: [str]) → str
  /// Enhance prompt with additional quality modifiers
impl: extra_modifiers · enhance_prompt:
  let base = template.prompt
  let modifiers = string.", " · join
  case modifiers:
    "" → base
    mods → { base }", "{ mods }"

@spec get_model_prompt(template: BRollTemplate, model: str) → str
  /// Get prompt optimized for specific AI model
impl: model · get_model_prompt:
  case model:
    "kling" → template.{ prompt }", Kling AI video generation, high quality"
    "veo3" | "kieai" → template.{ prompt }", photorealistic, Veo 3 style"
    "runway" → template.{ prompt }", cinematic, professional video"
    _ → template.prompt

# v8.0

# v8.0
# v10.0 - ML-Powered Migration
