// ============================================
// 999BUILD - –°–ò–°–¢–ï–ú–ê –°–ë–û–†–ö–ò
// ============================================
//
// –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
//   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
//   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
//   - –ö—Ä–æ—Å—Å-–∫–æ–º–ø–∏–ª—è—Ü–∏—è
//   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
//   - –ü—Ä–æ—Ñ–∏–ª–∏ —Å–±–æ—Ä–∫–∏ (debug/release)
//
// ============================================

‚≤® arifmetika
‚≤® pkg

// ============================================
// –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–ë–û–†–ö–ò
// ============================================

‚≤à ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤†‚≤£‚≤ü‚≤´‚≤ì‚≤ó‚≤â:
  DEBUG
  RELEASE
  TEST
  BENCH

‚≤é ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö:
  –ø—Ä–æ—Ñ–∏–ª—å: ‚≤à ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤†‚≤£‚≤ü‚≤´‚≤ì‚≤ó‚≤â
  —Ü–µ–ª–µ–≤–∞—è_–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞: ‚≤§
  –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: ‚≤§
  –æ—Ç–ª–∞–¥–∫–∞: ‚≤Ç
  lto: ‚≤Ç
  –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: ‚≤ä
  
  // –ü—É—Ç–∏
  –∏—Å—Ö–æ–¥–Ω–∏–∫–∏: ‚≤§
  –≤—ã—Ö–æ–¥: ‚≤§
  –∫—ç—à: ‚≤§

// –¶–µ–ª—å —Å–±–æ—Ä–∫–∏
‚≤é ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤¶‚≤Å‚≤£‚≤Ö‚≤â‚≤ß:
  –∏–º—è: ‚≤§
  —Ç–∏–ø: ‚≤§  // "bin", "lib", "test"
  –∏—Å—Ö–æ–¥–Ω–∏–∫–∏: [‚≤§]
  –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: [‚≤§]
  —Ñ–ª–∞–≥–∏: [‚≤§]

// –ê—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–±–æ—Ä–∫–∏
‚≤é ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤Ä‚≤£‚≤ß‚≤ì‚≤´‚≤Å‚≤ï‚≤ß:
  –ø—É—Ç—å: ‚≤§
  —Ö–µ—à: ‚≤§
  –≤—Ä–µ–º—è: ‚≤ä
  –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: [‚≤§]

// ============================================
// –ì–†–ê–§ –°–ë–û–†–ö–ò
// ============================================

‚≤é ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤Ñ‚≤£‚≤Å‚≤´:
  —É–∑–ª—ã: {‚≤§: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â}
  —Ä—ë–±—Ä–∞: [(‚≤§, ‚≤§)]
  –ø–æ—Ä—è–¥–æ–∫: [‚≤§]  // –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫

‚≤à ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â‚≤¶‚≤©‚≤°‚≤â:
  SOURCE    // –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª
  OBJECT    // –û–±—ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª
  LIBRARY   // –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
  BINARY    // –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª

‚≤é ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â:
  –ø—É—Ç—å: ‚≤§
  —Ç–∏–ø: ‚≤à ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â‚≤¶‚≤©‚≤°‚≤â
  —Ö–µ—à: ‚≤§?
  —É—Å—Ç–∞—Ä–µ–ª: ‚≤Ç

// –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ —Å–±–æ—Ä–∫–∏
‚≤™ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å_–≥—Ä–∞—Ñ(–º–∞–Ω–∏—Ñ–µ—Å—Ç: ‚≤†‚≤ï‚≤Ö‚≤ò‚≤Å‚≤õ‚≤ì‚≤´‚≤â‚≤•‚≤ß, –∫–æ–Ω—Ñ–∏–≥: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö) -> ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤Ñ‚≤£‚≤Å‚≤´:
  ‚≤ò –≥—Ä–∞—Ñ = ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤Ñ‚≤£‚≤Å‚≤´ { —É–∑–ª—ã: {}, —Ä—ë–±—Ä–∞: [], –ø–æ—Ä—è–¥–æ–∫: [] }
  
  // –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
  ‚≤ò –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ = –Ω–∞–π—Ç–∏_—Ñ–∞–π–ª—ã(–∫–æ–Ω—Ñ–∏–≥.–∏—Å—Ö–æ–¥–Ω–∏–∫–∏, "*.999")
  
  ‚≤Æ –∏—Å—Ö–æ–¥–Ω–∏–∫ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏:
    // –î–æ–±–∞–≤–ª—è–µ–º –∏—Å—Ö–æ–¥–Ω–∏–∫
    –≥—Ä–∞—Ñ.—É–∑–ª—ã[–∏—Å—Ö–æ–¥–Ω–∏–∫] = ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â {
      –ø—É—Ç—å: –∏—Å—Ö–æ–¥–Ω–∏–∫,
      —Ç–∏–ø: SOURCE,
      —Ö–µ—à: —Ö–µ—à_—Ñ–∞–π–ª–∞(–∏—Å—Ö–æ–¥–Ω–∏–∫),
      —É—Å—Ç–∞—Ä–µ–ª: ‚≤Ç
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª
    ‚≤ò –æ–±—ä–µ–∫—Ç = –∏—Å—Ö–æ–¥–Ω–∏–∫.replace(".999", ".o")
    –≥—Ä–∞—Ñ.—É–∑–ª—ã[–æ–±—ä–µ–∫—Ç] = ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â {
      –ø—É—Ç—å: –æ–±—ä–µ–∫—Ç,
      —Ç–∏–ø: OBJECT,
      —Ö–µ—à: None,
      —É—Å—Ç–∞—Ä–µ–ª: ‚≤Ç
    }
    
    –≥—Ä–∞—Ñ.—Ä—ë–±—Ä–∞ += [(–∏—Å—Ö–æ–¥–Ω–∏–∫, –æ–±—ä–µ–∫—Ç)]
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–º–ø–æ—Ä—Ç—ã
    ‚≤ò –∏–º–ø–æ—Ä—Ç—ã = –Ω–∞–π—Ç–∏_–∏–º–ø–æ—Ä—Ç—ã(–∏—Å—Ö–æ–¥–Ω–∏–∫)
    ‚≤Æ –∏–º–ø–æ—Ä—Ç –∏–º–ø–æ—Ä—Ç—ã:
      ‚≤ò –∏–º–ø–æ—Ä—Ç_–ø—É—Ç—å = —Ä–∞–∑—Ä–µ—à–∏—Ç—å_–∏–º–ø–æ—Ä—Ç(–∏–º–ø–æ—Ä—Ç, –∫–æ–Ω—Ñ–∏–≥)
      –≥—Ä–∞—Ñ.—Ä—ë–±—Ä–∞ += [(–∏–º–ø–æ—Ä—Ç_–ø—É—Ç—å, –æ–±—ä–µ–∫—Ç)]
  
  // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫
  ‚≤ò –≤—ã—Ö–æ–¥ = –∫–æ–Ω—Ñ–∏–≥.–≤—ã—Ö–æ–¥ + "/" + –º–∞–Ω–∏—Ñ–µ—Å—Ç.–∏–º—è
  –≥—Ä–∞—Ñ.—É–∑–ª—ã[–≤—ã—Ö–æ–¥] = ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â {
    –ø—É—Ç—å: –≤—ã—Ö–æ–¥,
    —Ç–∏–ø: BINARY,
    —Ö–µ—à: None,
    —É—Å—Ç–∞—Ä–µ–ª: ‚≤Ç
  }
  
  // –í—Å–µ –æ–±—ä–µ–∫—Ç–Ω–∏–∫–∏ ‚Üí –±–∏–Ω–∞—Ä–Ω–∏–∫
  ‚≤Æ (–ø—É—Ç—å, —É–∑–µ–ª) –≥—Ä–∞—Ñ.—É–∑–ª—ã:
    ‚≤ú —É–∑–µ–ª.—Ç–∏–ø == OBJECT:
      –≥—Ä–∞—Ñ.—Ä—ë–±—Ä–∞ += [(–ø—É—Ç—å, –≤—ã—Ö–æ–¥)]
  
  // –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
  –≥—Ä–∞—Ñ.–ø–æ—Ä—è–¥–æ–∫ = —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞(–≥—Ä–∞—Ñ)
  
  ‚≤¢ –≥—Ä–∞—Ñ

// ============================================
// –ò–ù–ö–†–ï–ú–ï–ù–¢–ê–õ–¨–ù–ê–Ø –°–ë–û–†–ö–ê
// ============================================

// –ö—ç—à —Å–±–æ—Ä–∫–∏
‚≤é ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤Å‚≤≠‚≤â:
  –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: {‚≤§: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤Ä‚≤£‚≤ß‚≤ì‚≤´‚≤Å‚≤ï‚≤ß}
  –ø—É—Ç—å: ‚≤§

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫—ç—à
‚≤™ –∑–∞–≥—Ä—É–∑–∏—Ç—å_–∫—ç—à(–ø—É—Ç—å: ‚≤§) -> ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤Å‚≤≠‚≤â:
  ‚≤ú —Ñ–∞–π–ª_—Å—É—â–µ—Å—Ç–≤—É–µ—Ç(–ø—É—Ç—å + "/cache.json"):
    ‚≤¢ —á–∏—Ç–∞—Ç—å_json(–ø—É—Ç—å + "/cache.json")
  ‚≤¢ ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤Å‚≤≠‚≤â { –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: {}, –ø—É—Ç—å: –ø—É—Ç—å }

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ
‚≤™ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_—É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ(–≥—Ä–∞—Ñ: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤Ñ‚≤£‚≤Å‚≤´, –∫—ç—à: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤Å‚≤≠‚≤â):
  ‚≤Æ –ø—É—Ç—å –≥—Ä–∞—Ñ.–ø–æ—Ä—è–¥–æ–∫:
    ‚≤ò —É–∑–µ–ª = –≥—Ä–∞—Ñ.—É–∑–ª—ã[–ø—É—Ç—å]
    
    ‚≤ú —É–∑–µ–ª.—Ç–∏–ø == SOURCE:
      // –ò—Å—Ö–æ–¥–Ω–∏–∫ —É—Å—Ç–∞—Ä–µ–ª –µ—Å–ª–∏ —Ö–µ—à –∏–∑–º–µ–Ω–∏–ª—Å—è
      ‚≤ò –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π = –∫—ç—à.–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã[–ø—É—Ç—å]
      ‚≤ú –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π == None || –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π.—Ö–µ—à != —É–∑–µ–ª.—Ö–µ—à:
        —É–∑–µ–ª.—É—Å—Ç–∞—Ä–µ–ª = ‚≤Ä
    ‚≤Ç:
      // –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π —É—Å—Ç–∞—Ä–µ–ª –µ—Å–ª–∏ –ª—é–±–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —É—Å—Ç–∞—Ä–µ–ª–∞
      ‚≤Æ (–æ—Ç, –∫) –≥—Ä–∞—Ñ.—Ä—ë–±—Ä–∞:
        ‚≤ú –∫ == –ø—É—Ç—å && –≥—Ä–∞—Ñ.—É–∑–ª—ã[–æ—Ç].—É—Å—Ç–∞—Ä–µ–ª:
          —É–∑–µ–ª.—É—Å—Ç–∞—Ä–µ–ª = ‚≤Ä
          ‚≤ö

// ============================================
// –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–ê–Ø –°–ë–û–†–ö–ê
// ============================================

‚≤é ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤é‚≤ü‚≤É:
  —É–∑–µ–ª: ‚≤§
  –∫–æ–º–∞–Ω–¥–∞: ‚≤§
  –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: [‚≤§]
  –∑–∞–≤–µ—Ä—à—ë–Ω: ‚≤Ç
  —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚≤ä?

// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
‚≤™ —Å–æ–±—Ä–∞—Ç—å_–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ(–≥—Ä–∞—Ñ: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤Ñ‚≤£‚≤Å‚≤´, –∫–æ–Ω—Ñ–∏–≥: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö) -> ‚≤Ç:
  ‚≤ò –∑–∞–¥–∞—á–∏: {‚≤§: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤é‚≤ü‚≤É} = {}
  
  // –°–æ–∑–¥–∞—ë–º –∑–∞–¥–∞—á–∏ –¥–ª—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —É–∑–ª–æ–≤
  ‚≤Æ –ø—É—Ç—å –≥—Ä–∞—Ñ.–ø–æ—Ä—è–¥–æ–∫:
    ‚≤ò —É–∑–µ–ª = –≥—Ä–∞—Ñ.—É–∑–ª—ã[–ø—É—Ç—å]
    ‚≤ú —É–∑–µ–ª.—É—Å—Ç–∞—Ä–µ–ª && —É–∑–µ–ª.—Ç–∏–ø != SOURCE:
      ‚≤ò –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ = –Ω–∞–π—Ç–∏_–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏(–≥—Ä–∞—Ñ, –ø—É—Ç—å)
      –∑–∞–¥–∞—á–∏[–ø—É—Ç—å] = ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤é‚≤ü‚≤É {
        —É–∑–µ–ª: –ø—É—Ç—å,
        –∫–æ–º–∞–Ω–¥–∞: –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_–∫–æ–º–∞–Ω–¥—É(—É–∑–µ–ª, –∫–æ–Ω—Ñ–∏–≥),
        –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏,
        –∑–∞–≤–µ—Ä—à—ë–Ω: ‚≤Ç,
        —Ä–µ–∑—É–ª—å—Ç–∞—Ç: None
      }
  
  // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
  ‚≤ò –ø—É–ª = —Å–æ–∑–¥–∞—Ç—å_–ø—É–ª_–ø–æ—Ç–æ–∫–æ–≤(–∫–æ–Ω—Ñ–∏–≥.–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å)
  ‚≤ò –∑–∞–≤–µ—Ä—à–µ–Ω–æ = 0
  ‚≤ò –≤—Å–µ–≥–æ = –¥–ª–∏–Ω–∞(–∑–∞–¥–∞—á–∏)
  
  ‚≤Æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ < –≤—Å–µ–≥–æ:
    // –ù–∞—Ö–æ–¥–∏–º –≥–æ—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
    ‚≤Æ (–ø—É—Ç—å, –∑–∞–¥–∞—á–∞) –∑–∞–¥–∞—á–∏:
      ‚≤ú !–∑–∞–¥–∞—á–∞.–∑–∞–≤–µ—Ä—à—ë–Ω && –≤—Å–µ_–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏_–≥–æ—Ç–æ–≤—ã(–∑–∞–¥–∞—á–∞, –∑–∞–¥–∞—á–∏):
        // –ó–∞–ø—É—Å–∫–∞–µ–º
        –ø—É–ª.submit(() -> {
          –ø–µ—á–∞—Ç—å("üî® " + –ø—É—Ç—å)
          –∑–∞–¥–∞—á–∞.—Ä–µ–∑—É–ª—å—Ç–∞—Ç = –≤—ã–ø–æ–ª–Ω–∏—Ç—å_–∫–æ–º–∞–Ω–¥—É(–∑–∞–¥–∞—á–∞.–∫–æ–º–∞–Ω–¥–∞)
          –∑–∞–¥–∞—á–∞.–∑–∞–≤–µ—Ä—à—ë–Ω = ‚≤Ä
        })
    
    // –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
    –ø—É–ª.wait_any()
    –∑–∞–≤–µ—Ä—à–µ–Ω–æ = –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å_–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ(–∑–∞–¥–∞—á–∏)
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  ‚≤Æ (–ø—É—Ç—å, –∑–∞–¥–∞—á–∞) –∑–∞–¥–∞—á–∏:
    ‚≤ú –∑–∞–¥–∞—á–∞.—Ä–µ–∑—É–ª—å—Ç–∞—Ç != 0:
      –ø–µ—á–∞—Ç—å("‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏: " + –ø—É—Ç—å)
      ‚≤¢ ‚≤Ç
  
  ‚≤¢ ‚≤Ä

// –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
‚≤™ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_–∫–æ–º–∞–Ω–¥—É(—É–∑–µ–ª: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤ö‚≤ü‚≤á‚≤â, –∫–æ–Ω—Ñ–∏–≥: ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö) -> ‚≤§:
  ‚≤ò cmd = "999c"
  
  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
  cmd += " " + –∫–æ–Ω—Ñ–∏–≥.–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
  
  // –û—Ç–ª–∞–¥–∫–∞
  ‚≤ú –∫–æ–Ω—Ñ–∏–≥.–æ—Ç–ª–∞–¥–∫–∞:
    cmd += " -g"
  
  // LTO
  ‚≤ú –∫–æ–Ω—Ñ–∏–≥.lto:
    cmd += " -flto"
  
  // –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞
  cmd += " --target=" + –∫–æ–Ω—Ñ–∏–≥.—Ü–µ–ª–µ–≤–∞—è_–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
  
  ‚≤ú —É–∑–µ–ª.—Ç–∏–ø == OBJECT:
    cmd += " -c " + —É–∑–µ–ª.–ø—É—Ç—å.replace(".o", ".999")
    cmd += " -o " + —É–∑–µ–ª.–ø—É—Ç—å
  ‚≤ú —É–∑–µ–ª.—Ç–∏–ø == BINARY:
    cmd += " -o " + —É–∑–µ–ª.–ø—É—Ç—å
    // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –æ–±—ä–µ–∫—Ç–Ω–∏–∫–∏
    cmd += " *.o"
  
  ‚≤¢ cmd

// ============================================
// –ü–†–û–§–ò–õ–ò –°–ë–û–†–ö–ò
// ============================================

‚≤™ –ø—Ä–æ—Ñ–∏–ª—å_debug() -> ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö:
  ‚≤¢ ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö {
    –ø—Ä–æ—Ñ–∏–ª—å: DEBUG,
    —Ü–µ–ª–µ–≤–∞—è_–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞: —Ç–µ–∫—É—â–∞—è_–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞(),
    –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: "-O0",
    –æ—Ç–ª–∞–¥–∫–∞: ‚≤Ä,
    lto: ‚≤Ç,
    –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_—è–¥–µ—Ä(),
    –∏—Å—Ö–æ–¥–Ω–∏–∫–∏: "src",
    –≤—ã—Ö–æ–¥: "target/debug",
    –∫—ç—à: ".999/cache/debug"
  }

‚≤™ –ø—Ä–æ—Ñ–∏–ª—å_release() -> ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö:
  ‚≤¢ ‚≤Ç‚≤©‚≤ì‚≤ó‚≤á‚≤î‚≤ü‚≤õ‚≤´‚≤ì‚≤Ö {
    –ø—Ä–æ—Ñ–∏–ª—å: RELEASE,
    —Ü–µ–ª–µ–≤–∞—è_–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞: —Ç–µ–∫—É—â–∞—è_–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞(),
    –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: "-O3",
    –æ—Ç–ª–∞–¥–∫–∞: ‚≤Ç,
    lto: ‚≤Ä,
    –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_—è–¥–µ—Ä(),
    –∏—Å—Ö–æ–¥–Ω–∏–∫–∏: "src",
    –≤—ã—Ö–æ–¥: "target/release",
    –∫—ç—à: ".999/cache/release"
  }

// ============================================
// CLI
// ============================================

‚≤™ main(–∞—Ä–≥—É–º–µ–Ω—Ç—ã: [‚≤§]) -> ‚≤ä:
  ‚≤ò –ø—Ä–æ—Ñ–∏–ª—å = DEBUG
  ‚≤ò —Ü–µ–ª—å: ‚≤§? = None
  ‚≤ò clean = ‚≤Ç
  
  // –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
  ‚≤Æ i 1..–¥–ª–∏–Ω–∞(–∞—Ä–≥—É–º–µ–Ω—Ç—ã):
    ‚≤ò –∞—Ä–≥ = –∞—Ä–≥—É–º–µ–Ω—Ç—ã[i]
    ‚≤ú –∞—Ä–≥ == "--release": –ø—Ä–æ—Ñ–∏–ª—å = RELEASE
    ‚≤ú –∞—Ä–≥ == "--debug": –ø—Ä–æ—Ñ–∏–ª—å = DEBUG
    ‚≤ú –∞—Ä–≥ == "clean": clean = ‚≤Ä
    ‚≤ú –∞—Ä–≥ == "test": –ø—Ä–æ—Ñ–∏–ª—å = TEST
    ‚≤ú –∞—Ä–≥ == "bench": –ø—Ä–æ—Ñ–∏–ª—å = BENCH
    ‚≤ú !–∞—Ä–≥.starts_with("-"): —Ü–µ–ª—å = –∞—Ä–≥
  
  // Clean
  ‚≤ú clean:
    –ø–µ—á–∞—Ç—å("üßπ –û—á–∏—Å—Ç–∫–∞...")
    —É–¥–∞–ª–∏—Ç—å_–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é("target")
    —É–¥–∞–ª–∏—Ç—å_–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é(".999/cache")
    –ø–µ—á–∞—Ç—å("‚úÖ –û—á–∏—â–µ–Ω–æ")
    ‚≤¢ 0
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–∞–Ω–∏—Ñ–µ—Å—Ç
  ‚≤ò –º–∞–Ω–∏—Ñ–µ—Å—Ç = —á–∏—Ç–∞—Ç—å_–º–∞–Ω–∏—Ñ–µ—Å—Ç("999.toml")
  
  // –í—ã–±–∏—Ä–∞–µ–º –∫–æ–Ω—Ñ–∏–≥
  ‚≤ò –∫–æ–Ω—Ñ–∏–≥ = ‚≤ú –ø—Ä–æ—Ñ–∏–ª—å == RELEASE: –ø—Ä–æ—Ñ–∏–ª—å_release() ‚≤Ç: –ø—Ä–æ—Ñ–∏–ª—å_debug()
  
  // –°—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ
  –ø–µ—á–∞—Ç—å("üìä –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...")
  ‚≤ò –≥—Ä–∞—Ñ = –ø–æ—Å—Ç—Ä–æ–∏—Ç—å_–≥—Ä–∞—Ñ(–º–∞–Ω–∏—Ñ–µ—Å—Ç, –∫–æ–Ω—Ñ–∏–≥)
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫—ç—à
  ‚≤ò –∫—ç—à = –∑–∞–≥—Ä—É–∑–∏—Ç—å_–∫—ç—à(–∫–æ–Ω—Ñ–∏–≥.–∫—ç—à)
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ
  –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_—É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ(–≥—Ä–∞—Ñ, –∫—ç—à)
  
  ‚≤ò —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö = –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å_—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ(–≥—Ä–∞—Ñ)
  ‚≤ú —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö == 0:
    –ø–µ—á–∞—Ç—å("‚úÖ –í—Å—ë –∞–∫—Ç—É–∞–ª—å–Ω–æ")
    ‚≤¢ 0
  
  –ø–µ—á–∞—Ç—å("üî® –°–±–æ—Ä–∫–∞ " + —Å—Ç—Ä–æ–∫–∞(—É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö) + " —Ñ–∞–π–ª–æ–≤...")
  
  // –°–æ–±–∏—Ä–∞–µ–º
  ‚≤ò —É—Å–ø–µ—Ö = —Å–æ–±—Ä–∞—Ç—å_–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ(–≥—Ä–∞—Ñ, –∫–æ–Ω—Ñ–∏–≥)
  
  ‚≤ú —É—Å–ø–µ—Ö:
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫—ç—à
    –æ–±–Ω–æ–≤–∏—Ç—å_–∫—ç—à(–∫—ç—à, –≥—Ä–∞—Ñ)
    —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å_–∫—ç—à(–∫—ç—à)
    –ø–µ—á–∞—Ç—å("‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: " + –∫–æ–Ω—Ñ–∏–≥.–≤—ã—Ö–æ–¥ + "/" + –º–∞–Ω–∏—Ñ–µ—Å—Ç.–∏–º—è)
    ‚≤¢ 0
  ‚≤Ç:
    –ø–µ—á–∞—Ç—å("‚ùå –°–±–æ—Ä–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å")
    ‚≤¢ 1
