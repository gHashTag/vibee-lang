# 999 OS — Троичная операционная система

```
╔══════════════════════════════════════════════════════════════════════════════╗
║                              999 OS                                          ║
║                    Троичная операционная система                             ║
║                    100% написана на языке 999                                ║
╚══════════════════════════════════════════════════════════════════════════════╝
```

## Архитектура

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           USERSPACE                                         │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐               │
│  │  shell  │ │  999c   │ │  edit   │ │  files  │ │  apps   │               │
│  └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘               │
│       └───────────┴───────────┴───────────┴───────────┘                     │
│                              │                                               │
│                         SYSCALL INTERFACE                                    │
│                              │                                               │
├──────────────────────────────┼──────────────────────────────────────────────┤
│                           KERNEL                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                        SYSCALL HANDLER                               │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│       │              │              │              │              │          │
│  ┌────┴────┐   ┌────┴────┐   ┌────┴────┐   ┌────┴────┐   ┌────┴────┐       │
│  │ PROCESS │   │ MEMORY  │   │   FS    │   │   IPC   │   │   NET   │       │
│  │ MANAGER │   │ MANAGER │   │ TritFS  │   │ MANAGER │   │  STACK  │       │
│  └────┬────┘   └────┬────┘   └────┬────┘   └────┬────┘   └────┬────┘       │
│       └───────────┬─┴───────────┬─┴───────────┬─┴───────────┬─┘            │
│                   │             │             │             │               │
│  ┌────────────────┴─────────────┴─────────────┴─────────────┴────────────┐  │
│  │                    HARDWARE ABSTRACTION LAYER (HAL)                   │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                    │                                         │
├────────────────────────────────────┼────────────────────────────────────────┤
│                               DRIVERS                                        │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐               │
│  │ CONSOLE │ │  DISK   │ │ NETWORK │ │  TIMER  │ │  TSIMD  │               │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘               │
└─────────────────────────────────────────────────────────────────────────────┘
                                    │
                               HARDWARE
                    (x86_64 / ARM64 / WASM / TSIMD)
```

## Структура файлов

```
src/999/os/
├── boot/
│   ├── boot.999          # Загрузчик
│   └── multiboot.999     # Multiboot header
├── kernel/
│   ├── kernel.999        # Главный модуль ядра
│   ├── panic.999         # Обработка паники
│   └── version.999       # Информация о версии
├── memory/
│   ├── allocator.999     # Аллокатор памяти
│   ├── paging.999        # Страничная память
│   └── heap.999          # Куча
├── process/
│   ├── process.999       # Управление процессами
│   ├── scheduler.999     # Планировщик
│   └── thread.999        # Потоки
├── fs/
│   ├── tritfs.999        # Троичная файловая система
│   ├── vfs.999           # Виртуальная ФС
│   └── devfs.999         # Устройства как файлы
├── ipc/
│   ├── pipe.999          # Каналы
│   ├── signal.999        # Сигналы
│   └── shm.999           # Разделяемая память
├── syscall/
│   ├── syscall.999       # Системные вызовы
│   └── table.999         # Таблица syscall
├── drivers/
│   ├── console.999       # Консоль
│   ├── disk.999          # Диск
│   ├── timer.999         # Таймер
│   └── tsimd.999         # Троичный SIMD
├── hal/
│   ├── hal.999           # HAL интерфейс
│   ├── x86_64.999        # x86_64 платформа
│   ├── arm64.999         # ARM64 платформа
│   └── wasm.999          # WASM платформа
├── net/
│   ├── tcp.999           # TCP стек
│   ├── udp.999           # UDP
│   └── socket.999        # Сокеты
├── shell/
│   ├── shell.999         # Командная оболочка
│   └── commands.999      # Встроенные команды
├── userspace/
│   ├── init.999          # Init процесс
│   ├── libc.999          # Стандартная библиотека
│   └── utils.999         # Утилиты
└── evolution.999         # Эволюционный bootstrap OS
```

## Особенности 999 OS

### Троичная архитектура

- **Trit** — базовая единица (△/○/▽ = +1/0/-1)
- **Tryte** — 3 трита = 27 значений
- **Word** — 27 тритов = 7.6 трлн значений

### TritFS — Троичная файловая система

- Сбалансированные B-деревья на тритах
- Троичное хеширование
- Журналирование

### TSIMD — Троичный SIMD

- Параллельные троичные операции
- 27 тритов за такт

## Эволюция 999 OS

```
Zig ──► OS v1 ──► OS v2 ──► OS v3 ──► OS v∞
         ↓         ↓         ↓         ↓
      базовое   +TritFS   +TSIMD   self-hosted
       ядро                        (ядро на 999)
```

## Запуск

```bash
# Сборка
./999c -O3 src/999/os/boot/boot.999 -o 999os.bin

# Запуск в QEMU
qemu-system-x86_64 -kernel 999os.bin

# Запуск в WASM
./999c --target=wasm32 src/999/os/kernel/kernel.999 -o 999os.wasm
```
