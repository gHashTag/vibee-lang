name: vibee_templates
version: "1.0.0"
language: zig
module: vibee_templates
target: templates.zig
description: Project templates for vibee init

behaviors:
  - name: generate_project_structure
    given: Project name and target language
    when: vibee init called
    then: Complete project structure created
    test_cases:
      - name: create_zig_project
        input: {name: "my-project", target: "zig"}
        expected: {dirs_created: 6, files_created: 10}

  - name: generate_config_files
    given: Project configuration
    when: Templates applied
    then: Config files generated
    test_cases:
      - name: generate_vibee_toml
        input: {name: "test", target: "zig"}
        expected: {file: "vibee.toml", valid: true}

  - name: generate_examples
    given: Target language
    when: Examples requested
    then: Example specs created
    test_cases:
      - name: create_hello_example
        input: {target: "zig"}
        expected: {file: "pollen/examples/hello.vibee"}

types:
  ProjectTemplate:
    name: String
    target: String
    include_examples: Bool
    include_vscode: Bool
    include_git: Bool
    
  DirectoryStructure:
    pollen: String
    storage: String
    modules: String
    lib: String
    tooling: String
    docs: String
    
  ConfigFile:
    path: String
    content: String
    
  ExampleSpec:
    name: String
    path: String
    content: String

functions:
  - name: create_directory_structure
    params: {template: ProjectTemplate}
    returns: Result<DirectoryStructure, Error>
    
  - name: generate_vibee_toml
    params: {name: String, target: String}
    returns: Result<ConfigFile, Error>
    
  - name: generate_gitignore
    params: {}
    returns: Result<ConfigFile, Error>
    
  - name: generate_readme
    params: {name: String}
    returns: Result<ConfigFile, Error>
    
  - name: generate_examples
    params: {target: String}
    returns: Result<List<ExampleSpec>, Error>
    
  - name: setup_vscode
    params: {project_path: String}
    returns: Result<Void, Error>

imports:
  - std
  - std.fs
  - std.fmt
