// Generated by vibeec from physics_converter.vibee
// Module: physics_converter
// Version: 1.0.0
// Description: Physics conversions using VIBEE's universal transformation pattern

const std = @import("std");

// Constants

const SPEED_OF_LIGHT: f64 = 299792458.0; // m/s
const GRAVITATIONAL_CONSTANT: f64 = 6.67430e-11; // N⋅m²/kg²
const PLANCK_CONSTANT: f64 = 6.62607015e-34; // J⋅s
const EARTH_GRAVITY: f64 = 9.80665; // m/s²

// Functions

pub fn massToEnergy(mass_kg: f64) f64 {
    // E = mc²
    return mass_kg * SPEED_OF_LIGHT * SPEED_OF_LIGHT;
}

pub fn energyToMass(energy_j: f64) f64 {
    // m = E / c²
    return energy_j / (SPEED_OF_LIGHT * SPEED_OF_LIGHT);
}

pub fn kineticEnergy(mass_kg: f64, velocity_ms: f64) f64 {
    // KE = ½mv²
    return 0.5 * mass_kg * velocity_ms * velocity_ms;
}

pub fn gravitationalPotential(mass_kg: f64, height_m: f64, gravity_ms2: f64) f64 {
    // PE = mgh
    return mass_kg * gravity_ms2 * height_m;
}

pub fn momentum(mass_kg: f64, velocity_ms: f64) f64 {
    // p = mv
    return mass_kg * velocity_ms;
}

pub fn force(mass_kg: f64, acceleration_ms2: f64) f64 {
    // F = ma (Newton's second law)
    return mass_kg * acceleration_ms2;
}

// Test cases (from spec)

test "mass_to_energy - one_kilogram" {
    // 1 kg → energy
    // E = mc² = 1 * (299792458)² = 8.987551787×10¹⁶ J
    const result = massToEnergy(1.0);
    const expected: f64 = 89875517873681764.0;
    
    try std.testing.expectApproxEqRel(expected, result, 0.0001);
}

test "mass_to_energy - one_gram" {
    // 0.001 kg (1 gram) → energy
    const result = massToEnergy(0.001);
    const expected: f64 = 89875517873681.764;
    
    try std.testing.expectApproxEqRel(expected, result, 0.0001);
}

test "energy_to_mass - large_energy" {
    // 8.987551787×10¹⁶ J → 1 kg
    const result = energyToMass(89875517873681764.0);
    
    try std.testing.expectApproxEqAbs(@as(f64, 1.0), result, 0.0001);
}

test "kinetic_energy - simple_kinetic" {
    // KE = ½mv² = ½ * 2 * 10² = 100 J
    const result = kineticEnergy(2.0, 10.0);
    
    try std.testing.expectApproxEqAbs(@as(f64, 100.0), result, 0.0001);
}

test "gravitational_potential - simple_potential" {
    // PE = mgh = 1 * 9.8 * 10 = 98 J
    const result = gravitationalPotential(1.0, 10.0, 9.8);
    
    try std.testing.expectApproxEqAbs(@as(f64, 98.0), result, 0.0001);
}

test "momentum" {
    // p = mv = 2 * 10 = 20 kg⋅m/s
    const result = momentum(2.0, 10.0);
    
    try std.testing.expectApproxEqAbs(@as(f64, 20.0), result, 0.0001);
}

test "force - newton_second_law" {
    // F = ma = 2 * 10 = 20 N
    const result = force(2.0, 10.0);
    
    try std.testing.expectApproxEqAbs(@as(f64, 20.0), result, 0.0001);
}

test "constants" {
    // Verify constants are correct
    try std.testing.expectApproxEqAbs(@as(f64, 299792458.0), SPEED_OF_LIGHT, 0.1);
    try std.testing.expectApproxEqAbs(@as(f64, 9.80665), EARTH_GRAVITY, 0.0001);
}
