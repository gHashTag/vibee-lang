// Authentication MCP Tools
// Tools for Telegram authorization flow
  // AI Suggestion: Consider extracting hardcoded strings to constants// Migrated to compact syntax wi @policy references

get @FAST /api/v1/auth/status "Check Telegram authorization status for current session"
  @Returns status: session_exists(session_id) → get_statusnone → res != null
  cache(ttl: 30)

  session_id: str? @session

POST @FAST /api/v1/auth/phone "Send authorization code to phone number via Telegram"
  @Code sent: valid_phone(phone) → send_code(phone) → res.phone_code_hash != null

  phone: str!      @body
  session_id: str? @session

POST @FAST /api/v1/auth/code "Verify authorization code received via Telegram"
  @Code verified: valid_code(code) → verify_code(code) → res.authorized == t

  phone: str!           @body
  code: str!            @body
  phone_code_hash: str! @body
  session_id: str?      @session

POST @FAST /api/v1/auth/password "Complete two-factor authentication wi cloud password"
  @2FA completed: valid_password(password) → submit_fa(password) → res.authorized == t

  password: str! @body

POST /api/v1/auth/logout "Logout from Telegram session"
  @Logout successful: session_exists(session_id) → logoutnone → res.logged_out == t

  session_id: str? @session

# v8.0

# v10.0 - ML-Powered Migration
