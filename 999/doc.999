// ============================================
// 999DOC - –ì–ï–ù–ï–†–ê–¢–û–† –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò
// ============================================
//
// –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
//   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ doc-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
//   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML/Markdown
//   - –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
//   - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
//   - –ö—Ä–æ—Å—Å-—Å—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
//
// ============================================

‚≤® arifmetika

// ============================================
// –°–¢–†–£–ö–¢–£–†–´ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò
// ============================================

// –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
‚≤à ‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô‚≤¶‚≤©‚≤°‚≤â:
  MODULE
  FUNCTION
  STRUCT
  ENUM
  CONSTANT
  TYPE_ALIAS

‚≤é ‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô:
  —Ç–∏–ø: ‚≤à ‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô‚≤¶‚≤©‚≤°‚≤â
  –∏–º—è: ‚≤§
  –ø—É—Ç—å: ‚≤§              // module.submodule.item
  –æ–ø–∏—Å–∞–Ω–∏–µ: ‚≤§
  –ø—Ä–∏–º–µ—Ä—ã: [‚≤§]
  –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: [‚≤å‚≤ü‚≤•‚≤†‚≤Å‚≤£‚≤Å‚≤ô]?
  –≤–æ–∑–≤—Ä–∞—Ç: ‚≤§?
  –≤–∏–¥–∏–º–æ—Å—Ç—å: ‚≤§         // public, private
  –∏—Å—Ö–æ–¥–Ω–∏–∫: ‚≤å‚≤ü‚≤•‚≤§‚≤ü‚≤©‚≤£‚≤•‚≤â
  —Å–≤—è–∑–∞–Ω–Ω—ã–µ: [‚≤§]       // –°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

‚≤é ‚≤å‚≤ü‚≤•‚≤†‚≤Å‚≤£‚≤Å‚≤ô:
  –∏–º—è: ‚≤§
  —Ç–∏–ø: ‚≤§
  –æ–ø–∏—Å–∞–Ω–∏–µ: ‚≤§?
  –ø–æ_—É–º–æ–ª—á–∞–Ω–∏—é: ‚≤§?

‚≤é ‚≤å‚≤ü‚≤•‚≤§‚≤ü‚≤©‚≤£‚≤•‚≤â:
  —Ñ–∞–π–ª: ‚≤§
  —Å—Ç—Ä–æ–∫–∞: ‚≤ä
  –∫–æ–ª–æ–Ω–∫–∞: ‚≤ä

// –ú–æ–¥—É–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚≤é ‚≤å‚≤ü‚≤•‚≤ò‚≤ü‚≤á‚≤©‚≤ó‚≤â:
  –∏–º—è: ‚≤§
  –æ–ø–∏—Å–∞–Ω–∏–µ: ‚≤§
  —ç–ª–µ–º–µ–Ω—Ç—ã: [‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô]
  –ø–æ–¥–º–æ–¥—É–ª–∏: [‚≤å‚≤ü‚≤•‚≤ò‚≤ü‚≤á‚≤©‚≤ó‚≤â]

// –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚≤é ‚≤å‚≤ü‚≤•‚≤©‚≤ô‚≤â‚≤õ‚≤ß‚≤Å‚≤ß‚≤ì‚≤ü‚≤õ:
  –Ω–∞–∑–≤–∞–Ω–∏–µ: ‚≤§
  –≤–µ—Ä—Å–∏—è: ‚≤§
  –º–æ–¥—É–ª–∏: [‚≤å‚≤ü‚≤•‚≤ò‚≤ü‚≤á‚≤©‚≤ó‚≤â]
  –∏–Ω–¥–µ–∫—Å: {‚≤§: ‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô}

// ============================================
// –ü–ê–†–°–ò–ù–ì DOC-–ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í
// ============================================

// –§–æ—Ä–º–∞—Ç doc-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:
// /// –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
// ///
// /// –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
// ///
// /// # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
// /// - `–∏–º—è`: –æ–ø–∏—Å–∞–Ω–∏–µ
// ///
// /// # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç
// /// –æ–ø–∏—Å–∞–Ω–∏–µ
// ///
// /// # –ü—Ä–∏–º–µ—Ä—ã
// /// ```
// /// –∫–æ–¥ –ø—Ä–∏–º–µ—Ä–∞
// /// ```

‚≤™ –ø–∞—Ä—Å–∏—Ç—å_doc_–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π(—Å—Ç—Ä–æ–∫–∏: [‚≤§]) -> ‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô:
  ‚≤ò –æ–ø–∏—Å–∞–Ω–∏–µ = ""
  ‚≤ò –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: [‚≤å‚≤ü‚≤•‚≤†‚≤Å‚≤£‚≤Å‚≤ô] = []
  ‚≤ò –≤–æ–∑–≤—Ä–∞—Ç: ‚≤§? = None
  ‚≤ò –ø—Ä–∏–º–µ—Ä—ã: [‚≤§] = []
  
  ‚≤ò —Å–µ–∫—Ü–∏—è = "–æ–ø–∏—Å–∞–Ω–∏–µ"
  ‚≤ò —Ç–µ–∫—É—â–∏–π_–ø—Ä–∏–º–µ—Ä = ""
  ‚≤ò –≤_–ø—Ä–∏–º–µ—Ä–µ = ‚≤Ç
  
  ‚≤Æ —Å—Ç—Ä–æ–∫–∞ —Å—Ç—Ä–æ–∫–∏:
    ‚≤ò —Ç–µ–∫—Å—Ç = —Å—Ç—Ä–æ–∫–∞.trim_start("/// ").trim()
    
    ‚≤ú —Ç–µ–∫—Å—Ç == "# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã":
      —Å–µ–∫—Ü–∏—è = "–ø–∞—Ä–∞–º–µ—Ç—Ä—ã"
      ‚≤û
    ‚≤ú —Ç–µ–∫—Å—Ç == "# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç":
      —Å–µ–∫—Ü–∏—è = "–≤–æ–∑–≤—Ä–∞—Ç"
      ‚≤û
    ‚≤ú —Ç–µ–∫—Å—Ç == "# –ü—Ä–∏–º–µ—Ä—ã":
      —Å–µ–∫—Ü–∏—è = "–ø—Ä–∏–º–µ—Ä—ã"
      ‚≤û
    
    ‚≤ú —Ç–µ–∫—Å—Ç.starts_with("```"):
      ‚≤ú –≤_–ø—Ä–∏–º–µ—Ä–µ:
        –ø—Ä–∏–º–µ—Ä—ã += —Ç–µ–∫—É—â–∏–π_–ø—Ä–∏–º–µ—Ä
        —Ç–µ–∫—É—â–∏–π_–ø—Ä–∏–º–µ—Ä = ""
        –≤_–ø—Ä–∏–º–µ—Ä–µ = ‚≤Ç
      ‚≤Ç:
        –≤_–ø—Ä–∏–º–µ—Ä–µ = ‚≤Ä
      ‚≤û
    
    ‚≤ú –≤_–ø—Ä–∏–º–µ—Ä–µ:
      —Ç–µ–∫—É—â–∏–π_–ø—Ä–∏–º–µ—Ä += —Ç–µ–∫—Å—Ç + "\n"
      ‚≤û
    
    ‚≤ú —Å–µ–∫—Ü–∏—è == "–æ–ø–∏—Å–∞–Ω–∏–µ":
      –æ–ø–∏—Å–∞–Ω–∏–µ += —Ç–µ–∫—Å—Ç + "\n"
    ‚≤ú —Å–µ–∫—Ü–∏—è == "–ø–∞—Ä–∞–º–µ—Ç—Ä—ã" && —Ç–µ–∫—Å—Ç.starts_with("- `"):
      ‚≤ò —á–∞—Å—Ç–∏ = –ø–∞—Ä—Å–∏—Ç—å_–ø–∞—Ä–∞–º–µ—Ç—Ä(—Ç–µ–∫—Å—Ç)
      –ø–∞—Ä–∞–º–µ—Ç—Ä—ã += —á–∞—Å—Ç–∏
    ‚≤ú —Å–µ–∫—Ü–∏—è == "–≤–æ–∑–≤—Ä–∞—Ç":
      –≤–æ–∑–≤—Ä–∞—Ç = —Ç–µ–∫—Å—Ç
  
  ‚≤¢ ‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô {
    —Ç–∏–ø: FUNCTION,
    –∏–º—è: "",
    –ø—É—Ç—å: "",
    –æ–ø–∏—Å–∞–Ω–∏–µ: –æ–ø–∏—Å–∞–Ω–∏–µ.trim(),
    –ø—Ä–∏–º–µ—Ä—ã: –ø—Ä–∏–º–µ—Ä—ã,
    –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã,
    –≤–æ–∑–≤—Ä–∞—Ç: –≤–æ–∑–≤—Ä–∞—Ç,
    –≤–∏–¥–∏–º–æ—Å—Ç—å: "public",
    –∏—Å—Ö–æ–¥–Ω–∏–∫: ‚≤å‚≤ü‚≤•‚≤§‚≤ü‚≤©‚≤£‚≤•‚≤â { —Ñ–∞–π–ª: "", —Å—Ç—Ä–æ–∫–∞: 0, –∫–æ–ª–æ–Ω–∫–∞: 0 },
    —Å–≤—è–∑–∞–Ω–Ω—ã–µ: []
  }

// –ü–∞—Ä—Å–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ —Å—Ç—Ä–æ–∫–∏ "- `–∏–º—è`: –æ–ø–∏—Å–∞–Ω–∏–µ"
‚≤™ –ø–∞—Ä—Å–∏—Ç—å_–ø–∞—Ä–∞–º–µ—Ç—Ä(—Å—Ç—Ä–æ–∫–∞: ‚≤§) -> ‚≤å‚≤ü‚≤•‚≤†‚≤Å‚≤£‚≤Å‚≤ô:
  ‚≤ò –±–µ–∑_–ø—Ä–µ—Ñ–∏–∫—Å–∞ = —Å—Ç—Ä–æ–∫–∞.trim_start("- `")
  ‚≤ò —á–∞—Å—Ç–∏ = –±–µ–∑_–ø—Ä–µ—Ñ–∏–∫—Å–∞.split("`:")
  ‚≤¢ ‚≤å‚≤ü‚≤•‚≤†‚≤Å‚≤£‚≤Å‚≤ô {
    –∏–º—è: —á–∞—Å—Ç–∏[0],
    —Ç–∏–ø: "",
    –æ–ø–∏—Å–∞–Ω–∏–µ: —á–∞—Å—Ç–∏[1].trim(),
    –ø–æ_—É–º–æ–ª—á–∞–Ω–∏—é: None
  }

// ============================================
// –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò –ò–ó –ö–û–î–ê
// ============================================

‚≤™ –∏–∑–≤–ª–µ—á—å_–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é(–∏—Å—Ö–æ–¥–Ω–∏–∫: ‚≤§) -> [‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô]:
  ‚≤ò —ç–ª–µ–º–µ–Ω—Ç—ã: [‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô] = []
  ‚≤ò —Å—Ç—Ä–æ–∫–∏ = –∏—Å—Ö–æ–¥–Ω–∏–∫.split("\n")
  ‚≤ò doc_—Å—Ç—Ä–æ–∫–∏: [‚≤§] = []
  
  ‚≤Æ i 0..–¥–ª–∏–Ω–∞(—Å—Ç—Ä–æ–∫–∏):
    ‚≤ò —Å—Ç—Ä–æ–∫–∞ = —Å—Ç—Ä–æ–∫–∏[i]
    
    ‚≤ú —Å—Ç—Ä–æ–∫–∞.trim().starts_with("///"):
      doc_—Å—Ç—Ä–æ–∫–∏ += —Å—Ç—Ä–æ–∫–∞
    ‚≤Ç:
      ‚≤ú –¥–ª–∏–Ω–∞(doc_—Å—Ç—Ä–æ–∫–∏) > 0:
        // –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
        ‚≤ò —ç–ª–µ–º–µ–Ω—Ç = –ø–∞—Ä—Å–∏—Ç—å_doc_–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π(doc_—Å—Ç—Ä–æ–∫–∏)
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∏ –∏–º—è –∏–∑ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–∏
        ‚≤ú —Å—Ç—Ä–æ–∫–∞.trim().starts_with("‚≤™ "):
          —ç–ª–µ–º–µ–Ω—Ç.—Ç–∏–ø = FUNCTION
          —ç–ª–µ–º–µ–Ω—Ç.–∏–º—è = –∏–∑–≤–ª–µ—á—å_–∏–º—è_—Ñ—É–Ω–∫—Ü–∏–∏(—Å—Ç—Ä–æ–∫–∞)
        ‚≤ú —Å—Ç—Ä–æ–∫–∞.trim().starts_with("‚≤é "):
          —ç–ª–µ–º–µ–Ω—Ç.—Ç–∏–ø = STRUCT
          —ç–ª–µ–º–µ–Ω—Ç.–∏–º—è = –∏–∑–≤–ª–µ—á—å_–∏–º—è_—Å—Ç—Ä—É–∫—Ç—É—Ä—ã(—Å—Ç—Ä–æ–∫–∞)
        ‚≤ú —Å—Ç—Ä–æ–∫–∞.trim().starts_with("‚≤à "):
          —ç–ª–µ–º–µ–Ω—Ç.—Ç–∏–ø = ENUM
          —ç–ª–µ–º–µ–Ω—Ç.–∏–º—è = –∏–∑–≤–ª–µ—á—å_–∏–º—è_enum(—Å—Ç—Ä–æ–∫–∞)
        
        —ç–ª–µ–º–µ–Ω—Ç.–∏—Å—Ö–æ–¥–Ω–∏–∫.—Å—Ç—Ä–æ–∫–∞ = i + 1
        —ç–ª–µ–º–µ–Ω—Ç—ã += —ç–ª–µ–º–µ–Ω—Ç
        doc_—Å—Ç—Ä–æ–∫–∏ = []
  
  ‚≤¢ —ç–ª–µ–º–µ–Ω—Ç—ã

// ============================================
// –ì–ï–ù–ï–†–ê–¶–ò–Ø HTML
// ============================================

‚≤™ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html(–¥–æ–∫: ‚≤å‚≤ü‚≤•‚≤©‚≤ô‚≤â‚≤õ‚≤ß‚≤Å‚≤ß‚≤ì‚≤ü‚≤õ) -> ‚≤§:
  ‚≤ò html = "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n"
  html += "  <meta charset=\"UTF-8\">\n"
  html += "  <title>" + –¥–æ–∫.–Ω–∞–∑–≤–∞–Ω–∏–µ + " - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>\n"
  html += "  <link rel=\"stylesheet\" href=\"style.css\">\n"
  html += "</head>\n<body>\n"
  
  // –ù–∞–≤–∏–≥–∞—Ü–∏—è
  html += "<nav class=\"sidebar\">\n"
  html += "  <h1>" + –¥–æ–∫.–Ω–∞–∑–≤–∞–Ω–∏–µ + "</h1>\n"
  html += "  <p class=\"version\">v" + –¥–æ–∫.–≤–µ—Ä—Å–∏—è + "</p>\n"
  html += "  <input type=\"search\" placeholder=\"–ü–æ–∏—Å–∫...\" id=\"search\">\n"
  html += "  <ul class=\"modules\">\n"
  ‚≤Æ –º–æ–¥—É–ª—å –¥–æ–∫.–º–æ–¥—É–ª–∏:
    html += –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_nav_–º–æ–¥—É–ª—å(–º–æ–¥—É–ª—å)
  html += "  </ul>\n"
  html += "</nav>\n"
  
  // –ö–æ–Ω—Ç–µ–Ω—Ç
  html += "<main class=\"content\">\n"
  ‚≤Æ –º–æ–¥—É–ª—å –¥–æ–∫.–º–æ–¥—É–ª–∏:
    html += –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html_–º–æ–¥—É–ª—å(–º–æ–¥—É–ª—å)
  html += "</main>\n"
  
  html += "<script src=\"search.js\"></script>\n"
  html += "</body>\n</html>"
  
  ‚≤¢ html

‚≤™ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html_–º–æ–¥—É–ª—å(–º–æ–¥—É–ª—å: ‚≤å‚≤ü‚≤•‚≤ò‚≤ü‚≤á‚≤©‚≤ó‚≤â) -> ‚≤§:
  ‚≤ò html = "<section id=\"" + –º–æ–¥—É–ª—å.–∏–º—è + "\" class=\"module\">\n"
  html += "  <h2>" + –º–æ–¥—É–ª—å.–∏–º—è + "</h2>\n"
  html += "  <p class=\"description\">" + –º–æ–¥—É–ª—å.–æ–ø–∏—Å–∞–Ω–∏–µ + "</p>\n"
  
  // –§—É–Ω–∫—Ü–∏–∏
  ‚≤ò —Ñ—É–Ω–∫—Ü–∏–∏ = –º–æ–¥—É–ª—å.—ç–ª–µ–º–µ–Ω—Ç—ã.filter(—ç -> —ç.—Ç–∏–ø == FUNCTION)
  ‚≤ú –¥–ª–∏–Ω–∞(—Ñ—É–Ω–∫—Ü–∏–∏) > 0:
    html += "  <h3>–§—É–Ω–∫—Ü–∏–∏</h3>\n"
    ‚≤Æ —Ñ—É–Ω–∫—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:
      html += –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html_—Ñ—É–Ω–∫—Ü–∏—è(—Ñ—É–Ω–∫—Ü–∏—è)
  
  // –°—Ç—Ä—É–∫—Ç—É—Ä—ã
  ‚≤ò —Å—Ç—Ä—É–∫—Ç—É—Ä—ã = –º–æ–¥—É–ª—å.—ç–ª–µ–º–µ–Ω—Ç—ã.filter(—ç -> —ç.—Ç–∏–ø == STRUCT)
  ‚≤ú –¥–ª–∏–Ω–∞(—Å—Ç—Ä—É–∫—Ç—É—Ä—ã) > 0:
    html += "  <h3>–°—Ç—Ä—É–∫—Ç—É—Ä—ã</h3>\n"
    ‚≤Æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
      html += –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html_—Å—Ç—Ä—É–∫—Ç—É—Ä–∞(—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
  
  // –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
  ‚≤ò enums = –º–æ–¥—É–ª—å.—ç–ª–µ–º–µ–Ω—Ç—ã.filter(—ç -> —ç.—Ç–∏–ø == ENUM)
  ‚≤ú –¥–ª–∏–Ω–∞(enums) > 0:
    html += "  <h3>–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è</h3>\n"
    ‚≤Æ enum enums:
      html += –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html_enum(enum)
  
  html += "</section>\n"
  ‚≤¢ html

‚≤™ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html_—Ñ—É–Ω–∫—Ü–∏—è(—Ñ—É–Ω–∫—Ü–∏—è: ‚≤å‚≤ü‚≤•‚≤é‚≤ß‚≤â‚≤ô) -> ‚≤§:
  ‚≤ò html = "<article id=\"" + —Ñ—É–Ω–∫—Ü–∏—è.–ø—É—Ç—å + "\" class=\"function\">\n"
  html += "  <h4><code>" + —Ñ—É–Ω–∫—Ü–∏—è.–∏–º—è + "</code></h4>\n"
  html += "  <p>" + —Ñ—É–Ω–∫—Ü–∏—è.–æ–ø–∏—Å–∞–Ω–∏–µ + "</p>\n"
  
  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
  ‚≤ú —Ñ—É–Ω–∫—Ü–∏—è.–ø–∞—Ä–∞–º–µ—Ç—Ä—ã != None && –¥–ª–∏–Ω–∞(—Ñ—É–Ω–∫—Ü–∏—è.–ø–∞—Ä–∞–º–µ—Ç—Ä—ã) > 0:
    html += "  <h5>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h5>\n<ul>\n"
    ‚≤Æ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏—è.–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
      html += "    <li><code>" + –ø–∞—Ä–∞–º–µ—Ç—Ä.–∏–º—è + "</code>"
      ‚≤ú –ø–∞—Ä–∞–º–µ—Ç—Ä.—Ç–∏–ø != "":
        html += " : <code>" + –ø–∞—Ä–∞–º–µ—Ç—Ä.—Ç–∏–ø + "</code>"
      ‚≤ú –ø–∞—Ä–∞–º–µ—Ç—Ä.–æ–ø–∏—Å–∞–Ω–∏–µ != None:
        html += " ‚Äî " + –ø–∞—Ä–∞–º–µ—Ç—Ä.–æ–ø–∏—Å–∞–Ω–∏–µ
      html += "</li>\n"
    html += "  </ul>\n"
  
  // –í–æ–∑–≤—Ä–∞—Ç
  ‚≤ú —Ñ—É–Ω–∫—Ü–∏—è.–≤–æ–∑–≤—Ä–∞—Ç != None:
    html += "  <h5>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç</h5>\n"
    html += "  <p>" + —Ñ—É–Ω–∫—Ü–∏—è.–≤–æ–∑–≤—Ä–∞—Ç + "</p>\n"
  
  // –ü—Ä–∏–º–µ—Ä—ã
  ‚≤ú –¥–ª–∏–Ω–∞(—Ñ—É–Ω–∫—Ü–∏—è.–ø—Ä–∏–º–µ—Ä—ã) > 0:
    html += "  <h5>–ü—Ä–∏–º–µ—Ä—ã</h5>\n"
    ‚≤Æ –ø—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏—è.–ø—Ä–∏–º–µ—Ä—ã:
      html += "  <pre><code class=\"language-999\">" + escape_html(–ø—Ä–∏–º–µ—Ä) + "</code></pre>\n"
  
  html += "</article>\n"
  ‚≤¢ html

// ============================================
// –ì–ï–ù–ï–†–ê–¶–ò–Ø MARKDOWN
// ============================================

‚≤™ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_markdown(–¥–æ–∫: ‚≤å‚≤ü‚≤•‚≤©‚≤ô‚≤â‚≤õ‚≤ß‚≤Å‚≤ß‚≤ì‚≤ü‚≤õ) -> ‚≤§:
  ‚≤ò md = "# " + –¥–æ–∫.–Ω–∞–∑–≤–∞–Ω–∏–µ + "\n\n"
  md += "–í–µ—Ä—Å–∏—è: " + –¥–æ–∫.–≤–µ—Ä—Å–∏—è + "\n\n"
  md += "## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ\n\n"
  
  // TOC
  ‚≤Æ –º–æ–¥—É–ª—å –¥–æ–∫.–º–æ–¥—É–ª–∏:
    md += "- [" + –º–æ–¥—É–ª—å.–∏–º—è + "](#" + –º–æ–¥—É–ª—å.–∏–º—è.to_lowercase() + ")\n"
  md += "\n"
  
  // –ú–æ–¥—É–ª–∏
  ‚≤Æ –º–æ–¥—É–ª—å –¥–æ–∫.–º–æ–¥—É–ª–∏:
    md += –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_md_–º–æ–¥—É–ª—å(–º–æ–¥—É–ª—å)
  
  ‚≤¢ md

‚≤™ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_md_–º–æ–¥—É–ª—å(–º–æ–¥—É–ª—å: ‚≤å‚≤ü‚≤•‚≤ò‚≤ü‚≤á‚≤©‚≤ó‚≤â) -> ‚≤§:
  ‚≤ò md = "## " + –º–æ–¥—É–ª—å.–∏–º—è + "\n\n"
  md += –º–æ–¥—É–ª—å.–æ–ø–∏—Å–∞–Ω–∏–µ + "\n\n"
  
  ‚≤Æ —ç–ª–µ–º–µ–Ω—Ç –º–æ–¥—É–ª—å.—ç–ª–µ–º–µ–Ω—Ç—ã:
    ‚≤ú —ç–ª–µ–º–µ–Ω—Ç.—Ç–∏–ø == FUNCTION:
      md += "### `" + —ç–ª–µ–º–µ–Ω—Ç.–∏–º—è + "`\n\n"
      md += —ç–ª–µ–º–µ–Ω—Ç.–æ–ø–∏—Å–∞–Ω–∏–µ + "\n\n"
      
      ‚≤ú —ç–ª–µ–º–µ–Ω—Ç.–ø–∞—Ä–∞–º–µ—Ç—Ä—ã != None && –¥–ª–∏–Ω–∞(—ç–ª–µ–º–µ–Ω—Ç.–ø–∞—Ä–∞–º–µ—Ç—Ä—ã) > 0:
        md += "**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**\n\n"
        ‚≤Æ –ø —ç–ª–µ–º–µ–Ω—Ç.–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
          md += "- `" + –ø.–∏–º—è + "`: " + (–ø.–æ–ø–∏—Å–∞–Ω–∏–µ ? –ø.–æ–ø–∏—Å–∞–Ω–∏–µ : "") + "\n"
        md += "\n"
      
      ‚≤ú –¥–ª–∏–Ω–∞(—ç–ª–µ–º–µ–Ω—Ç.–ø—Ä–∏–º–µ—Ä—ã) > 0:
        md += "**–ü—Ä–∏–º–µ—Ä:**\n\n```999\n"
        md += —ç–ª–µ–º–µ–Ω—Ç.–ø—Ä–∏–º–µ—Ä—ã[0]
        md += "```\n\n"
  
  ‚≤¢ md

// ============================================
// CLI
// ============================================

‚≤™ main(–∞—Ä–≥—É–º–µ–Ω—Ç—ã: [‚≤§]) -> ‚≤ä:
  ‚≤ò —Ñ–æ—Ä–º–∞—Ç = "html"
  ‚≤ò –≤—ã—Ö–æ–¥ = "docs"
  ‚≤ò –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ = "src"
  
  // –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
  ‚≤Æ i 1..–¥–ª–∏–Ω–∞(–∞—Ä–≥—É–º–µ–Ω—Ç—ã):
    ‚≤ò –∞—Ä–≥ = –∞—Ä–≥—É–º–µ–Ω—Ç—ã[i]
    ‚≤ú –∞—Ä–≥ == "--markdown": —Ñ–æ—Ä–º–∞—Ç = "markdown"
    ‚≤ú –∞—Ä–≥ == "--html": —Ñ–æ—Ä–º–∞—Ç = "html"
    ‚≤ú –∞—Ä–≥ == "-o" && i + 1 < –¥–ª–∏–Ω–∞(–∞—Ä–≥—É–º–µ–Ω—Ç—ã):
      –≤—ã—Ö–æ–¥ = –∞—Ä–≥—É–º–µ–Ω—Ç—ã[i + 1]
    ‚≤ú !–∞—Ä–≥.starts_with("-"):
      –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ = –∞—Ä–≥
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–∞–Ω–∏—Ñ–µ—Å—Ç
  ‚≤ò –º–∞–Ω–∏—Ñ–µ—Å—Ç = —á–∏—Ç–∞—Ç—å_–º–∞–Ω–∏—Ñ–µ—Å—Ç("999.toml")
  
  –ø–µ—á–∞—Ç—å("üìö –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏...")
  
  // –°–æ–±–∏—Ä–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
  ‚≤ò –¥–æ–∫ = ‚≤å‚≤ü‚≤•‚≤©‚≤ô‚≤â‚≤õ‚≤ß‚≤Å‚≤ß‚≤ì‚≤ü‚≤õ {
    –Ω–∞–∑–≤–∞–Ω–∏–µ: –º–∞–Ω–∏—Ñ–µ—Å—Ç.–∏–º—è,
    –≤–µ—Ä—Å–∏—è: –º–∞–Ω–∏—Ñ–µ—Å—Ç.–≤–µ—Ä—Å–∏—è,
    –º–æ–¥—É–ª–∏: [],
    –∏–Ω–¥–µ–∫—Å: {}
  }
  
  // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ñ–∞–π–ª—ã
  ‚≤ò —Ñ–∞–π–ª—ã = –Ω–∞–π—Ç–∏_—Ñ–∞–π–ª—ã(–∏—Å—Ö–æ–¥–Ω–∏–∫–∏, "*.999")
  ‚≤Æ —Ñ–∞–π–ª —Ñ–∞–π–ª—ã:
    ‚≤ò —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ = —á–∏—Ç–∞—Ç—å_—Ñ–∞–π–ª(—Ñ–∞–π–ª)
    ‚≤ò —ç–ª–µ–º–µ–Ω—Ç—ã = –∏–∑–≤–ª–µ—á—å_–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é(—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
    
    ‚≤ò –º–æ–¥—É–ª—å = ‚≤å‚≤ü‚≤•‚≤ò‚≤ü‚≤á‚≤©‚≤ó‚≤â {
      –∏–º—è: –∏–º—è_–±–µ–∑_—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è(—Ñ–∞–π–ª),
      –æ–ø–∏—Å–∞–Ω–∏–µ: "",
      —ç–ª–µ–º–µ–Ω—Ç—ã: —ç–ª–µ–º–µ–Ω—Ç—ã,
      –ø–æ–¥–º–æ–¥—É–ª–∏: []
    }
    –¥–æ–∫.–º–æ–¥—É–ª–∏ += –º–æ–¥—É–ª—å
    
    // –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º
    ‚≤Æ —ç–ª–µ–º–µ–Ω—Ç —ç–ª–µ–º–µ–Ω—Ç—ã:
      –¥–æ–∫.–∏–Ω–¥–µ–∫—Å[—ç–ª–µ–º–µ–Ω—Ç.–ø—É—Ç—å] = —ç–ª–µ–º–µ–Ω—Ç
  
  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º
  —Å–æ–∑–¥–∞—Ç—å_–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é(–≤—ã—Ö–æ–¥)
  
  ‚≤ú —Ñ–æ—Ä–º–∞—Ç == "html":
    ‚≤ò html = –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_html(–¥–æ–∫)
    –∑–∞–ø–∏—Å–∞—Ç—å_—Ñ–∞–π–ª(–≤—ã—Ö–æ–¥ + "/index.html", html)
    –∑–∞–ø–∏—Å–∞—Ç—å_—Ñ–∞–π–ª(–≤—ã—Ö–æ–¥ + "/style.css", CSS_–°–¢–ò–õ–ò)
    –∑–∞–ø–∏—Å–∞—Ç—å_—Ñ–∞–π–ª(–≤—ã—Ö–æ–¥ + "/search.js", JS_–ü–û–ò–°–ö)
    –ø–µ—á–∞—Ç—å("‚úÖ HTML –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: " + –≤—ã—Ö–æ–¥ + "/index.html")
  ‚≤Ç:
    ‚≤ò md = –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å_markdown(–¥–æ–∫)
    –∑–∞–ø–∏—Å–∞—Ç—å_—Ñ–∞–π–ª(–≤—ã—Ö–æ–¥ + "/README.md", md)
    –ø–µ—á–∞—Ç—å("‚úÖ Markdown –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: " + –≤—ã—Ö–æ–¥ + "/README.md")
  
  ‚≤¢ 0

// CSS —Å—Ç–∏–ª–∏
‚≤ò CSS_–°–¢–ò–õ–ò = "
:root { --bg: #1a1a2e; --fg: #eee; --accent: #e94560; }
body { margin: 0; font-family: system-ui; background: var(--bg); color: var(--fg); display: flex; }
.sidebar { width: 280px; padding: 20px; border-right: 1px solid #333; height: 100vh; overflow-y: auto; }
.content { flex: 1; padding: 40px; max-width: 900px; }
h1, h2, h3 { color: var(--accent); }
code { background: #2a2a4e; padding: 2px 6px; border-radius: 4px; }
pre { background: #2a2a4e; padding: 16px; border-radius: 8px; overflow-x: auto; }
.function { border-left: 3px solid var(--accent); padding-left: 16px; margin: 20px 0; }
"

// JS –¥–ª—è –ø–æ–∏—Å–∫–∞
‚≤ò JS_–ü–û–ò–°–ö = "
document.getElementById('search').addEventListener('input', function(e) {
  const query = e.target.value.toLowerCase();
  document.querySelectorAll('.function, .struct').forEach(el => {
    const name = el.querySelector('h4').textContent.toLowerCase();
    el.style.display = name.includes(query) ? 'block' : 'none';
  });
});
"
