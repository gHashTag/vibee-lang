# Приложение A: Глоссарий Тридевятого Царства

---

## Сказочные Образы → Технические Термины

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│  СЛОВАРЬ ТРИДЕВЯТОГО ЦАРСТВА                                               │
│                                                                             │
│  Сказочный образ          Технический термин                               │
│  ─────────────────────────────────────────────────────────────────────────│
│  Тридевятое царство       Threshold 27 = 3³ для базового случая           │
│  Три дороги               3-way partition (меньше/равно/больше)           │
│  Три богатыря             Три компонента системы (Hash, BTree, Graph)     │
│  Три попытки              Три состояния (WHITE/GRAY/BLACK в DFS)          │
│  Три сына                 Balanced ternary {-1, 0, +1}                    │
│  Терем 999 окон           Компилятор с 3×333 оптимизациями                │
│  Камень на распутье       Pivot в quicksort                               │
│  Волшебный компас         Golden ratio φ для выбора pivot                 │
│  Заколдованный лес        NP-полная задача                                │
│  Меч-кладенец             Оптимальный алгоритм                            │
│  Живая вода               Параллелизм (оживляет производительность)       │
│  Мёртвая вода             Последовательный код (склеивает части)          │
│  Баба-Яга                 Компилятор (страшный, но помогает)              │
│  Кощей Бессмертный        Legacy код (трудно убить)                       │
│  Жар-птица                Оптимальное решение (редкое, ценное)            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Технические Термины

### A

**3-adic numbers (3-адические числа)**
: Система чисел с метрикой |n|₃ = 3^(-v₃(n)), где v₃(n) — максимальная степень 3, делящая n. В этой метрике 27 ближе к 0, чем 1.

**AVX (Advanced Vector Extensions)**
: Набор SIMD-инструкций Intel/AMD для параллельной обработки 256 бит данных (8 × 32-bit int).

### B

**Balanced ternary (Сбалансированная троичная система)**
: Система счисления с цифрами {-1, 0, +1}. Использовалась в компьютере «Сетунь». Отрицание числа = инверсия всех цифр.

**Branching factor (Коэффициент ветвления)**
: Число детей у узла в дереве. Оптимальное значение = e ≈ 2.718, ближайшее целое = 3.

**Брусенцов, Николай Петрович (1925-2014)**
: Создатель троичного компьютера «Сетунь» (1958). Пророк троичности.

### C

**Cuckoo hashing**
: Алгоритм хеширования с несколькими хеш-функциями. С 3 функциями достигает 91% заполнения (vs 50% с 2 функциями).

### D

**Dutch National Flag (Задача голландского флага)**
: Алгоритм 3-way partition, предложенный Дейкстрой. Разбивает массив на три части: <, =, >.

### E

**Edge of chaos (Край хаоса)**
: Критическое состояние нейросети при σ² = 1, когда сеть способна обучаться.

### G

**Golden ratio (Золотое сечение)**
: φ = (1 + √5) / 2 ≈ 1.618. Самое иррациональное число. Используется для выбора pivot в Trinity Sort.

### N

**NP-полнота**
: Класс задач, для которых нет известного полиномиального алгоритма. Многие задачи становятся NP-полными при переходе от k=2 к k=3.

### P

**Partition (Разбиение)**
: Операция разделения массива на части относительно pivot.
- 2-way: две части (< и ≥)
- 3-way: три части (<, =, >)

### Q

**Qutrit (Кутрит)**
: Квантовая система с тремя состояниями |0⟩, |1⟩, |2⟩. Хранит log₂(3) ≈ 1.585 бит информации.

### R

**Radix economy (Экономия системы счисления)**
: Мера эффективности базы b: E(b) = b/ln(b). Минимум при b = e ≈ 2.718, ближайшее целое = 3.

### S

**SIMD (Single Instruction, Multiple Data)**
: Параллельная обработка нескольких элементов данных одной инструкцией.

**«Сетунь»**
: Троичный компьютер, созданный в МГУ в 1958 году. Использовал balanced ternary.

### T

**Ternary Search Tree (TST)**
: Дерево поиска, где каждый узел имеет три ребёнка: <, =, >. Эффективно для поиска по префиксу.

**Ternary Weight Network (TWN)**
: Нейросеть с весами ∈ {-1, 0, +1}. Экономит 16x памяти, умножение заменяется сложением.

**Three-way decision (Троичное решение)**
: Классификация с тремя исходами: Accept, Reject, Defer.

**Threshold 27**
: Оптимальный порог для переключения на insertion sort в Trinity Sort. 27 = 3³ = Тридевятое!

**Tribool (Троичная логика)**
: Логика с тремя значениями: True, False, Unknown.

**Тридевятое царство**
: 3 × 9 = 27 = 3³. Магическое место в русских сказках. Оптимальный threshold в алгоритмах.

**Trinity Sort**
: Алгоритм сортировки с 3-way partition и golden ratio pivot. До 291x быстрее стандартного quicksort на данных с дубликатами.

### V

**Vibee**
: Язык программирования, построенный на троичной философии. Trinity Sort — стандартная сортировка.

---

## Числовые Константы

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  СВЯЩЕННЫЕ ЧИСЛА ТРИДЕВЯТОГО ЦАРСТВА                           │
│                                                                 │
│  3       Минимальная сложность для структуры                   │
│  9       3² — усиленная тройка                                 │
│  27      3³ — Тридевятое! Оптимальный threshold                │
│  81      3⁴ — граница среднего случая                          │
│  243     3⁵ — граница большого случая                          │
│  729     3⁶ — переход к параллелизму                           │
│  999     3 × 333 — число окон в тереме компилятора             │
│                                                                 │
│  φ       1.618... — золотое сечение, выбор pivot               │
│  φ-1     0.618... — обратное золотое сечение                   │
│  e       2.718... — оптимальная база, ≈ 3                      │
│  π       3.141... — периодичность, ≈ 3                         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## Формулы

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  ФОРМУЛЫ ТРИДЕВЯТОГО ЦАРСТВА                                   │
│                                                                 │
│  Оптимальная база:                                             │
│  min(b/ln(b)) при b = e ≈ 2.718 ≈ 3                           │
│                                                                 │
│  Отношение масс:                                               │
│  m_p/m_e = 6π⁵ = 2 × 3 × π⁵ (точность 0.002%)                 │
│                                                                 │
│  3-адическая норма:                                            │
│  |n|₃ = 3^(-v₃(n))                                             │
│                                                                 │
│  Информация в трите:                                           │
│  log₂(3) ≈ 1.585 бит                                          │
│                                                                 │
│  Cuckoo load factor:                                           │
│  d=2: 50%, d=3: 91%, d=4: 97%                                 │
│                                                                 │
│  Karatsuba:                                                    │
│  O(n^log₂(3)) = O(n^1.585)                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

*«Кто владеет словарём, тот владеет царством.»*
