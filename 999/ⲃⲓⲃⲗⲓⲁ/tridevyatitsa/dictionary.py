#!/usr/bin/env python3
"""
СЛОВАРЬ ТРИДЕВЯТИЦЫ — 999 СВЯЩЕННЫХ СЛОВ

Структура:
- 333 существительных (Медное царство)
- 333 глагола (Серебряное царство)
- 333 прилагательных (Золотое царство)

Каждое слово имеет числовое значение = сумма букв
"""

# ═══════════════════════════════════════════════════════════════
# АЛФАВИТ
# ═══════════════════════════════════════════════════════════════

АЛФАВИТ = {
    # МЕДНОЕ ЦАРСТВО (1-9)
    'Ⲁ': 1,  'Ⲃ': 2,  'Ⲅ': 3,  'Ⲇ': 4,  'Ⲉ': 5,
    'Ⲋ': 6,  'Ⲍ': 7,  'Ⲏ': 8,  'Ⲑ': 9,
    # СЕРЕБРЯНОЕ ЦАРСТВО (10-18)
    'Ⲓ': 10, 'Ⲕ': 11, 'Ⲗ': 12, 'Ⲙ': 13, 'Ⲛ': 14,
    'Ⲝ': 15, 'Ⲟ': 16, 'Ⲡ': 17, 'Ⲣ': 18,
    # ЗОЛОТОЕ ЦАРСТВО (19-27)
    'Ⲥ': 19, 'Ⲧ': 20, 'Ⲩ': 21, 'Ⲫ': 22, 'Ⲭ': 23,
    'Ⲯ': 24, 'Ⲱ': 25, 'Ⳁ': 26, 'Ⳃ': 27,
}

ОБРАТНЫЙ = {v: k for k, v in АЛФАВИТ.items()}

# ═══════════════════════════════════════════════════════════════
# БАЗОВЫЕ КОРНИ (81 = 3⁴)
# ═══════════════════════════════════════════════════════════════

КОРНИ = {
    # ЧИСЛА (9)
    'Ⲁ': ('один', 'one'),
    'Ⲃ': ('два', 'two'),
    'Ⲅ': ('три', 'three'),
    'Ⲇ': ('четыре', 'four'),
    'Ⲉ': ('пять', 'five'),
    'Ⲋ': ('шесть', 'six'),
    'Ⲍ': ('семь', 'seven'),
    'Ⲏ': ('восемь', 'eight'),
    'Ⲑ': ('девять', 'nine'),
    
    # СУЩЕСТВА (9)
    'ⲀⲂ': ('человек', 'human'),
    'ⲀⲄ': ('герой', 'hero'),
    'ⲀⲆ': ('царь', 'king'),
    'ⲀⲈ': ('мудрец', 'sage'),
    'ⲀⲊ': ('воин', 'warrior'),
    'ⲀⲌ': ('маг', 'mage'),
    'ⲀⲎ': ('дракон', 'dragon'),
    'ⲀⲐ': ('бог', 'god'),
    'ⲂⲀ': ('враг', 'enemy'),
    
    # МЕСТА (9)
    'ⲂⲂ': ('дом', 'home'),
    'ⲂⲄ': ('царство', 'kingdom'),
    'ⲂⲆ': ('мир', 'world'),
    'ⲂⲈ': ('путь', 'path'),
    'ⲂⲊ': ('лес', 'forest'),
    'ⲂⲌ': ('гора', 'mountain'),
    'ⲂⲎ': ('река', 'river'),
    'ⲂⲐ': ('море', 'sea'),
    'ⲄⲀ': ('небо', 'sky'),
    
    # ПРЕДМЕТЫ (9)
    'ⲄⲂ': ('меч', 'sword'),
    'ⲄⲄ': ('щит', 'shield'),
    'ⲄⲆ': ('книга', 'book'),
    'ⲄⲈ': ('ключ', 'key'),
    'ⲄⲊ': ('игла', 'needle'),
    'ⲄⲌ': ('яйцо', 'egg'),
    'ⲄⲎ': ('сундук', 'chest'),
    'ⲄⲐ': ('камень', 'stone'),
    'ⲆⲀ': ('огонь', 'fire'),
    
    # ДЕЙСТВИЯ (9)
    'ⲒⲀ': ('идти', 'go'),
    'ⲒⲂ': ('видеть', 'see'),
    'ⲒⲄ': ('знать', 'know'),
    'ⲒⲆ': ('делать', 'do'),
    'ⲒⲈ': ('быть', 'be'),
    'ⲒⲊ': ('иметь', 'have'),
    'ⲒⲌ': ('давать', 'give'),
    'ⲒⲎ': ('брать', 'take'),
    'ⲒⲐ': ('говорить', 'speak'),
    
    # КАЧЕСТВА (9)
    'ⲤⲀ': ('большой', 'big'),
    'ⲤⲂ': ('малый', 'small'),
    'ⲤⲄ': ('добрый', 'good'),
    'ⲤⲆ': ('злой', 'evil'),
    'ⲤⲈ': ('мудрый', 'wise'),
    'ⲤⲊ': ('сильный', 'strong'),
    'ⲤⲌ': ('быстрый', 'fast'),
    'ⲤⲎ': ('вечный', 'eternal'),
    'ⲤⲐ': ('святой', 'holy'),
    
    # АБСТРАКЦИИ (9)
    'ⲦⲀ': ('истина', 'truth'),
    'ⲦⲂ': ('ложь', 'lie'),
    'ⲦⲄ': ('любовь', 'love'),
    'ⲦⲆ': ('смерть', 'death'),
    'ⲦⲈ': ('жизнь', 'life'),
    'ⲦⲊ': ('время', 'time'),
    'ⲦⲌ': ('судьба', 'fate'),
    'ⲦⲎ': ('сила', 'power'),
    'ⲦⲐ': ('мудрость', 'wisdom'),
    
    # СПЕЦИАЛЬНЫЕ (9)
    'ⲨⲀ': ('тройка', 'trinity'),
    'ⲨⲂ': ('тридевятое', 'thrice-nine'),
    'ⲨⲄ': ('царство', 'realm'),
    'ⲨⲆ': ('алгоритм', 'algorithm'),
    'ⲨⲈ': ('код', 'code'),
    'ⲨⲊ': ('сортировка', 'sort'),
    'ⲨⲌ': ('указатель', 'pointer'),
    'ⲨⲎ': ('память', 'memory'),
    'ⲨⲐ': ('процесс', 'process'),
}

# ═══════════════════════════════════════════════════════════════
# СОСТАВНЫЕ СЛОВА
# ═══════════════════════════════════════════════════════════════

СОСТАВНЫЕ = {
    # Персонажи
    'ⲀⲄⲀⲂ': ('Иван', 'Ivan'),  # герой + человек
    'ⲀⲈⲀⲂ': ('Василиса', 'Vasilisa'),  # мудрец + человек
    'ⲂⲀⲤⲎ': ('Кощей', 'Koschei'),  # враг + вечный
    'ⲀⲎⲄⲄ': ('Змей Горыныч', 'Dragon'),  # дракон + три + три (головы)
    
    # Места
    'ⲂⲄⲨⲂ': ('Тридевятое царство', 'Thrice-Nine Kingdom'),  # царство + тридевятое
    'ⲂⲄⲀ': ('Медное царство', 'Copper Kingdom'),  # царство + один
    'ⲂⲄⲂ': ('Серебряное царство', 'Silver Kingdom'),  # царство + два
    'ⲂⲄⲄ': ('Золотое царство', 'Golden Kingdom'),  # царство + три
    
    # Концепции
    'ⲨⲊⲨⲀ': ('Trinity Sort', 'Trinity Sort'),  # сортировка + тройка
    'ⲨⲌⲦⲆ': ('смерть Кощея', 'Koschei death'),  # указатель + смерть
    'ⲨⲐⲨⲀ': ('три процесса', 'three processes'),  # процесс + тройка
}

# ═══════════════════════════════════════════════════════════════
# ФУНКЦИИ
# ═══════════════════════════════════════════════════════════════

def значение(слово: str) -> int:
    """Вычисляет числовое значение слова"""
    return sum(АЛФАВИТ.get(c, 0) for c in слово)

def в_тридевятицу(число: int) -> str:
    """Преобразует число в запись Тридевятицей"""
    if число == 0:
        return 'Ⲁ'
    результат = []
    while число > 0:
        остаток = (число - 1) % 27
        результат.append(ОБРАТНЫЙ[остаток + 1])
        число = (число - 1) // 27
    return ''.join(reversed(результат))

def из_тридевятицы(слово: str) -> int:
    """Преобразует слово Тридевятицы в число"""
    результат = 0
    for c in слово:
        результат = результат * 27 + АЛФАВИТ.get(c, 0)
    return результат

def перевести(слово: str, язык: str = 'ru') -> str:
    """Переводит слово Тридевятицы"""
    if слово in КОРНИ:
        return КОРНИ[слово][0 if язык == 'ru' else 1]
    if слово in СОСТАВНЫЕ:
        return СОСТАВНЫЕ[слово][0 if язык == 'ru' else 1]
    return f"[{слово}]"

# ═══════════════════════════════════════════════════════════════
# ГЕНЕРАЦИЯ 999 СЛОВ
# ═══════════════════════════════════════════════════════════════

def сгенерировать_словарь():
    """Генерирует полный словарь из 999 слов"""
    словарь = {}
    
    # 333 существительных (комбинации из Медного царства)
    for i in range(1, 334):
        слово = в_тридевятицу(i)
        словарь[слово] = {
            'тип': 'существительное',
            'значение': i,
            'царство': 'Медное',
        }
    
    # 333 глагола (комбинации из Серебряного царства)
    for i in range(334, 667):
        слово = 'Ⲓ' + в_тридевятицу(i - 333)  # префикс Ⲓ для глаголов
        словарь[слово] = {
            'тип': 'глагол',
            'значение': i,
            'царство': 'Серебряное',
        }
    
    # 333 прилагательных (комбинации из Золотого царства)
    for i in range(667, 1000):
        слово = 'Ⲥ' + в_тридевятицу(i - 666)  # префикс Ⲥ для прилагательных
        словарь[слово] = {
            'тип': 'прилагательное',
            'значение': i,
            'царство': 'Золотое',
        }
    
    return словарь

# ═══════════════════════════════════════════════════════════════
# ТЕСТ
# ═══════════════════════════════════════════════════════════════

if __name__ == "__main__":
    print("═" * 60)
    print("СЛОВАРЬ ТРИДЕВЯТИЦЫ")
    print("═" * 60)
    
    print("\nБазовые числа:")
    for i in range(1, 10):
        буква = ОБРАТНЫЙ[i]
        print(f"  {буква} = {i} = {КОРНИ[буква][0]}")
    
    print("\n27 = Тридевятое:")
    print(f"  {в_тридевятицу(27)} = Ⳃ = Ять")
    
    print("\n999 в Тридевятице:")
    print(f"  {в_тридевятицу(999)} = {из_тридевятицы(в_тридевятицу(999))}")
    
    print("\nПримеры слов:")
    for слово, (ru, en) in list(СОСТАВНЫЕ.items())[:5]:
        print(f"  {слово} = {ru} ({en})")
    
    print("\nГенерация словаря...")
    словарь = сгенерировать_словарь()
    print(f"  Создано {len(словарь)} слов")
    print(f"  Существительных: 333")
    print(f"  Глаголов: 333")
    print(f"  Прилагательных: 333")
