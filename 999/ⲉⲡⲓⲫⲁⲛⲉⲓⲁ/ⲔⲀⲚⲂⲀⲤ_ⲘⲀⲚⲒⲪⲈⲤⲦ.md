# ⲔⲀⲚⲂⲀⲤ UI ⲘⲀⲚⲒⲪⲈⲤⲦ

## Принципы

**NO HTML. NO CSS. PURE PIXELS.**

Каждый пиксель = атомарный OTP процесс.

## Архитектура

```
┌─────────────────────────────────────────────────────────────────┐
│                    ⲔⲀⲚⲂⲀⲤ UI SYSTEM                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │ PixelGrid   │───▶│ YogaLayout  │───▶│ Renderer    │         │
│  │ (OTP Actors)│    │ (Flexbox)   │    │ (Binary)    │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│         │                  │                  │                 │
│         ▼                  ▼                  ▼                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │ Wave        │    │ Tech Tree   │    │ WebSocket   │         │
│  │ Diffusion   │    │ Canvas      │    │ Protocol    │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## Модули

| Файл | Назначение | Статус |
|------|------------|--------|
| `pixel_grid.999` | Атомарная сетка пикселей как OTP процессы | ✅ |
| `yoga_layout.999` | Flexbox layout engine | ✅ |
| `canvas_renderer.999` | Бинарный протокол рендеринга | ✅ |
| `tech_tree_canvas.999` | Визуализация Tech Tree | ✅ |
| `wave_diffusion.999` | BEAM Pixel Diffusion + Fog of War | ✅ |

## Сравнение с традиционным UI

| Аспект | HTML/CSS | Canvas UI (999) |
|--------|----------|-----------------|
| Единица | DOM Node | Pixel Process |
| Layout | CSS Box Model | YogaLayout (Flexbox) |
| Рендеринг | Browser Engine | Binary Protocol |
| Состояние | Mutable DOM | Immutable Messages |
| Параллелизм | Single Thread | 2M+ Actors |
| Эффекты | CSS Animations | Wave Diffusion |

## BEAM Pixel Diffusion

Замена нейросетей на математические волны:

```
Stable Diffusion          BEAM Pixel Diffusion
─────────────────         ────────────────────
Нейросеть (U-Net)    →    Математические волны
Шумовой процесс      →    Волновой процесс
Text prompt          →    Эмоция + курсор
GPU вычисления       →    BEAM/OTP процессы
Обучение на данных   →    Параметрические функции
Latent space         →    Pixel space напрямую
```

## Fog of War

Туман войны реализован через:
1. Visibility map (0.0 - 1.0 для каждого пикселя)
2. Reveal radius вокруг курсора
3. Wave-based fade эффект
4. Emotion-driven color palettes

## Протокол BEAM ⇄ Browser

Бинарный формат команд:

```
0x01 - BeginFrame { frame_id: u64 }
0x02 - EndFrame
0x03 - Clear { r, g, b, a }
0x10 - FillRect { x, y, w, h, color }
0x11 - FillCircle { cx, cy, r, color }
0x12 - DrawLine { x0, y0, x1, y1, color }
0x20 - ApplyFog { cx, cy, radius }
0x21 - ApplyWave { time, frequency, amplitude }
```

## Эволюция от Shadow Mask

```
1938: Shadow Mask (пассивная маска)
      ↓
1968: Trinitron (апертурная решетка)
      ↓
1990s: Slot Mask (щелевая маска)
      ↓
2000s: LCD/TFT (фиксированные пиксели)
      ↓
2024: BEAM Pixel Grid (активные атомарные процессы)
```

## Использование

```999
// Создать Tech Tree визуализацию
Ⲃ canvas = create_tech_tree_view("/workspaces/vibee-lang/999", 1920, 1080)

// Обработка событий
canvas.on_mouse_move(x, y)
canvas.on_mouse_click(x, y)

// Анимация
canvas.tick(dt)

// Рендеринг
canvas.render()
Ⲃ buffer = canvas.get_buffer()  // [u32] RGBA pixels
```

## Будущее

- [ ] WebGPU интеграция для параллельного рендеринга
- [ ] Quantum pixel states (суперпозиция цветов)
- [ ] Neural wave functions (обученные волны)
- [ ] Holographic memory для состояния пикселей
