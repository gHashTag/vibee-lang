<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIBEE OS v3.0 - Agent Demo</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #e0e0e0;
            font-family: 'SF Mono', 'Fira Code', monospace;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(90deg, #00ff88, #00d4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .header .version {
            color: #888;
            font-size: 0.9em;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; }
        }
        
        .panel {
            background: rgba(30, 30, 50, 0.8);
            border: 1px solid #333;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .panel-header {
            background: rgba(0, 255, 136, 0.1);
            padding: 12px 16px;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .panel-header .icon { font-size: 1.2em; }
        .panel-header h2 { font-size: 1em; font-weight: 500; }
        
        .panel-body {
            padding: 16px;
            height: 400px;
            overflow-y: auto;
        }
        
        /* Agent Chat */
        .chat-messages {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .message {
            padding: 12px 16px;
            border-radius: 12px;
            max-width: 85%;
        }
        
        .message.user {
            background: rgba(0, 212, 255, 0.2);
            align-self: flex-end;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }
        
        .message.agent {
            background: rgba(0, 255, 136, 0.1);
            align-self: flex-start;
            border: 1px solid rgba(0, 255, 136, 0.2);
        }
        
        .message.system {
            background: rgba(255, 200, 0, 0.1);
            align-self: center;
            font-size: 0.85em;
            color: #ffc800;
        }
        
        .message.thinking {
            background: rgba(150, 150, 150, 0.1);
            font-style: italic;
            color: #888;
        }
        
        .message .role {
            font-size: 0.75em;
            color: #888;
            margin-bottom: 4px;
        }
        
        .message pre {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 6px;
            overflow-x: auto;
            margin-top: 8px;
            font-size: 0.85em;
        }
        
        .input-area {
            padding: 16px;
            border-top: 1px solid #333;
            display: flex;
            gap: 10px;
        }
        
        .input-area input {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 12px 16px;
            color: #fff;
            font-family: inherit;
            font-size: 0.95em;
        }
        
        .input-area input:focus {
            outline: none;
            border-color: #00ff88;
        }
        
        .input-area button {
            background: linear-gradient(90deg, #00ff88, #00d4ff);
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            color: #000;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .input-area button:hover { transform: scale(1.05); }
        .input-area button:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* Status Panel */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .status-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 12px;
            border-radius: 8px;
        }
        
        .status-item .label {
            font-size: 0.75em;
            color: #888;
            margin-bottom: 4px;
        }
        
        .status-item .value {
            font-size: 1.1em;
            color: #00ff88;
        }
        
        .status-item .value.warning { color: #ffc800; }
        .status-item .value.error { color: #ff5555; }
        
        /* Tools Panel */
        .tools-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .tool-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px 14px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .tool-item:hover { background: rgba(0, 255, 136, 0.1); }
        
        .tool-item .icon { font-size: 1.2em; }
        .tool-item .name { font-weight: 500; }
        .tool-item .desc { font-size: 0.8em; color: #888; }
        
        /* Memory Panel */
        .memory-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .memory-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px 14px;
            border-radius: 8px;
            border-left: 3px solid #00d4ff;
        }
        
        .memory-item .type {
            font-size: 0.7em;
            color: #00d4ff;
            text-transform: uppercase;
            margin-bottom: 4px;
        }
        
        .memory-item .content {
            font-size: 0.9em;
            color: #ccc;
        }
        
        /* Typing indicator */
        .typing {
            display: flex;
            gap: 4px;
            padding: 8px 12px;
        }
        
        .typing span {
            width: 8px;
            height: 8px;
            background: #00ff88;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing span:nth-child(2) { animation-delay: 0.2s; }
        .typing span:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.3; }
            30% { transform: translateY(-8px); opacity: 1; }
        }
        
        /* Quick actions */
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .quick-action {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 6px 14px;
            font-size: 0.85em;
            color: #00d4ff;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quick-action:hover {
            background: rgba(0, 212, 255, 0.2);
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>VIBEE OS v3.0</h1>
            <p class="version">Self-Improving AI Operating System | SWE Agent Demo</p>
        </div>
        
        <div class="main-grid">
            <!-- Agent Chat Panel -->
            <div class="panel" style="grid-row: span 2;">
                <div class="panel-header">
                    <span class="icon">ü§ñ</span>
                    <h2>SWE Agent</h2>
                </div>
                <div class="panel-body" id="chat-body">
                    <div class="quick-actions">
                        <span class="quick-action" onclick="sendQuick('–°–æ–∑–¥–∞–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–∞ Vibee')">–°–æ–∑–¥–∞–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</span>
                        <span class="quick-action" onclick="sendQuick('–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã')">–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</span>
                        <span class="quick-action" onclick="sendQuick('–ù–∞–π–¥–∏ —Ñ–∞–π–ª—ã –ø—Ä–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é')">–ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤</span>
                        <span class="quick-action" onclick="sendQuick('–û–±—ä—è—Å–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É VIBEE OS')">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</span>
                    </div>
                    <div class="chat-messages" id="messages">
                        <div class="message system">
                            SWE Agent –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω. –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.
                        </div>
                    </div>
                </div>
                <div class="input-area">
                    <input type="text" id="user-input" placeholder="–û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ..." autofocus>
                    <button id="send-btn" onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </div>
            
            <!-- Status Panel -->
            <div class="panel">
                <div class="panel-header">
                    <span class="icon">üìä</span>
                    <h2>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</h2>
                </div>
                <div class="panel-body">
                    <div class="status-grid">
                        <div class="status-item">
                            <div class="label">–ê–≥–µ–Ω—Ç</div>
                            <div class="value" id="agent-status">Ready</div>
                        </div>
                        <div class="status-item">
                            <div class="label">LLM Backend</div>
                            <div class="value" id="llm-status">Claude 3.5</div>
                        </div>
                        <div class="status-item">
                            <div class="label">–ö–æ–Ω—Ç–µ–∫—Å—Ç</div>
                            <div class="value" id="context-tokens">0 / 128K</div>
                        </div>
                        <div class="status-item">
                            <div class="label">–ü–∞–º—è—Ç—å</div>
                            <div class="value" id="memory-count">0 –∑–∞–ø–∏—Å–µ–π</div>
                        </div>
                        <div class="status-item">
                            <div class="label">–¢–æ–∫–µ–Ω—ã —Å–µ–≥–æ–¥–Ω—è</div>
                            <div class="value" id="tokens-today">0</div>
                        </div>
                        <div class="status-item">
                            <div class="label">–ó–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                            <div class="value" id="tasks-done">0</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Tools Panel -->
            <div class="panel">
                <div class="panel-header">
                    <span class="icon">üîß</span>
                    <h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2>
                </div>
                <div class="panel-body">
                    <div class="tools-list">
                        <div class="tool-item">
                            <span class="icon">üìÑ</span>
                            <div>
                                <div class="name">file_read</div>
                                <div class="desc">–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤</div>
                            </div>
                        </div>
                        <div class="tool-item">
                            <span class="icon">‚úèÔ∏è</span>
                            <div>
                                <div class="name">file_write</div>
                                <div class="desc">–ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤</div>
                            </div>
                        </div>
                        <div class="tool-item">
                            <span class="icon">üîç</span>
                            <div>
                                <div class="name">semantic_search</div>
                                <div class="desc">–ü–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É</div>
                            </div>
                        </div>
                        <div class="tool-item">
                            <span class="icon">‚öôÔ∏è</span>
                            <div>
                                <div class="name">vibee_generate</div>
                                <div class="desc">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏</div>
                            </div>
                        </div>
                        <div class="tool-item">
                            <span class="icon">üß™</span>
                            <div>
                                <div class="name">vibee_test</div>
                                <div class="desc">–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤</div>
                            </div>
                        </div>
                        <div class="tool-item">
                            <span class="icon">üíæ</span>
                            <div>
                                <div class="name">memory_store</div>
                                <div class="desc">–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç—å</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // VIBEE OS Agent Simulator
        const Agent = {
            state: 'ready',
            contextTokens: 0,
            memoryCount: 0,
            tokensToday: 0,
            tasksDone: 0,
            
            responses: {
                '–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä': {
                    thinking: '–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∑–∞–ø—Ä–æ—Å... –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–∞ Vibee.',
                    response: `–°–æ–∑–¥–∞—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞:

\`\`\`yaml
name: calculator
version: "1.0.0"
language: zig
module: math/calculator

behaviors:
  - name: add_numbers
    given: Two numbers a and b
    when: add(a, b) is called
    then: Returns sum of a and b
    test_cases:
      - input: {a: 2, b: 3}
        expected: {result: 5}

  - name: subtract_numbers
    given: Two numbers a and b
    when: subtract(a, b) is called
    then: Returns difference of a and b
    test_cases:
      - input: {a: 5, b: 3}
        expected: {result: 2}

functions:
  - name: add
    params: {a: int, b: int}
    returns: int
    
  - name: subtract
    params: {a: int, b: int}
    returns: int
\`\`\`

‚úÖ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
‚úÖ 2 behaviors –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
‚úÖ 2 test cases –≥–æ—Ç–æ–≤—ã

–ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞?`,
                    tools: ['vibee_generate', 'file_write']
                },
                '—Å—Ç–∞—Ç—É—Å': {
                    thinking: '–°–æ–±–∏—Ä–∞—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ...',
                    response: `üìä **–°—Ç–∞—Ç—É—Å VIBEE OS v3.0**

**–Ø–¥—Ä–æ:**
- Agent Core: ‚úÖ Active
- LLM Backend: Claude 3.5 Sonnet
- Context: 2,048 / 128,000 tokens

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Self-Hosting Engine: ‚úÖ Ready
- Semantic FS: ‚úÖ Indexed (29 files)
- Human-in-Loop: ‚úÖ Enabled
- Self-Improvement: ‚è∏Ô∏è Idle

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- Uptime: 12m 34s
- Tasks completed: ${this.tasksDone}
- Memory entries: ${this.memoryCount}

–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ.`,
                    tools: []
                },
                '—Ñ–∞–π–ª': {
                    thinking: '–í—ã–ø–æ–ª–Ω—è—é —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫...',
                    response: `üîç **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ "–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è":**

1. **kernel/security/capability.vibee** (92% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å)
   - Capability-based security —Å–∏—Å—Ç–µ–º–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞

2. **services/vfs/vfs.vibee** (78% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å)
   - –°—Ö–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–æ–≤

3. **kernel/agent/tool_manager.vibee** (65% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ capabilities –∞–≥–µ–Ω—Ç–æ–≤
   - –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Ñ–∞–π–ª–∞?`,
                    tools: ['semantic_search', 'file_read']
                },
                '–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä': {
                    thinking: '–ó–∞–≥—Ä—É–∂–∞—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã...',
                    response: `üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ VIBEE OS v3.0**

\`\`\`
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      User Interface Layer       ‚îÇ
‚îÇ  (Vibee Specs / Natural Lang)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ        Safety Layer             ‚îÇ
‚îÇ  (Human-in-Loop / Approvals)    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ        Agent Layer              ‚îÇ
‚îÇ  (SWE / Test / DevOps Agents)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     Agent Kernel (LLM Core)     ‚îÇ
‚îÇ  Scheduler ‚îÇ Context ‚îÇ Memory   ‚îÇ
‚îÇ  Self-Hosting ‚îÇ Self-Improve    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     Semantic Services           ‚îÇ
‚îÇ  (Semantic FS / VFS / Net)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ    Traditional Kernel (HAL)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ    Platform Abstraction         ‚îÇ
‚îÇ  (WASM / Native / Cloud)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
\`\`\`

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. LLM –∫–∞–∫ —è–¥—Ä–æ (–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
2. Single-threaded agent (Devin insight)
3. Human-in-the-loop safety
4. Self-improvement —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
5. Specification Primacy`,
                    tools: ['file_read']
                }
            },
            
            async process(input) {
                this.state = 'thinking';
                updateStatus();
                
                // Find matching response
                let response = null;
                for (const [key, value] of Object.entries(this.responses)) {
                    if (input.toLowerCase().includes(key)) {
                        response = value;
                        break;
                    }
                }
                
                if (!response) {
                    response = {
                        thinking: '–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∑–∞–ø—Ä–æ—Å...',
                        response: `–ü–æ–Ω—è–ª –≤–∞—à—É –∑–∞–¥–∞—á—É: "${input}"

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ —è –º–æ–≥—É:
1. –°–æ–∑–¥–∞—Ç—å Vibee —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
4. –ù–∞–π—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã

–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?`,
                        tools: []
                    };
                }
                
                // Show thinking
                addMessage('thinking', response.thinking);
                await sleep(1500);
                
                // Show tool usage
                if (response.tools.length > 0) {
                    addMessage('system', `üîß –ò—Å–ø–æ–ª—å–∑—É—é: ${response.tools.join(', ')}`);
                    await sleep(800);
                }
                
                // Show response
                this.state = 'ready';
                this.contextTokens += Math.floor(Math.random() * 500) + 200;
                this.tokensToday += Math.floor(Math.random() * 500) + 200;
                this.tasksDone++;
                updateStatus();
                
                return response.response;
            }
        };
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        function addMessage(type, content) {
            const messages = document.getElementById('messages');
            const div = document.createElement('div');
            div.className = `message ${type}`;
            
            if (type === 'user') {
                div.innerHTML = `<div class="role">–í—ã</div>${escapeHtml(content)}`;
            } else if (type === 'agent') {
                div.innerHTML = `<div class="role">SWE Agent</div>${formatMarkdown(content)}`;
            } else if (type === 'thinking') {
                div.innerHTML = `<div class="role">üí≠ –î—É–º–∞—é...</div>${escapeHtml(content)}`;
            } else {
                div.textContent = content;
            }
            
            messages.appendChild(div);
            document.getElementById('chat-body').scrollTop = document.getElementById('chat-body').scrollHeight;
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function formatMarkdown(text) {
            // Simple markdown formatting
            return text
                .replace(/```(\w*)\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>')
                .replace(/`([^`]+)`/g, '<code>$1</code>')
                .replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>')
                .replace(/\n/g, '<br>');
        }
        
        function updateStatus() {
            document.getElementById('agent-status').textContent = 
                Agent.state === 'ready' ? 'Ready' : 'Processing...';
            document.getElementById('agent-status').className = 
                'value' + (Agent.state === 'ready' ? '' : ' warning');
            document.getElementById('context-tokens').textContent = 
                `${Agent.contextTokens.toLocaleString()} / 128K`;
            document.getElementById('memory-count').textContent = 
                `${Agent.memoryCount} –∑–∞–ø–∏—Å–µ–π`;
            document.getElementById('tokens-today').textContent = 
                Agent.tokensToday.toLocaleString();
            document.getElementById('tasks-done').textContent = 
                Agent.tasksDone;
        }
        
        async function sendMessage() {
            const input = document.getElementById('user-input');
            const text = input.value.trim();
            if (!text || Agent.state !== 'ready') return;
            
            input.value = '';
            addMessage('user', text);
            
            document.getElementById('send-btn').disabled = true;
            
            const response = await Agent.process(text);
            addMessage('agent', response);
            
            document.getElementById('send-btn').disabled = false;
            input.focus();
        }
        
        function sendQuick(text) {
            document.getElementById('user-input').value = text;
            sendMessage();
        }
        
        document.getElementById('user-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        // Initial status update
        updateStatus();
    </script>
</body>
</html>
