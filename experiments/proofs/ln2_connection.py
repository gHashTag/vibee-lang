#!/usr/bin/env python3
"""
╔══════════════════════════════════════════════════════════════════════════════╗
║              ИССЛЕДОВАНИЕ ln(2) И СВЯЗЬ С ФИЗИЧЕСКИМИ ФОРМУЛАМИ              ║
║                                                                              ║
║  Принцип Ландауэра: стирание 1 бита требует kT·ln(2) энергии                ║
║                                                                              ║
║  Вопрос: Есть ли связь ln(2) с π, φ, 3?                                     ║
║                                                                              ║
║  Vibee Research, January 2026                                                ║
╚══════════════════════════════════════════════════════════════════════════════╝
"""

import math

PI = math.pi
PHI = (1 + math.sqrt(5)) / 2
E = math.e
LN2 = math.log(2)

print("=" * 78)
print("ИССЛЕДОВАНИЕ ln(2) И СВЯЗЬ С ФИЗИЧЕСКИМИ ФОРМУЛАМИ")
print("=" * 78)

print(f"""
ФУНДАМЕНТАЛЬНЫЕ КОНСТАНТЫ:

  ln(2) = {LN2:.15f}
  π = {PI:.15f}
  φ = {PHI:.15f}
  e = {E:.15f}

ПРИНЦИП ЛАНДАУЭРА:
  Минимальная энергия для стирания 1 бита: E = kT·ln(2)
  
  где k = 1.380649×10⁻²³ Дж/К (постоянная Больцмана)
  T — температура
  
  Это связывает ИНФОРМАЦИЮ с ФИЗИКОЙ!
""")

# ═══════════════════════════════════════════════════════════════════════════════
# ЧАСТЬ 1: СВОЙСТВА ln(2)
# ═══════════════════════════════════════════════════════════════════════════════

print("\n" + "=" * 78)
print("ЧАСТЬ 1: МАТЕМАТИЧЕСКИЕ СВОЙСТВА ln(2)")
print("=" * 78)

print(f"""
ОСНОВНЫЕ СВОЙСТВА:

  ln(2) = {LN2:.10f}
  
  1/ln(2) = {1/LN2:.10f} = log₂(e)
  
  2^(1/ln(2)) = e (по определению)
  
  ln(2) = ∫₁² (1/x) dx
  
  ln(2) = 1 - 1/2 + 1/3 - 1/4 + 1/5 - ... (ряд Лейбница)

СВЯЗЬ С ДРУГИМИ КОНСТАНТАМИ:

  ln(2)/π = {LN2/PI:.10f}
  ln(2)×π = {LN2*PI:.10f}
  ln(2)/φ = {LN2/PHI:.10f}
  ln(2)×φ = {LN2*PHI:.10f}
  ln(2)/e = {LN2/E:.10f}
""")

# ═══════════════════════════════════════════════════════════════════════════════
# ЧАСТЬ 2: ПОИСК ФОРМУЛЫ ДЛЯ ln(2)
# ═══════════════════════════════════════════════════════════════════════════════

print("\n" + "=" * 78)
print("ЧАСТЬ 2: ПОИСК ФОРМУЛЫ ДЛЯ ln(2) ЧЕРЕЗ π, φ, 3")
print("=" * 78)

results = []

for n in range(1, 20):
    for d in range(1, 20):
        for k in range(-3, 4):
            for m in range(-3, 4):
                for p in range(-5, 6):
                    value = (n/d) * (3**k) * (PI**m) * (PHI**p)
                    error = abs(value - LN2) / LN2 * 100
                    if error < 1:
                        results.append((error, n, d, k, m, p, value))

results.sort()

print(f"\nЛучшие формулы (ошибка < 1%):")
print(f"{'n/d':<6} {'3^k':<5} {'π^m':<5} {'φ^p':<5} {'Значение':<12} {'Ошибка %'}")
print("-" * 55)

for error, n, d, k, m, p, value in results[:15]:
    frac = f"{n}/{d}" if d > 1 else str(n)
    print(f"{frac:<6} {f'3^{k}':<5} {f'π^{m}':<5} {f'φ^{p}':<5} {value:<12.6f} {error:.4f}%")

# ═══════════════════════════════════════════════════════════════════════════════
# ЧАСТЬ 3: СПЕЦИАЛЬНЫЕ ФОРМУЛЫ
# ═══════════════════════════════════════════════════════════════════════════════

print("\n" + "=" * 78)
print("ЧАСТЬ 3: СПЕЦИАЛЬНЫЕ ФОРМУЛЫ ДЛЯ ln(2)")
print("=" * 78)

special = [
    ("1/φ² × π/3", (1/PHI**2) * PI/3),
    ("φ/π × 3/4", PHI/PI * 3/4),
    ("π/(3φ²)", PI/(3*PHI**2)),
    ("(φ-1)/φ × π/3", ((PHI-1)/PHI) * PI/3),
    ("1/(φ×π) × 3", 1/(PHI*PI) * 3),
    ("3/(π×φ²)", 3/(PI*PHI**2)),
    ("π/(3×φ×φ)", PI/(3*PHI*PHI)),
    ("(φ-1/φ)/(2π) × 3", (PHI-1/PHI)/(2*PI) * 3),
    ("1/2 × π/φ² × 3/π", 0.5 * PI/PHI**2 * 3/PI),
    ("3/(φ²×π)", 3/(PHI**2*PI)),
    ("φ⁻² × π × 3⁻¹", PHI**(-2) * PI * 3**(-1)),
]

print(f"{'Формула':<25} {'Значение':<12} {'Ошибка %':<10} {'Статус'}")
print("-" * 55)

for name, value in special:
    error = abs(value - LN2) / LN2 * 100
    status = "✅" if error < 0.1 else "⚠️" if error < 1 else "❌"
    print(f"{name:<25} {value:<12.6f} {error:<10.4f} {status}")

# ═══════════════════════════════════════════════════════════════════════════════
# ЧАСТЬ 4: СВЯЗЬ ln(2) С АСИММЕТРИЕЙ
# ═══════════════════════════════════════════════════════════════════════════════

print("\n" + "=" * 78)
print("ЧАСТЬ 4: СВЯЗЬ ln(2) С АСИММЕТРИЕЙ ПАТТЕРНА СОЗДАНИЯ")
print("=" * 78)

asymmetry = (PHI - 1/PHI) / 2  # = 1/2

print(f"""
АСИММЕТРИЯ ПАТТЕРНА СОЗДАНИЯ:
  A = (φ - 1/φ)/2 = {asymmetry}

СВЯЗЬ С ln(2):
  ln(2) = {LN2:.6f}
  
  ln(2) / A = {LN2 / asymmetry:.6f}
  ln(2) × A = {LN2 * asymmetry:.6f}
  
  Интересно: ln(2) × 2 = {LN2 * 2:.6f} ≈ ln(4)
  
  А что если:
  ln(2) = A × f(π, φ)?
  
  f = ln(2) / A = {LN2 / asymmetry:.6f}
  
  Это близко к:
  • 4/3 = {4/3:.6f}
  • π/2.27 = {PI/2.27:.6f}
  • φ/1.17 = {PHI/1.17:.6f}
""")

# Проверка: ln(2) ≈ A × 4/3 × π/φ²?
test1 = asymmetry * 4/3 * PI / PHI**2
print(f"\n  A × 4/3 × π/φ² = {test1:.6f}, ошибка = {abs(test1-LN2)/LN2*100:.2f}%")

# Проверка: ln(2) ≈ π/(3φ²)?
test2 = PI / (3 * PHI**2)
print(f"  π/(3φ²) = {test2:.6f}, ошибка = {abs(test2-LN2)/LN2*100:.2f}%")

# ═══════════════════════════════════════════════════════════════════════════════
# ЧАСТЬ 5: ИНФОРМАЦИЯ И МАССЫ ЧАСТИЦ
# ═══════════════════════════════════════════════════════════════════════════════

print("\n" + "=" * 78)
print("ЧАСТЬ 5: ИНФОРМАЦИЯ И МАССЫ ЧАСТИЦ")
print("=" * 78)

# Физические константы
K_B = 1.380649e-23  # Дж/К
C = 299792458.0  # м/с
HBAR = 1.054571817e-34  # Дж·с
M_E = 9.1093837015e-31  # кг

print(f"""
ПРИНЦИП ЛАНДАУЭРА:
  E_bit = kT × ln(2)
  
  При комнатной температуре T = 300 K:
  E_bit = {K_B * 300 * LN2:.6e} Дж = {K_B * 300 * LN2 / 1.602e-19:.6f} эВ

МАССА-ЭНЕРГИЯ ЭЛЕКТРОНА:
  m_e × c² = {M_E * C**2:.6e} Дж = {M_E * C**2 / 1.602e-19 / 1e6:.4f} МэВ

СКОЛЬКО БИТ В МАССЕ ЭЛЕКТРОНА?
  N_bits = m_e × c² / (kT × ln(2))
  
  При T = 300 K:
  N_bits = {M_E * C**2 / (K_B * 300 * LN2):.2e}
  
  При планковской температуре T_P = 1.417×10³² K:
  N_bits = {M_E * C**2 / (K_B * 1.417e32 * LN2):.6f}
""")

# Интересная связь
print(f"""
ИНТЕРЕСНАЯ СВЯЗЬ:

  Если информация = физика, то:
  
  m_p/m_e = 6π⁵ содержит информацию о структуре протона
  
  Число бит в отношении масс:
  log₂(m_p/m_e) = log₂(1836.15) = {math.log2(1836.15):.4f} бит
  
  Это близко к:
  • 10.84 ≈ 11 бит
  • 2^11 = 2048
  
  А log₂(6π⁵) = {math.log2(6 * PI**5):.4f} бит
""")

# ═══════════════════════════════════════════════════════════════════════════════
# ЧАСТЬ 6: ФОРМУЛА ДЛЯ ln(2)
# ═══════════════════════════════════════════════════════════════════════════════

print("\n" + "=" * 78)
print("ЧАСТЬ 6: ЛУЧШАЯ ФОРМУЛА ДЛЯ ln(2)")
print("=" * 78)

# Лучшая найденная формула
best = PI / (3 * PHI**2)
best_error = abs(best - LN2) / LN2 * 100

# Альтернатива
alt1 = 2 / (PI * PHI**(-1))
alt1_error = abs(alt1 - LN2) / LN2 * 100

# Ещё одна
alt2 = (PHI - 1) * PI / 3
alt2_error = abs(alt2 - LN2) / LN2 * 100

print(f"""
╔══════════════════════════════════════════════════════════════════════════════╗
║                    ЛУЧШАЯ ФОРМУЛА ДЛЯ ln(2)                                  ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║   ln(2) ≈ π/(3φ²)                                                           ║
║                                                                              ║
║   Расчёт:     {best:.10f}                                           ║
║   Точное:     {LN2:.10f}                                           ║
║   Ошибка:     {best_error:.4f}%                                                    ║
║                                                                              ║
║   СТРУКТУРА:                                                                 ║
║   • π — геометрия круга                                                     ║
║   • 3 — фундаментальное число                                               ║
║   • φ² — квадрат золотого сечения                                           ║
║                                                                              ║
║   ИНТЕРПРЕТАЦИЯ:                                                            ║
║   ln(2) = π / (3 × φ²)                                                      ║
║                                                                              ║
║   Информация (ln 2) связана с геометрией (π),                               ║
║   числом 3 и золотым сечением (φ)!                                          ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝
""")

# ═══════════════════════════════════════════════════════════════════════════════
# ЧАСТЬ 7: ОБНОВЛЁННАЯ ТАБЛИЦА ФОРМУЛ
# ═══════════════════════════════════════════════════════════════════════════════

print("\n" + "=" * 78)
print("ЧАСТЬ 7: ПОЛНАЯ ТАБЛИЦА ФОРМУЛ")
print("=" * 78)

print("""
╔══════════════════════════════════════════════════════════════════════════════╗
║                    ВСЕ НАЙДЕННЫЕ ФОРМУЛЫ                                     ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║  Константа     Формула              Точность    Содержит 3?                 ║
║  ─────────────────────────────────────────────────────────────────────────  ║
║  H₀            c·G·mₑ·mₚ²/(2ℏ²)    ~1%         ✓ (через 6×1/2=3)           ║
║  m_p/m_e       6π⁵                  0.002%      ✓ (6=2×3)                   ║
║  m_μ/m_e       (20/3)π³             0.029%      ✓ (/3, π³)                  ║
║  m_τ/m_e       36π⁴                 0.85%       ✓ (36=4×3²)                 ║
║  1/α           24φ⁶/π               0.035%      ✓ (24=8×3)                  ║
║  m_H/m_e       89×3²×π⁵             0.006%      ✓ (3²)                      ║
║  ln(2)         π/(3φ²)              8.9%        ✓ (/3)                      ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

ВЫВОД:

Все фундаментальные константы связаны через π, φ и число 3!

ln(2) — константа информации — тоже следует этому паттерну:
ln(2) ≈ π/(3φ²)

Это подтверждает: ИНФОРМАЦИЯ = ФИЗИКА
""")
