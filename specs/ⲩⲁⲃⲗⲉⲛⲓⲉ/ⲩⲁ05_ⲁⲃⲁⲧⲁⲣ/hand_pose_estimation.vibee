# Hand Pose Estimation Module
# Based on arXiv research on hand-object interaction
# PAS Patterns: D&C, PRE, TEN

name: hand_pose_estimation
version: "1.0.0"
language: 999
module: ⲏⲁⲛⲇ_ⲡⲟⲥⲉ_ⲉⲥⲧⲓⲙⲁⲧⲓⲟⲛ

creation_pattern:
  source: HandImage
  transformer: HandPoseRegressor
  result: Hand3DKeypoints

pas_analysis:
  current_complexity: "O(n²)"
  target_complexity: "O(n)"
  patterns_applied: [D&C, PRE, TEN]
  confidence: 0.82
  arxiv_refs:
    - "2312.03846"  # HaMeR
    - "2308.02062"  # Hand-object reconstruction

components:
  - name: hand_detector
    type: detection_head
    description: "Hand bounding box detection"
    
  - name: keypoint_regressor
    type: heatmap_regression
    description: "21 keypoint estimation"
    
  - name: mesh_recovery
    type: mano_decoder
    description: "MANO mesh reconstruction"

behaviors:
  - name: estimate_2d_pose
    given: "Hand image crop"
    when: "2D pose requested"
    then: "Returns 21 2D keypoints"
    
  - name: estimate_3d_pose
    given: "Hand image crop"
    when: "3D pose requested"
    then: "Returns 21 3D keypoints"
    
  - name: recover_mesh
    given: "Hand image"
    when: "Mesh recovery requested"
    then: "Returns MANO mesh parameters"

test_cases:
  - name: freihand_test
    input: {resolution: [224, 224]}
    expected: {pa_mpjpe: 6.5, fps: 60}
