# EyeTracking - Neuromorphic Gaze Estimation
# Source: arXiv:2512.09969 - Neuromorphic Eye Tracking, arXiv:1910.00694 - RITnet
# PAS Analysis: PRE (pupil detection), MLS (gaze prediction), D&C (eye segmentation)

name: eye_tracking
version: "1.0.0"
language: 999
module: ⲈⲨⲈ_ⲦⲢⲀⲔⲔⲒⲚⲄ

pas_analysis:
  source_paper: "arXiv:2512.09969, arXiv:1910.00694"
  current_complexity: "O(n) frame-based processing"
  theoretical_lower_bound: "O(log n) event-based sparse"
  gap: "Linear to logarithmic via neuromorphic"
  patterns_applicable:
    - symbol: PRE
      name: "Precomputation"
      success_rate: 0.16
      rationale: "Pre-compute pupil templates"
    - symbol: MLS
      name: "ML-Guided Search"
      success_rate: 0.06
      rationale: "SNN for gaze prediction"
    - symbol: D&C
      name: "Divide-and-Conquer"
      success_rate: 0.31
      rationale: "Segment eye regions"
  confidence: 0.76
  predicted_improvement: "3.9mW power, 3ms latency, 1kHz"

creation_pattern:
  source: EyeImage
  transformer: NeuromorphicGazeEstimator
  result: GazeVector

behaviors:
  - name: pupil_detection
    given: "Eye image or event stream"
    when: "Apply LIF-based SNN"
    then: "Detect pupil center"
    test_cases:
      - name: neuromorphic_pupil
        input:
          sensor: "event_camera"
          resolution: [640, 480]
        expected:
          error_px: 3.7
          latency_ms: 3

  - name: gaze_estimation
    given: "Pupil position and eye corners"
    when: "Compute gaze vector"
    then: "Estimate point of regard"
    test_cases:
      - name: screen_gaze
        input:
          screen_distance: 60  # cm
          screen_size: [1920, 1080]
        expected:
          accuracy_cm: 1.8
          calibration_free: true

  - name: attention_prediction
    given: "Gaze trajectory over time"
    when: "Apply attention model"
    then: "Predict focus region"
    test_cases:
      - name: visual_attention
        input:
          trajectory_length: 100
          scene: "webpage"
        expected:
          auc: 0.85
          prediction_horizon_ms: 200

  - name: real_time_segmentation
    given: "Eye image"
    when: "Apply RITnet"
    then: "Segment pupil, iris, sclera"
    test_cases:
      - name: ritnet_segmentation
        input:
          resolution: [640, 400]
          model_size_mb: 1
        expected:
          accuracy: 0.953
          fps: 300

algorithms:
  neuromorphic_eye_tracking:
    sensor: "Event camera"
    processor: "SNN with LIF neurons"
    power: "3.9-4.9 mW"
    latency: "3 ms"
    rate: "1 kHz"
    
  ritnet:
    architecture: "U-Net + DenseNet"
    size: "< 1 MB"
    accuracy: 0.953
    fps: 300
    
  gaze_mapping:
    method: "Polynomial regression"
    calibration_points: 9
    error: "1.8 cm"

applications:
  - "VR/AR interaction"
  - "Accessibility (eye-controlled interfaces)"
  - "Driver monitoring"
  - "Attention analysis"
  - "Cognitive load estimation"

metrics:
  pupil_error_px: 3.7
  gaze_error_cm: 1.8
  power_mw: 4.4
  latency_ms: 3
  fps: 300
