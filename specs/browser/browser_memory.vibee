# VIBEE Browser Memory v0.0.1
name: browser_memory
version: "0.0.1"
language: zig
module: browser_memory

types:
  MemoryEntry:
    fields:
      id: String
      type: String
      content: String
      embedding: List<Float>
      timestamp: Timestamp
      importance: Float

  SessionHistory:
    fields:
      id: String
      entries: List<MemoryEntry>
      start_time: Timestamp
      end_time: Option<Timestamp>

  KnowledgeGraph:
    fields:
      nodes: List<Object>
      edges: List<Object>

  MemoryQuery:
    fields:
      query: String
      limit: Int
      min_relevance: Float

behaviors:
  - name: store_memory
    given: "Content and type"
    when: "Store"
    then: "Add to memory with embedding"

  - name: recall_memory
    given: "Query"
    when: "Recall"
    then: "Return relevant memories"

  - name: build_knowledge_graph
    given: "Memories"
    when: "Build"
    then: "Return knowledge graph"

  - name: get_session_history
    given: "Session ID"
    when: "Get"
    then: "Return session history"

  - name: forget_memory
    given: "Memory ID"
    when: "Forget"
    then: "Remove from memory"

  - name: export_memories
    given: "Filter"
    when: "Export"
    then: "Return exportable format"

test_cases:
  - name: test_store_recall
    input: { content: "important fact" }
    expected: { recalled: true }
  - name: test_knowledge_graph
    input: { memories: 10 }
    expected: { graph_built: true }
