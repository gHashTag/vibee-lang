# VIBEE Browser Email Integration v0.0.1
name: browser_email
version: "0.0.1"
language: zig
module: browser_email

types:
  Email:
    fields:
      id: String
      from: String
      to: List<String>
      subject: String
      body: String
      attachments: List<String>
      timestamp: Timestamp

  EmailDraft:
    fields:
      to: List<String>
      subject: String
      body: String
      attachments: List<String>

  EmailFilter:
    fields:
      from: Option<String>
      subject: Option<String>
      unread: Option<Bool>
      date_range: Option<Object>

behaviors:
  - name: connect_gmail
    given: "OAuth credentials"
    when: "Connect"
    then: "Establish Gmail connection"

  - name: connect_outlook
    given: "OAuth credentials"
    when: "Connect"
    then: "Establish Outlook connection"

  - name: list_emails
    given: "Filter"
    when: "List"
    then: "Return matching emails"

  - name: read_email
    given: "Email ID"
    when: "Read"
    then: "Return email content"

  - name: send_email
    given: "Email draft"
    when: "Send"
    then: "Send and return status"

  - name: draft_email
    given: "Context and intent"
    when: "Draft"
    then: "Generate email draft"

  - name: reply_to_email
    given: "Email ID and response"
    when: "Reply"
    then: "Send reply"

test_cases:
  - name: test_list_emails
    input: { filter: { unread: true } }
    expected: { emails_returned: true }
  - name: test_draft_email
    input: { intent: "schedule meeting" }
    expected: { draft_generated: true }
