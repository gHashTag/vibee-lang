# VIBEE Browser Voice v0.0.1
name: browser_voice
version: "0.0.1"
language: zig
module: browser_voice

types:
  VoiceInput:
    fields:
      audio_data: String
      duration: Float
      sample_rate: Int

  TranscriptionResult:
    fields:
      text: String
      confidence: Float
      language: String
      words: List<Object>

  SpeechConfig:
    fields:
      voice: String
      rate: Float
      pitch: Float
      language: String

  WakeWord:
    fields:
      phrase: String
      sensitivity: Float
      enabled: Bool

behaviors:
  - name: start_listening
    given: "Audio config"
    when: "Start"
    then: "Begin audio capture"

  - name: stop_listening
    given: "Active session"
    when: "Stop"
    then: "End audio capture"

  - name: transcribe
    given: "Audio data"
    when: "Transcribe"
    then: "Return text"

  - name: speak
    given: "Text and config"
    when: "Speak"
    then: "Generate and play audio"

  - name: detect_wake_word
    given: "Audio stream"
    when: "Listen"
    then: "Trigger on wake word"

  - name: voice_command
    given: "Transcribed text"
    when: "Process"
    then: "Execute command"

test_cases:
  - name: test_transcription
    input: { audio: "sample" }
    expected: { text_returned: true }
  - name: test_tts
    input: { text: "hello world" }
    expected: { audio_generated: true }
