# Autograd - Автоматическое дифференцирование
# PAS: Checkpointing для памяти
# Author: Dmitrii Vasilev
# Version: 1.0.0

name: autograd
version: "1.0.0"
language: 999
module: ⲙⲗ.ⲁⲃⲧⲟⲅⲣⲁⲇ

creation_pattern:
  source: ComputationGraph
  transformer: Autograd
  result: Gradients

pas_analysis:
  current: "Store all activations O(n)"
  target: "Checkpointing O(sqrt(n))"
  speedup: "sqrt(n) memory"
  confidence: 0.90
  patterns: ["D&C", "PRE"]

components:
  tape:
    name: "ⲖⲈⲚⲦⲀ"
    description: "Лента операций"
  backward:
    name: "ⲚⲀⲌⲀⲆ"
    description: "Обратный проход"
  grad_accumulator:
    name: "ⲀⲔⲔⲨⲘⲨⲖⲀⲦⲞⲢ"
    description: "Накопление градиентов"
  checkpoint:
    name: "ⲬⲈⲔⲠⲞⲒⲚⲦ"
    description: "Checkpointing"

behaviors:
  - name: forward
    given: "Входы + операции"
    when: "Forward pass"
    then: "Выход + записанный граф"
  - name: backward
    given: "Loss + граф"
    when: "Backward pass"
    then: "Градиенты всех параметров"
  - name: checkpoint_backward
    given: "Loss + checkpoints"
    when: "Memory-efficient backward"
    then: "Градиенты с O(sqrt(n)) памятью"
