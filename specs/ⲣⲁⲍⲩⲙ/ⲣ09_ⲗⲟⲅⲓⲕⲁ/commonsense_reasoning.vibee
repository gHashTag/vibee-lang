# Commonsense Reasoning Module
# Based on arXiv:2503.18491 (MAGIC-VQA), arXiv:2405.05616 (G-SAP), arXiv:2309.15427 (Graph Neural Prompting)
# PAS Patterns: HSH, PRE, MLS

name: commonsense_reasoning
version: "1.0.0"
language: 999
module: ⲕⲟⲙⲙⲟⲛⲥⲉⲛⲥⲉ_ⲣⲉⲁⲥⲟⲛⲓⲛⲅ

creation_pattern:
  source: QueryContext
  transformer: GNNKnowledgeGraph
  result: CommonsenseAnswer

pas_analysis:
  current_complexity: "O(n²)"
  target_complexity: "O(n)"
  patterns_applied: [HSH, PRE, MLS]
  confidence: 0.70
  arxiv_refs:
    - "2503.18491"  # MAGIC-VQA: GNN + LVLMs
    - "2405.05616"  # G-SAP: 6.12% improvement
    - "2309.15427"  # Graph Neural Prompting

components:
  - name: knowledge_graph
    type: gnn_enhanced
    description: "Graph neural network over ConceptNet/ATOMIC"
    
  - name: semantic_retriever
    type: hash_based
    description: "Fast semantic concept retrieval"
    
  - name: reasoning_engine
    type: neural_symbolic
    description: "Hybrid neural-symbolic reasoner"

behaviors:
  - name: retrieve_relevant_knowledge
    given: "Natural language query"
    when: "Commonsense knowledge needed"
    then: "Returns relevant knowledge subgraph"
    
  - name: reason_with_context
    given: "Query and knowledge subgraph"
    when: "Reasoning requested"
    then: "Produces reasoned answer with explanation"
    
  - name: validate_commonsense
    given: "Statement to validate"
    when: "Plausibility check requested"
    then: "Returns plausibility score with reasoning"

api:
  - query: "(question: String, context: String?) -> CommonsenseAnswer"
  - retrieve: "(concepts: String[]) -> KnowledgeSubgraph"
  - validate: "(statement: String) -> PlausibilityScore"
