# VIBEE Specification: RISE - Reasoning Interpretability via Sparse Auto-Encoder
# Based on arXiv:2512.23988
# Author: Dmitrii Vasilev

name: rise_reasoning
version: "1.0.0"
language: "999"
module: ‚≤£‚≤ì‚≤•‚≤â_‚≤£‚≤Å‚≤•‚≤•‚≤©‚≤ù‚≤á‚≤â‚≤õ‚≤ì‚≤â

creation_pattern:
  source: ChainOfThoughtTrace
  transformer: SparseAutoEncoder
  result: ReasoningVectors

description: |
  RISE discovers reasoning behaviors unsupervised by:
  1. Segmenting CoT traces into sentence-level steps
  2. Training SAE on step-level activations
  3. Uncovering disentangled features (reflection, backtracking, etc.)
  4. Enabling controllable amplification/suppression of behaviors

pas_analysis:
  current_algorithm: "Black-box CoT"
  current_complexity: "O(n) tokens, 0% interpretability"
  predicted_improvement: "Interpretable reasoning vectors"
  patterns_applied: [PRE, MLS]
  confidence: 0.78
  scientific_reference: "arXiv:2512.23988"

behaviors:
  - name: segment_cot_trace
    given: Raw chain-of-thought output
    when: Preprocessing for SAE
    then: Sentence-level steps extracted
    test_cases:
      - name: simple_math_trace
        input: { trace: "First, I add 2+2=4. Then, I multiply by 3. The answer is 12." }
        expected: { steps: 3, segments: ["add 2+2=4", "multiply by 3", "answer is 12"] }

  - name: train_step_sae
    given: Step-level activations from LLM
    when: SAE training initiated
    then: Monosemantic features extracted
    test_cases:
      - name: extract_reflection
        input: { activations: [0.8, 0.1, 0.9, 0.2], layer: 12 }
        expected: { features: ["reflection", "calculation"], sparsity: 0.85 }

  - name: identify_reasoning_behavior
    given: SAE feature activations
    when: Analyzing reasoning step
    then: Behavior type classified
    test_cases:
      - name: detect_backtracking
        input: { text: "Wait, let me reconsider this approach..." }
        expected: { behavior: "backtracking", confidence: 0.92 }
      - name: detect_verification
        input: { text: "Let me check: 4 * 3 = 12. Yes, correct." }
        expected: { behavior: "verification", confidence: 0.88 }

  - name: steer_reasoning_behavior
    given: Target behavior to amplify/suppress
    when: Intervention applied to SAE vectors
    then: Reasoning trajectory modified
    test_cases:
      - name: amplify_reflection
        input: { behavior: "reflection", strength: 1.5 }
        expected: { output_change: "more_deliberate", side_effects: "minimal" }
      - name: suppress_overthinking
        input: { behavior: "overthinking", strength: -0.5 }
        expected: { output_change: "more_concise", accuracy: "maintained" }

  - name: visualize_reasoning_flow
    given: Sequence of reasoning behaviors
    when: Rendering visualization
    then: Flow diagram with behavior annotations
    test_cases:
      - name: render_math_reasoning
        input: { behaviors: ["planning", "calculation", "verification", "conclusion"] }
        expected: { nodes: 4, edges: 3, colors: ["blue", "green", "yellow", "purple"] }

reasoning_behaviors:
  - name: planning
    coptic: ‚≤†‚≤ñ‚≤Ä‚≤ö
    icon: "üéØ"
    color: "rgba(100, 200, 255, 0.8)"
    description: "Setting up approach"
    
  - name: calculation
    coptic: ‚≤î‚≤Ä‚≤ñ‚≤î
    icon: "üî¢"
    color: "rgba(100, 255, 150, 0.8)"
    description: "Performing computation"
    
  - name: reflection
    coptic: ‚≤¢‚≤à‚≤™‚≤ñ
    icon: "ü™û"
    color: "rgba(200, 100, 255, 0.8)"
    description: "Reconsidering approach"
    
  - name: backtracking
    coptic: ‚≤Ç‚≤Ä‚≤î‚≤¶
    icon: "‚Ü©Ô∏è"
    color: "rgba(255, 150, 100, 0.8)"
    description: "Reverting to earlier state"
    
  - name: verification
    coptic: ‚≤Ç‚≤à‚≤¢‚≤í
    icon: "‚úì"
    color: "rgba(100, 255, 100, 0.8)"
    description: "Checking correctness"
    
  - name: conclusion
    coptic: ‚≤î‚≤û‚≤ö‚≤î
    icon: "üèÅ"
    color: "rgba(255, 215, 0, 0.8)"
    description: "Final answer"
    
  - name: overthinking
    coptic: ‚≤û‚≤Ç‚≤à‚≤¢
    icon: "üåÄ"
    color: "rgba(255, 100, 100, 0.8)"
    description: "Excessive deliberation"

exports:
  - segment_cot_trace
  - train_step_sae
  - identify_reasoning_behavior
  - steer_reasoning_behavior
  - visualize_reasoning_flow
