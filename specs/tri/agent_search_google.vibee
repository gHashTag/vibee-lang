name: agent_search_google
version: "1.0.0"
language: zig
module: agent_search_google

description: |
  Agent Search Google - поиск в Google
  Бенчмарк WebVoyager: 87% на реальных сайтах
  φ² + 1/φ² = 3 | PHOENIX = 999

types:
  SearchQuery:
    fields:
      query: String
      site_filter: Option<String>
      date_range: Option<String>
      file_type: Option<String>

  SearchResult:
    fields:
      title: String
      url: String
      snippet: String
      position: Int

  SearchResults:
    fields:
      query: String
      results: List<String>
      total_results: Int
      search_time_ms: Float

  SearchConfig:
    fields:
      max_results: Int
      safe_search: Bool
      language: String
      region: String

behaviors:
  - name: search
    given: SearchQuery запрос
    when: Выполнение поиска в Google
    then: SearchResults

  - name: search_images
    given: SearchQuery запрос
    when: Поиск изображений
    then: SearchResults с изображениями

  - name: search_news
    given: SearchQuery запрос
    when: Поиск новостей
    then: SearchResults с новостями

  - name: get_next_page
    given: Текущие SearchResults
    when: Переход на следующую страницу
    then: SearchResults следующей страницы

  - name: click_result
    given: SearchResult для перехода
    when: Клик по результату
    then: Переход на страницу

  - name: extract_featured_snippet
    given: Текущие результаты
    when: Извлечение featured snippet
    then: Текст snippet или null
