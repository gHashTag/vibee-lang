name: lsp_server_v19490
version: "1.0.0"
language: zig
module: lsp_server_v19490

types:
  LspServerFull:
    fields:
      core: String
      diagnostics: String
      completion: String
      hover: String
      definition: String
      references: String
      rename: String
      formatting: String
      symbols: String

  ServerMetrics:
    fields:
      requests_handled: Int
      avg_response_ms: Int
      documents_open: Int
      memory_used: Int

behaviors:
  - name: server_start
    given: "Server startup"
    when: "LSP server starts"
    then: "Returns running server"

  - name: server_metrics
    given: "Metrics request"
    when: "Server reports metrics"
    then: "Returns server metrics"

  - name: server_stop
    given: "Stop request"
    when: "Server stops"
    then: "Shuts down cleanly"
