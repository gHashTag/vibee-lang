# VIBEE Specification v14310
# Progressive Networks - Growing networks for new tasks
name: progressive_networks_v14310
version: "1.0.0"
language: zig
module: progressive_networks

types:
  Column:
    fields:
      layers: String
      task_id: Int
      frozen: Bool

  LateralConnection:
    fields:
      source_column: Int
      target_column: Int
      adapter: String

  ProgressiveNet:
    fields:
      columns: String
      laterals: String
      num_tasks: Int

  ProgressiveResult:
    fields:
      task_outputs: String
      forward_transfer: Float
      param_count: Int

behaviors:
  - name: add_column
    given: New task
    when: Addition done
    then: Returns updated network

  - name: add_laterals
    given: New column
    when: Connection done
    then: Returns lateral connections

  - name: forward_progressive
    given: Input and task_id
    when: Forward done
    then: Returns progressive result

  - name: freeze_column
    given: Column index
    when: Freezing done
    then: Returns frozen column
