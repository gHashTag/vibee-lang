# VIBEE Specification v13515
# Screen Annotations
# KOSCHEI CYCLE 11 - 1000000x SPEEDUP

name: screen_annotate
version: "13515"
language: zig
module: screen_annotate

types:
  AnnotationConfig:
    fields:
      tool: String
      color: String
      stroke_width: Int
      opacity: Float

  Annotation:
    fields:
      id: String
      annotation_type: String
      points: List<Object>
      style: Object
      author_id: String
      timestamp: Timestamp

  DrawingTool:
    fields:
      tool_type: String
      cursor: String
      settings: Object

  AnnotationLayer:
    fields:
      layer_id: String
      annotations: List<Object>
      visible: Bool
      locked: Bool

  AnnotationMetrics:
    fields:
      annotations_created: Int
      annotations_deleted: Int
      active_users: Int

  TextAnnotation:
    fields:
      id: String
      text: String
      position: Object
      font_size: Int
      color: String

behaviors:
  - name: start_annotation
    given: Annotation tool
    When: Drawing started
    then: Annotation begun

  - name: add_point
    given: Active annotation
    When: Point added
    then: Point recorded

  - name: complete_annotation
    given: Active annotation
    When: Drawing completed
    then: Annotation finalized

  - name: delete_annotation
    given: Annotation ID
    When: Delete requested
    then: Annotation removed

  - name: clear_all
    given: Annotation layer
    When: Clear requested
    then: All annotations cleared

  - name: export_annotations
    given: Annotations to export
    When: Export requested
    then: Annotations exported

creation_pattern:
  source: AnnotationConfig
  transformer: AnnotationEngine
  result: Annotation
