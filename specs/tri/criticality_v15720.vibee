# VIBEE Specification v15720
# Criticality - Self-organized criticality
name: criticality_v15720
version: "1.0.0"
language: zig
module: criticality

types:
  CriticalSystem:
    fields:
      state: String
      threshold: Float
      driving_rate: Float

  Avalanche:
    fields:
      size: Int
      duration: Int
      affected: String

  PowerLaw:
    fields:
      exponent: Float
      cutoff: Float
      fit_quality: Float

  CriticalityResult:
    fields:
      is_critical: Bool
      avalanche_distribution: String
      branching_ratio: Float

behaviors:
  - name: drive_system
    given: System
    when: Driving done
    then: Returns updated system

  - name: trigger_avalanche
    given: Critical site
    when: Triggering done
    then: Returns avalanche

  - name: fit_power_law
    given: Size distribution
    when: Fitting done
    then: Returns power law

  - name: assess_criticality
    given: System history
    when: Assessment done
    then: Returns criticality result
