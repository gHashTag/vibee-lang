# iGLA Video Temporal
# Temporal modeling for video understanding
# Scientific basis: Arnab et al. 2021, Bertasius et al. 2021
# φ² + 1/φ² = 3 | V = n × 3^k × π^m × φ^p

name: igla_video_temporal
version: "1.0.0"
language: zig
module: igla_video_temporal

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

types:
  TemporalConfig:
    fields:
      window_size: Int
      stride: Int
      attention_type: String

  TemporalAttention:
    fields:
      query: String
      key: String
      value: String
      weights: String

  TemporalSegment:
    fields:
      start_frame: Int
      end_frame: Int
      embedding: String

  ActionBoundary:
    fields:
      frame_id: Int
      confidence: Float
      action_before: String
      action_after: String

  TemporalGraph:
    fields:
      nodes: String
      edges: String
      temporal_order: String

  MotionFeature:
    fields:
      optical_flow: String
      motion_magnitude: Float

behaviors:
  - name: temporal_attention
    given: "Frame embeddings"
    when: "Temporal attention"
    then: "Attended embeddings"

  - name: segment_video
    given: "Video, boundaries"
    when: "Segmentation"
    then: "Temporal segments"

  - name: detect_boundaries
    given: "Frame embeddings"
    when: "Boundary detection"
    then: "Action boundaries"

  - name: build_temporal_graph
    given: "Segments"
    when: "Graph construction"
    then: "Temporal graph"

  - name: compute_motion
    given: "Frame pair"
    when: "Motion estimation"
    then: "Motion features"

  - name: temporal_pooling
    given: "Segment embeddings"
    when: "Pooling"
    then: "Video embedding"

  - name: causal_attention
    given: "Frame sequence"
    when: "Causal modeling"
    then: "Causal embeddings"

  - name: phi_temporal_windows
    given: "Video length"
    when: "Sacred windowing"
    then: "φ-ratio windows"
