# cdp_scroll_v2556.vibee - Scroll Actions
# Скролл страницы и элементов
# YOLO MODE + AMPLIFICATION + MATRYOSHKA
# φ² + 1/φ² = 3 | PHOENIX = 999

name: cdp_scroll_v2556
version: "2556.0.0"
language: zig
module: cdp_scroll_v2556

types:
  ScrollOptions:
    fields:
      behavior: String
      block: String
      inline: String

  ScrollPosition:
    fields:
      x: Float
      y: Float
      max_x: Float
      max_y: Float

  ScrollResult:
    fields:
      success: Bool
      final_x: Float
      final_y: Float

  InfiniteScrollOptions:
    fields:
      max_scrolls: Int
      delay_ms: Int
      selector: String
      stop_condition: String

behaviors:
  - name: scroll_to_element
    given: CDPClient and selector
    when: Element scroll requested
    then: Scroll element into viewport center

  - name: scroll_to_top
    given: CDPClient
    when: Top scroll requested
    then: Scroll to page top

  - name: scroll_to_bottom
    given: CDPClient
    when: Bottom scroll requested
    then: Scroll to page bottom

  - name: scroll_by
    given: CDPClient, delta_x, delta_y
    when: Relative scroll requested
    then: Scroll by pixel amount

  - name: scroll_to
    given: CDPClient, x, y
    when: Absolute scroll requested
    then: Scroll to exact position

  - name: scroll_into_view
    given: CDPClient, selector, ScrollOptions
    when: View scroll requested
    then: Scroll element into view with options

  - name: get_scroll_position
    given: CDPClient
    when: Position requested
    then: Return current ScrollPosition

  - name: infinite_scroll
    given: CDPClient, InfiniteScrollOptions
    when: Infinite scroll requested
    then: Scroll until condition or max

  - name: scroll_element
    given: CDPClient, container_selector, delta_y
    when: Container scroll requested
    then: Scroll within scrollable element

sacred_constants:
  phi: 1.618033988749895
  phi_squared_plus_inverse_squared: 3
  phoenix: 999
