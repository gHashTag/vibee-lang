# VIBEE Specification v13555
# Search Tool
# KOSCHEI CYCLE 11 - 1000000x SPEEDUP

name: tools_search
version: "13555"
language: zig
module: tools_search

types:
  SearchTool:
    fields:
      id: String
      providers: List<String>
      default_provider: String

  SearchQuery:
    fields:
      query: String
      provider: String
      max_results: Int
      filters: Object

  SearchResult:
    fields:
      title: String
      url: String
      snippet: String
      source: String

  SearchResponse:
    fields:
      query: String
      results: List<Object>
      total_results: Int
      search_time_ms: Int

  SearchMetrics:
    fields:
      searches_total: Int
      results_returned: Int
      avg_search_time_ms: Float

  SearchFilter:
    fields:
      date_range: Object
      site: String
      file_type: String

behaviors:
  - name: search_web
    given: Search query
    When: Web search requested
    then: Web results returned

  - name: search_code
    given: Code query
    When: Code search requested
    then: Code results returned

  - name: search_docs
    given: Documentation query
    When: Doc search requested
    then: Documentation results returned

  - name: search_images
    given: Image query
    When: Image search requested
    then: Image results returned

  - name: filter_results
    given: Results and filters
    When: Filtering requested
    then: Results filtered

  - name: rank_results
    given: Search results
    When: Ranking requested
    then: Results ranked

creation_pattern:
  source: SearchQuery
  transformer: SearchEngine
  result: SearchResponse
