# E2E Report Generator
# Generate test reports
# Summary, details, metrics

name: e2e_report_generator
version: "1.0.0"
language: zig
module: e2e_report_generator

types:
  TestReport:
    fields:
      report_id: String
      timestamp: Timestamp
      total_tests: Int
      passed: Int
      failed: Int
      skipped: Int

  ReportSection:
    fields:
      section_id: String
      title: String
      content: String

  TestSummary:
    fields:
      suite_name: String
      pass_rate: Float
      duration_ms: Int
      failures: List<String>

  FailureDetail:
    fields:
      test_id: String
      error_message: String
      stack_trace: Option<String>
      screenshot: Option<String>

  MetricsReport:
    fields:
      avg_latency_ms: Int
      p95_latency_ms: Int
      throughput: Float
      memory_peak_mb: Int

behaviors:
  - name: generate_summary
    given: Test results
    when: Summary needed
    then: Returns test summary

  - name: generate_detailed_report
    given: All test data
    when: Detailed report needed
    then: Returns full report

  - name: generate_failure_report
    given: Failed tests
    when: Failure report needed
    then: Returns failure details

  - name: generate_metrics_report
    given: Performance data
    when: Metrics report needed
    then: Returns metrics report

  - name: export_to_markdown
    given: Report
    When: Markdown export needed
    then: Returns markdown string

  - name: export_to_json
    given: Report
    when: JSON export needed
    then: Returns JSON string

  - name: compare_reports
    given: Two reports
    when: Comparison needed
    then: Returns comparison result
