name: agent_multitab_orchestrator
version: "1.0.0"
language: zig
module: agent_multitab_orchestrator

description: |
  Agent Multi-Tab Orchestrator - оркестрация вкладок
  OpenAI Operator: одна вкладка за раз
  VIBEE: параллельная работа с несколькими вкладками
  φ² + 1/φ² = 3 | PHOENIX = 999

types:
  TabState:
    fields:
      tab_id: String
      url: String
      title: String
      status: String
      task_assigned: Option<String>

  TabGroup:
    fields:
      group_id: String
      tabs: List<String>
      purpose: String

  OrchestratorConfig:
    fields:
      max_tabs: Int
      parallel_limit: Int
      auto_close_completed: Bool

  OrchestratorState:
    fields:
      active_tabs: List<String>
      pending_tasks: List<String>
      completed_tasks: List<String>

behaviors:
  - name: create_tab
    given: URL для новой вкладки
    when: Создание вкладки
    then: TabState новой вкладки

  - name: close_tab
    given: tab_id для закрытия
    when: Закрытие вкладки
    then: Вкладка закрыта

  - name: switch_to_tab
    given: tab_id целевой вкладки
    when: Переключение фокуса
    then: Вкладка активна

  - name: list_tabs
    given: Текущая сессия
    when: Получение списка вкладок
    then: Список TabState

  - name: group_tabs
    given: Список tab_id и purpose
    when: Группировка вкладок
    then: TabGroup

  - name: close_group
    given: TabGroup для закрытия
    when: Закрытие группы вкладок
    then: Все вкладки группы закрыты
