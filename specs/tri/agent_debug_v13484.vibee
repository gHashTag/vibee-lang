# VIBEE Specification v13484
# Debugging Agent
# KOSCHEI CYCLE 11 - 1000000x SPEEDUP

name: agent_debug
version: "13484"
language: zig
module: agent_debug

types:
  DebugAgent:
    fields:
      id: String
      target_process: String
      breakpoints: List<String>
      watch_expressions: List<String>
      status: String

  DebugSession:
    fields:
      session_id: String
      language: String
      file_path: String
      line_number: Int
      stack_trace: List<String>

  Breakpoint:
    fields:
      id: String
      file: String
      line: Int
      condition: String
      hit_count: Int
      enabled: Bool

  VariableInspection:
    fields:
      name: String
      value: String
      var_type: String
      scope: String
      children: List<Object>

  DebugAction:
    fields:
      action_type: String
      target: String
      parameters: Object
      result: String

  BugAnalysis:
    fields:
      error_type: String
      root_cause: String
      affected_files: List<String>
      suggested_fix: String
      confidence: Float

behaviors:
  - name: start_debug_session
    given: Target program and config
    when: Debug session requested
    then: Debugger attached and ready

  - name: set_breakpoint
    given: File and line number
    when: Breakpoint requested
    then: Breakpoint set and active

  - name: inspect_variable
    given: Variable name in scope
    when: Inspection requested
    then: Variable value and type returned

  - name: step_execution
    given: Paused execution
    when: Step command issued
    then: Execution advances one step

  - name: analyze_bug
    given: Error or unexpected behavior
    when: Bug analysis requested
    then: Root cause analysis provided

  - name: suggest_fix
    given: Identified bug
    when: Fix suggestion requested
    then: Code fix suggested

creation_pattern:
  source: DebugConfig
  transformer: DebugAgent
  result: DebugSession
