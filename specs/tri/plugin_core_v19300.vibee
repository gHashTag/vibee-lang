name: plugin_core_v19300
version: "1.0.0"
language: zig
module: plugin_core_v19300

types:
  Plugin:
    fields:
      id: String
      name: String
      version: String
      entry_point: String
      dependencies: List<String>

  PluginState:
    fields:
      loaded: Bool
      active: Bool
      error_msg: String

behaviors:
  - name: plugin_load
    given: "Plugin path"
    when: "Loader loads plugin"
    then: "Returns loaded plugin"

  - name: plugin_activate
    given: "Loaded plugin"
    when: "Activator activates"
    then: "Returns active plugin"

  - name: plugin_deactivate
    given: "Active plugin"
    when: "Deactivator deactivates"
    then: "Returns inactive plugin"
