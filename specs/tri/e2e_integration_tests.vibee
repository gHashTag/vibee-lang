# E2E Integration Tests
# Test full pipeline integration
# Zig → Bridge → Node.js → Browser

name: e2e_integration_tests
version: "1.0.0"
language: zig
module: e2e_integration_tests

types:
  IntegrationTest:
    fields:
      test_id: String
      components: List<String>
      expected_flow: String

  PipelineTest:
    fields:
      start_component: String
      end_component: String
      data_flow: String

  BridgeTest:
    fields:
      request_type: String
      expected_response: String

  EndToEndTest:
    fields:
      user_task: String
      expected_outcome: String
      components_involved: List<String>

behaviors:
  - name: test_zig_to_bridge
    given: Zig request
    when: Bridge communication test
    then: Returns test result

  - name: test_bridge_to_node
    given: Bridge message
    when: Node.js communication test
    then: Returns test result

  - name: test_node_to_browser
    given: Playwright command
    when: Browser control test
    then: Returns test result

  - name: test_full_pipeline
    given: User task
    when: Full pipeline test
    then: Returns test result

  - name: test_context_engineering
    given: Context template
    When: Context test
    then: Returns test result

  - name: test_llm_integration
    given: LLM request
    when: LLM test
    then: Returns test result

  - name: test_agent_browser_loop
    given: Agent task
    when: Agent-browser test
    then: Returns test result
