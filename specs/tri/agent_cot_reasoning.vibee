# Chain of Thought Reasoning Module
# Step-by-step reasoning for complex problems
# Integrates with ReAct for enhanced reasoning

name: agent_cot_reasoning
version: "1.0.0"
language: zig
module: agent_cot_reasoning

types:
  ReasoningChain:
    fields:
      chain_id: String
      steps: List<String>
      conclusion: String
      confidence: Float

  ReasoningStep:
    fields:
      step_id: String
      step_number: Int
      premise: String
      inference: String
      result: String

  ReasoningStrategy:
    fields:
      strategy_type: String
      decomposition_method: String
      verification_enabled: Bool

  SelfConsistency:
    fields:
      num_samples: Int
      temperature: Float
      voting_method: String
      final_answer: String

  ReasoningVerification:
    fields:
      verification_id: String
      original_chain: String
      verification_result: Bool
      corrections: List<String>

behaviors:
  - name: decompose_problem
    given: Complex problem statement
    when: Problem decomposition is needed
    then: Returns list of sub-problems

  - name: generate_reasoning_chain
    given: Problem and decomposition
    when: Step-by-step reasoning is needed
    then: Returns complete reasoning chain

  - name: verify_reasoning
    given: Reasoning chain
    when: Verification is requested
    then: Returns verification result with corrections

  - name: apply_self_consistency
    given: Problem and sampling config
    when: Multiple reasoning paths needed
    then: Returns majority-voted answer

  - name: extract_intermediate_results
    given: Reasoning chain
    when: Intermediate values needed
    then: Returns extracted intermediate results

  - name: combine_with_action
    given: Reasoning chain and action space
    when: ReAct integration needed
    then: Returns thought-action pair
