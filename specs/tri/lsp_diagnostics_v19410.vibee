name: lsp_diagnostics_v19410
version: "1.0.0"
language: zig
module: lsp_diagnostics_v19410

types:
  Diagnostic:
    fields:
      range_start: Int
      range_end: Int
      severity: Int
      message: String
      source: String

  DiagnosticReport:
    fields:
      uri: String
      diagnostics: List<String>
      version: Int

behaviors:
  - name: diagnostics_analyze
    given: "Document content"
    when: "Analyzer analyzes"
    then: "Returns diagnostics"

  - name: diagnostics_publish
    given: "Diagnostic report"
    when: "Publisher publishes"
    then: "Sends to client"

  - name: diagnostics_clear
    given: "Document URI"
    when: "Clearer clears"
    then: "Removes diagnostics"
