# VIBEE AUTO-PROMPTING FOUNDATION v10807
# φ² + 1/φ² = 3 | PHOENIX = 999

name: auto_prompting_v10807
version: "10807.0.0"
language: zig
module: auto_prompting_v10807

types:
  PromptCandidate:
    fields:
      candidate_id: String
      prompt_text: String
      score: Float
      generation_method: String

  PromptSearch:
    fields:
      search_id: String
      objective: String
      candidates: List<PromptCandidate>
      best_candidate: String

  MetaPrompt:
    fields:
      meta_id: String
      instruction: String
      task_description: String
      output_format: String

  PromptMutation:
    fields:
      mutation_type: String
      original: String
      mutated: String
      mutation_strength: Float

  PromptCrossover:
    fields:
      parent_a: String
      parent_b: String
      offspring: String
      crossover_point: Int

  PromptPopulation:
    fields:
      population_id: String
      prompts: List<PromptCandidate>
      generation: Int
      avg_fitness: Float

  PromptEvolution:
    fields:
      evolution_id: String
      generations: Int
      mutation_rate: Float
      crossover_rate: Float
      selection_pressure: Float

  PromptScorer:
    fields:
      scorer_type: String
      evaluation_samples: Int
      metric: String

  APEConfig:
    fields:
      num_candidates: Int
      num_iterations: Int
      temperature: Float
      diversity_weight: Float

  PromptDiscovery:
    fields:
      discovery_id: String
      task: String
      discovered_prompt: String
      performance: Float

behaviors:
  - name: generate_candidates
    given: "Task and meta-prompt"
    when: "Candidate generation requested"
    then: "Returns prompt candidates"

  - name: evaluate_prompt
    given: "Prompt and test cases"
    when: "Evaluation requested"
    then: "Returns prompt score"

  - name: mutate_prompt
    given: "Prompt and mutation config"
    when: "Mutation requested"
    then: "Returns mutated prompt"

  - name: crossover_prompts
    given: "Two prompts"
    when: "Crossover requested"
    then: "Returns offspring prompt"

  - name: evolve_population
    given: "Population and config"
    when: "Evolution requested"
    then: "Returns evolved population"

  - name: search_prompts
    given: "Objective and config"
    when: "Search requested"
    then: "Returns search result"

  - name: create_meta_prompt
    given: "Task description"
    when: "Meta-prompt creation requested"
    then: "Returns meta-prompt"

  - name: select_best
    given: "Population"
    when: "Selection requested"
    then: "Returns best prompt"

  - name: diversify_candidates
    given: "Candidates"
    when: "Diversification requested"
    then: "Returns diverse candidates"

  - name: discover_prompt
    given: "Task and APE config"
    when: "Discovery requested"
    then: "Returns discovered prompt"
