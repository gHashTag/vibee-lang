name: concept_activation_v16820
version: "1.0.0"
language: zig
module: concept_activation

types:
  ConceptVector:
    fields:
      concept: String
      vector: String
      layer: Int

  CAVResult:
    fields:
      concept: String
      tcav_score: Float
      statistical_significance: Float

  ConceptSet:
    fields:
      positive_examples: String
      negative_examples: String

  TCAVConfig:
    fields:
      layer: Int
      num_runs: Int

behaviors:
  - name: train_cav
    given: Concept examples and layer
    when: Linear classifier training
    then: Return concept vector

  - name: compute_tcav
    given: CAV and class
    when: Directional derivative
    then: Return TCAV score

  - name: test_significance
    given: TCAV scores
    when: Statistical testing
    then: Return significance
