# VIBEE Specification v13450
# Image Generation - Diffusion-based image synthesis
name: image_generation_v13450
version: "1.0.0"
language: zig
module: image_generation

types:
  GenerationModel:
    fields:
      stable_diffusion: String
      dalle: String
      midjourney: String
      imagen: String

  GenerationPrompt:
    fields:
      positive: String
      negative: String
      guidance_scale: Float
      num_steps: Int

  LatentSpace:
    fields:
      latents: String
      shape: String
      dtype: String

  GeneratedImage:
    fields:
      pixels: String
      width: Int
      height: Int
      seed: Int

  GenerationConfig:
    fields:
      model_type: String
      scheduler: String
      num_inference_steps: Int
      guidance_scale: Float

behaviors:
  - name: encode_prompt
    given: Text prompt
    when: Encoding done
    then: Returns prompt embeddings

  - name: sample_latents
    given: Noise and config
    when: Sampling done
    then: Returns latent space

  - name: denoise_step
    given: Latents and timestep
    when: Denoising done
    then: Returns denoised latents

  - name: decode_latents
    given: Final latents
    when: Decoding done
    then: Returns generated image
