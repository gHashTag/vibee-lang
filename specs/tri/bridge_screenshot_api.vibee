# Bridge Screenshot API
# Screenshot and PDF generation
# Visual capture

name: bridge_screenshot_api
version: "1.0.0"
language: zig
module: bridge_screenshot_api

types:
  ScreenshotAPI:
    fields:
      api_id: String
      client: String
      page_id: String

  ScreenshotOptions:
    fields:
      full_page: Bool
      clip_x: Option<Int>
      clip_y: Option<Int>
      clip_width: Option<Int>
      clip_height: Option<Int>
      format: String
      quality: Option<Int>

  ScreenshotResult:
    fields:
      success: Bool
      data: String
      width: Int
      height: Int
      format: String

  PDFOptions:
    fields:
      format: String
      print_background: Bool
      landscape: Bool
      scale: Float

  PDFResult:
    fields:
      success: Bool
      data: String
      page_count: Int

  ElementScreenshotOptions:
    fields:
      selector: String
      format: String
      quality: Option<Int>

behaviors:
  - name: screenshot
    given: Options
    when: Page screenshot needed
    then: Returns screenshot result

  - name: screenshot_element
    given: Selector and options
    when: Element screenshot needed
    then: Returns screenshot result

  - name: pdf
    given: PDF options
    When: PDF generation needed
    then: Returns PDF result

  - name: save_screenshot
    given: Screenshot data and path
    when: Save needed
    then: Returns save result

  - name: compare_screenshots
    given: Two screenshot data
    when: Comparison needed
    then: Returns comparison result

  - name: get_viewport_size
    given: Page
    when: Viewport query needed
    then: Returns viewport dimensions
