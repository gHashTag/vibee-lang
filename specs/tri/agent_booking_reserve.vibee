name: agent_booking_reserve
version: "1.0.0"
language: zig
module: agent_booking_reserve

description: |
  Agent Booking Reserve - бронирование
  OpenAI Operator: рестораны, авиабилеты, отели
  φ² + 1/φ² = 3 | PHOENIX = 999

types:
  BookingType:
    fields:
      booking_type: String
      provider: String
      requires_payment: Bool

  BookingSearch:
    fields:
      booking_type: String
      location: String
      date: String
      time: Option<String>
      guests: Int
      preferences: Option<String>

  BookingOption:
    fields:
      option_id: String
      name: String
      price: Float
      availability: String
      rating: Option<Float>

  BookingDetails:
    fields:
      booking_id: String
      confirmation_code: String
      details: String
      cancellation_policy: String

  BookingResult:
    fields:
      success: Bool
      booking_details: Option<String>
      error: Option<String>

behaviors:
  - name: search_availability
    given: BookingSearch параметры
    when: Поиск доступных вариантов
    then: Список BookingOption

  - name: select_option
    given: BookingOption выбранный вариант
    when: Выбор варианта
    then: Детали для бронирования

  - name: fill_booking_form
    given: Данные гостя
    when: Заполнение формы бронирования
    then: Форма заполнена

  - name: confirm_booking
    given: Заполненная форма
    when: Подтверждение бронирования
    then: BookingResult

  - name: get_confirmation
    given: BookingResult успешное
    when: Получение подтверждения
    then: BookingDetails

  - name: cancel_booking
    given: BookingDetails бронирование
    when: Отмена бронирования
    then: Результат отмены
