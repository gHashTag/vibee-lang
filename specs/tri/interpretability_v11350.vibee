# VIBEE INTERPRETABILITY v11350
# φ² + 1/φ² = 3 | PHOENIX = 999

name: interpretability_v11350
version: "11350.0.0"
language: zig
module: interpretability

types:
  NeuronActivation:
    fields:
      neuron_id: String
      layer: Int
      activation_value: Float
      feature_detected: String

  CircuitAnalysis:
    fields:
      circuit_id: String
      neurons: List<NeuronActivation>
      function: String
      confidence: Float

  FeatureVisualization:
    fields:
      feature_id: String
      visualization_type: String
      input_pattern: String
      activation_strength: Float

  AttentionPattern:
    fields:
      pattern_id: String
      head_index: Int
      layer_index: Int
      attention_weights: List<Float>

  ProbeClassifier:
    fields:
      probe_id: String
      target_concept: String
      layer: Int
      accuracy: Float

  ActivationPatching:
    fields:
      patch_id: String
      source_activation: String
      target_activation: String
      causal_effect: Float

  SuperpositionAnalysis:
    fields:
      analysis_id: String
      features_detected: Int
      dimensions_used: Int
      interference_level: Float

  MechanisticCircuit:
    fields:
      circuit_id: String
      input_features: List<String>
      output_features: List<String>
      computation: String

  SparseAutoencoder:
    fields:
      sae_id: String
      latent_dim: Int
      sparsity: Float
      reconstruction_loss: Float

  InterpretabilityMetrics:
    fields:
      circuit_coverage: Float
      feature_clarity: Float
      causal_accuracy: Float
      superposition_resolved: Float

behaviors:
  - name: analyze_neuron
    given: "Нейрон и входные данные"
    when: "Запрошен анализ нейрона"
    then: "Возвращает активацию нейрона"

  - name: find_circuit
    given: "Поведение модели"
    when: "Запрошен поиск схемы"
    then: "Возвращает анализ схемы"

  - name: visualize_feature
    given: "Признак"
    when: "Запрошена визуализация"
    then: "Возвращает визуализацию признака"

  - name: analyze_attention
    given: "Слой внимания"
    when: "Запрошен анализ внимания"
    then: "Возвращает паттерн внимания"

  - name: train_probe
    given: "Концепт и слой"
    when: "Запрошено обучение зонда"
    then: "Возвращает классификатор-зонд"

  - name: patch_activation
    given: "Исходная и целевая активации"
    when: "Запрошен патчинг"
    then: "Возвращает патчинг активации"

  - name: analyze_superposition
    given: "Представление"
    when: "Запрошен анализ суперпозиции"
    then: "Возвращает анализ суперпозиции"

  - name: extract_circuit
    given: "Задача"
    when: "Запрошена экстракция схемы"
    then: "Возвращает механистическую схему"

  - name: train_sae
    given: "Активации"
    when: "Запрошено обучение SAE"
    then: "Возвращает разреженный автоэнкодер"

  - name: measure_interpretability
    given: "Модель"
    when: "Запрошены метрики"
    then: "Возвращает метрики интерпретируемости"
