# agent_scraper_v2546.vibee - Data Scraper Agent
# Извлечение данных со страниц
# YOLO MODE + AMPLIFICATION + MATRYOSHKA
# φ² + 1/φ² = 3 | PHOENIX = 999

name: agent_scraper_v2546
version: "2546.0.0"
language: zig
module: agent_scraper_v2546

types:
  ScrapeRule:
    fields:
      name: String
      selector: String
      attribute: String
      multiple: Bool
      transform: String

  ScrapeResult:
    fields:
      url: String
      timestamp: Timestamp
      data: Object
      errors: Object

  TableData:
    fields:
      headers: Object
      rows: Object
      selector: String

  ExtractedText:
    fields:
      selector: String
      text: String
      html: String

behaviors:
  - name: scrape_text
    given: BrowserAgent and selector
    when: Text extraction requested
    then: Return text content of element

  - name: scrape_html
    given: BrowserAgent and selector
    when: HTML extraction requested
    then: Return innerHTML of element

  - name: scrape_attribute
    given: BrowserAgent, selector, attribute
    when: Attribute extraction requested
    then: Return attribute value

  - name: scrape_all
    given: BrowserAgent and selector
    when: Multiple elements requested
    then: Return array of text contents

  - name: scrape_table
    given: BrowserAgent and table selector
    when: Table extraction requested
    then: Return TableData with headers and rows

  - name: scrape_with_rules
    given: BrowserAgent and ScrapeRules
    when: Rule-based scraping requested
    then: Return ScrapeResult with all data

  - name: scrape_json_ld
    given: BrowserAgent
    when: Structured data requested
    then: Extract JSON-LD from page

  - name: scrape_meta_tags
    given: BrowserAgent
    when: Meta tags requested
    then: Return all meta tag contents

sacred_constants:
  phi: 1.618033988749895
  phi_squared_plus_inverse_squared: 3
  phoenix: 999
