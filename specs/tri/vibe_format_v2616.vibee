# vibe_format_v2616.vibee - Code Formatting
# Форматирование кода VIBEE
# φ² + 1/φ² = 3 | PHOENIX = 999

name: vibe_format_v2616
version: "2616.0.0"
language: zig
module: vibe_format_v2616

types:
  FormatConfig:
    fields:
      indent_size: Int
      use_tabs: Bool
      max_line_length: Int
      trailing_newline: Bool
      trim_trailing_whitespace: Bool

  FormatResult:
    fields:
      formatted: String
      changes: Int
      errors: List

  FormatRange:
    fields:
      start_line: Int
      end_line: Int

  FormatEdit:
    fields:
      start: Int
      end: Int
      new_text: String

behaviors:
  - name: format_document
    given: Content and FormatConfig
    when: Format requested
    then: Return FormatResult

  - name: format_range
    given: Content and FormatRange
    when: Range format
    then: Return FormatResult

  - name: format_on_type
    given: Content and position
    when: Character typed
    then: Return FormatEdit list

  - name: check_format
    given: Content
    when: Format check
    then: Return is formatted

  - name: get_edits
    given: Original and formatted
    when: Diff needed
    then: Return FormatEdit list

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
