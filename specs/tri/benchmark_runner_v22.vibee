name: benchmark_runner_v22
version: "22.5.0"
language: zig
module: benchmark_runner_v22

types:
  BenchmarkConfig:
    fields:
      task_set_path: String
      output_dir: String
      max_tasks: Int
      parallel: Bool
      timeout_per_task_ms: Int

  BenchmarkTask:
    fields:
      id: String
      name: String
      category: String
      difficulty: String

  BenchmarkRun:
    fields:
      run_id: String
      start_time: Timestamp
      end_time: Option<Timestamp>
      status: String
      tasks_completed: Int

  TaskExecution:
    fields:
      task_id: String
      success: Bool
      steps: Int
      duration_ms: Int
      answer: Option<String>

  BenchmarkRunner:
    fields:
      config: Object
      current_run: Object
      executions: List<String>

behaviors:
  - name: create_runner
    given: BenchmarkConfig
    when: Initialize runner
    then: BenchmarkRunner instance

  - name: load_tasks
    given: BenchmarkRunner
    when: Load task set
    then: Tasks loaded

  - name: start_run
    given: BenchmarkRunner
    when: Start benchmark run
    then: BenchmarkRun

  - name: run_task
    given: BenchmarkRunner and task_id
    when: Run single task
    then: TaskExecution

  - name: run_all
    given: BenchmarkRunner
    when: Run all tasks
    then: All executions

  - name: run_category
    given: BenchmarkRunner and category
    When: Run category tasks
    then: Category executions

  - name: pause_run
    given: BenchmarkRunner
    When: Pause benchmark
    then: Paused

  - name: resume_run
    given: BenchmarkRunner
    When: Resume benchmark
    then: Resumed

  - name: get_progress
    given: BenchmarkRunner
    When: Get progress
    then: Progress info

  - name: finish_run
    given: BenchmarkRunner
    When: Finish benchmark
    then: Final results

  - name: export_results
    given: BenchmarkRunner
    When: Export results
    then: Export path
