name: pas_daemon_analyze_v502
version: "502.0.0"
language: zig
module: pas_daemon_analyze_v502

types:
  AnalysisDaemon:
    fields:
      daemon_id: String
      analysis_queue: List<String>
      completed_analyses: Int
      accuracy_rate: Float

  CodeAnalysis:
    fields:
      analysis_id: String
      source_file: String
      complexity_metrics: Object
      hotspots: List<Object>
      recommendations: List<String>

  ComplexityMetrics:
    fields:
      cyclomatic: Int
      cognitive: Int
      halstead_volume: Float
      maintainability_index: Float

  PerformanceHotspot:
    fields:
      location: String
      severity: String
      current_complexity: String
      suggested_improvement: String
      estimated_speedup: Float

  AnalysisReport:
    fields:
      report_id: String
      timestamp: Timestamp
      files_analyzed: Int
      issues_found: Int
      improvements_suggested: Int

behaviors:
  - name: analyze_file
    given: Source file path
    when: Analysis requested
    then: Return code analysis

  - name: analyze_function
    given: Function definition
    when: Function analysis
    then: Return complexity metrics

  - name: detect_hotspots
    given: Code analysis
    when: Hotspot detection
    then: Return performance hotspots

  - name: suggest_improvements
    given: Hotspots and patterns
    when: Suggestions needed
    then: Return improvement list

  - name: calculate_complexity
    given: Code block
    when: Complexity calculation
    then: Return metrics

  - name: compare_implementations
    given: Two implementations
    when: Comparison requested
    then: Return comparison report

  - name: track_improvements
    given: Before and after
    when: Improvement applied
    then: Record improvement

  - name: generate_report
    given: Analysis results
    when: Report requested
    then: Return analysis report

  - name: prioritize_improvements
    given: All suggestions
    when: Prioritization needed
    then: Return ranked list
