name: e2e_browser_v525
version: "525.0.0"
language: zig
module: e2e_browser_v525

types:
  BrowserE2ETest:
    fields:
      test_id: String
      name: String
      description: String
      steps: List<Object>
      expected_result: String

  BrowserTestStep:
    fields:
      step_id: String
      action: String
      target: Option<String>
      value: Option<String>
      assertion: Option<String>

  BrowserTestResult:
    fields:
      test_id: String
      passed: Bool
      duration_ms: Int
      steps_executed: Int
      failure_step: Option<String>
      error_message: Option<String>

  BrowserTestSuite:
    fields:
      suite_id: String
      name: String
      tests: List<String>
      setup: Option<String>
      teardown: Option<String>

  BrowserTestReport:
    fields:
      suite_id: String
      total_tests: Int
      passed: Int
      failed: Int
      skipped: Int
      duration_ms: Int

behaviors:
  - name: run_test
    given: Test specification
    when: Test execution
    then: Return test result

  - name: run_suite
    given: Test suite
    when: Suite execution
    then: Return suite results

  - name: assert_element_exists
    given: Selector
    when: Assertion check
    then: Return assertion result

  - name: assert_text_content
    given: Selector and expected text
    when: Assertion check
    then: Return assertion result

  - name: assert_url
    given: Expected URL pattern
    when: Assertion check
    then: Return assertion result

  - name: capture_screenshot
    given: Test context
    when: Screenshot needed
    then: Return screenshot path

  - name: generate_report
    given: Test results
    when: Report needed
    then: Return test report

  - name: retry_failed
    given: Failed tests
    when: Retry requested
    then: Return retry results

  - name: parallel_execution
    given: Test list
    when: Parallel run
    then: Return aggregated results
