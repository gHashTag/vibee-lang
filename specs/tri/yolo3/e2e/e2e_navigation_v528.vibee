name: e2e_navigation_v528
version: "528.0.0"
language: zig
module: e2e_navigation_v528

types:
  NavigationE2ETest:
    fields:
      test_id: String
      name: String
      start_url: String
      navigation_path: List<String>
      expected_final_url: String

  NavigationStep:
    fields:
      step_id: String
      action: String
      target: String
      expected_url: Option<String>
      wait_condition: Option<String>

  NavigationTestResult:
    fields:
      test_id: String
      passed: Bool
      steps_completed: Int
      final_url: String
      navigation_time_ms: Int

  NavigationTestSuite:
    fields:
      suite_id: String
      site: String
      navigation_tests: List<String>
      timeout_ms: Int

  NavigationTestReport:
    fields:
      suite_id: String
      total_tests: Int
      passed: Int
      failed: Int
      avg_navigation_time_ms: Float

behaviors:
  - name: run_navigation_test
    given: Test specification
    when: Test execution
    then: Return test result

  - name: run_navigation_suite
    given: Test suite
    when: Suite execution
    then: Return suite results

  - name: verify_url
    given: Expected URL
    when: URL check
    then: Return match result

  - name: verify_page_content
    given: Expected content
    when: Content check
    then: Return match result

  - name: handle_redirects
    given: Redirect chain
    when: Redirect handling
    then: Return final URL

  - name: test_back_forward
    given: Navigation history
    when: History test
    then: Return history results

  - name: generate_report
    given: Test results
    when: Report needed
    then: Return test report

  - name: measure_performance
    given: Navigation data
    when: Performance check
    then: Return performance metrics

  - name: detect_broken_links
    given: Page links
    when: Link check
    then: Return broken links
