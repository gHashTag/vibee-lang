name: e2e_agent_v526
version: "526.0.0"
language: zig
module: e2e_agent_v526

types:
  AgentE2ETest:
    fields:
      test_id: String
      name: String
      agent_type: String
      task: String
      success_criteria: String

  AgentTestScenario:
    fields:
      scenario_id: String
      description: String
      initial_state: Object
      expected_actions: List<String>
      expected_outcome: String

  AgentTestResult:
    fields:
      test_id: String
      passed: Bool
      actions_taken: List<String>
      final_state: Object
      match_score: Float

  AgentTestSuite:
    fields:
      suite_id: String
      agent_type: String
      scenarios: List<String>
      timeout_ms: Int

  AgentTestReport:
    fields:
      suite_id: String
      total_scenarios: Int
      passed: Int
      failed: Int
      avg_actions: Float
      avg_time_ms: Float

behaviors:
  - name: run_agent_test
    given: Test specification
    when: Test execution
    then: Return test result

  - name: run_agent_suite
    given: Test suite
    when: Suite execution
    then: Return suite results

  - name: verify_action_sequence
    given: Expected and actual
    when: Verification needed
    then: Return match result

  - name: verify_final_state
    given: Expected and actual state
    when: Verification needed
    then: Return match result

  - name: measure_efficiency
    given: Test result
    when: Efficiency check
    then: Return efficiency score

  - name: capture_trajectory
    given: Agent execution
    when: Capture needed
    then: Return trajectory data

  - name: generate_report
    given: Test results
    when: Report needed
    then: Return test report

  - name: compare_agents
    given: Agent results
    when: Comparison needed
    then: Return comparison

  - name: identify_failure_patterns
    given: Failed tests
    when: Analysis needed
    then: Return failure patterns
