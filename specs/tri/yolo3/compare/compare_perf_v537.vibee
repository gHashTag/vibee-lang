name: compare_perf_v537
version: "537.0.0"
language: zig
module: compare_perf_v537

types:
  PerformanceComparison:
    fields:
      comparison_id: String
      baseline_version: String
      current_version: String
      benchmark_suite: String

  BenchmarkComparison:
    fields:
      benchmark_name: String
      baseline_result: Float
      current_result: Float
      change_percent: Float
      significant: Bool

  LatencyComparison:
    fields:
      operation: String
      baseline_p50_ms: Float
      current_p50_ms: Float
      baseline_p99_ms: Float
      current_p99_ms: Float

  ThroughputComparison:
    fields:
      operation: String
      baseline_ops_sec: Float
      current_ops_sec: Float
      improvement_percent: Float

  PerformanceReport:
    fields:
      total_benchmarks: Int
      improved: Int
      regressed: Int
      unchanged: Int
      overall_change_percent: Float

behaviors:
  - name: compare_benchmarks
    given: Baseline and current
    when: Comparison requested
    then: Return benchmark comparison

  - name: compare_latency
    given: Latency data
    when: Latency comparison
    then: Return latency differences

  - name: compare_throughput
    given: Throughput data
    when: Throughput comparison
    then: Return throughput differences

  - name: compare_memory
    given: Memory data
    when: Memory comparison
    then: Return memory differences

  - name: statistical_significance
    given: Comparison data
    when: Significance test
    then: Return significance result

  - name: identify_regressions
    given: Comparison data
    when: Regression detection
    then: Return regressions

  - name: generate_report
    given: All comparisons
    when: Report needed
    then: Return performance report

  - name: visualize_comparison
    given: Comparison data
    when: Visualization needed
    then: Return comparison charts

  - name: export_results
    given: Comparison data
    when: Export needed
    then: Return exportable format
