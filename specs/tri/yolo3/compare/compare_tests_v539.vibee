name: compare_tests_v539
version: "539.0.0"
language: zig
module: compare_tests_v539

types:
  TestComparison:
    fields:
      comparison_id: String
      baseline_version: String
      current_version: String
      test_suite: String

  TestCoverage:
    fields:
      version: String
      total_tests: Int
      passing_tests: Int
      failing_tests: Int
      coverage_percent: Float

  TestDelta:
    fields:
      test_name: String
      baseline_status: String
      current_status: String
      change_type: String

  TestRegression:
    fields:
      test_name: String
      baseline_result: String
      current_result: String
      failure_reason: Option<String>

  TestReport:
    fields:
      total_tests_baseline: Int
      total_tests_current: Int
      new_tests: Int
      removed_tests: Int
      regressions: Int
      fixes: Int

behaviors:
  - name: compare_test_results
    given: Baseline and current
    when: Comparison requested
    then: Return test comparison

  - name: compare_coverage
    given: Coverage data
    when: Coverage comparison
    then: Return coverage delta

  - name: identify_regressions
    given: Test results
    when: Regression detection
    then: Return regressions

  - name: identify_fixes
    given: Test results
    when: Fix detection
    then: Return fixed tests

  - name: identify_new_tests
    given: Test lists
    when: New test detection
    then: Return new tests

  - name: analyze_flaky_tests
    given: Test history
    when: Flaky analysis
    then: Return flaky tests

  - name: generate_report
    given: Comparison data
    when: Report needed
    then: Return test report

  - name: visualize_delta
    given: Test delta
    when: Visualization needed
    then: Return delta visualization

  - name: export_comparison
    given: Comparison data
    when: Export needed
    then: Return exportable format
