name: agent_form_v497
version: "497.0.0"
language: zig
module: agent_form_v497

types:
  FormAgent:
    fields:
      agent_id: String
      form_selector: String
      fields: List<Object>
      validation_state: String

  FormField:
    fields:
      field_name: String
      field_type: String
      selector: String
      value: String
      required: Bool
      validation: Option<String>

  FormData:
    fields:
      form_id: String
      fields: Map<String,String>
      files: List<Object>
      encoding: String

  FormValidation:
    fields:
      is_valid: Bool
      errors: Map<String,String>
      warnings: List<String>

  FormSubmission:
    fields:
      method: String
      action: String
      data: Object
      response: Option<Object>

behaviors:
  - name: detect_forms
    given: Page content
    when: Form detection
    then: Return form elements

  - name: analyze_form
    given: Form element
    when: Analysis requested
    then: Return form structure

  - name: fill_field
    given: Field and value
    when: Fill requested
    then: Input value to field

  - name: fill_form
    given: Form data map
    when: Bulk fill requested
    then: Fill all fields

  - name: select_option
    given: Select and option
    when: Selection requested
    then: Choose option

  - name: check_checkbox
    given: Checkbox selector
    when: Check requested
    then: Toggle checkbox

  - name: upload_file
    given: File input and path
    when: Upload requested
    then: Attach file

  - name: validate_form
    given: Form state
    when: Validation requested
    then: Return validation result

  - name: submit_form
    given: Form element
    when: Submit requested
    then: Submit and return response
