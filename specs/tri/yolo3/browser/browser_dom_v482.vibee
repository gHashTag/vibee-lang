name: browser_dom_v482
version: "482.0.0"
language: zig
module: browser_dom_v482

types:
  DOMNode:
    fields:
      node_id: Int
      node_type: String
      tag_name: String
      attributes: Map<String,String>
      text_content: String
      parent_id: Option<Int>
      child_ids: List<Int>

  DOMSelector:
    fields:
      selector_type: String
      value: String
      index: Option<Int>

  DOMElement:
    fields:
      element_id: Int
      tag: String
      class_list: List<String>
      id_attr: Option<String>
      inner_html: String
      outer_html: String
      bounding_box: Object

  DOMQuery:
    fields:
      selector: String
      timeout_ms: Int
      wait_visible: Bool
      wait_enabled: Bool

  DOMModification:
    fields:
      operation: String
      target_selector: String
      value: String
      attribute_name: Option<String>

behaviors:
  - name: query_selector
    given: CSS selector
    when: Query DOM
    then: Return first matching element

  - name: query_selector_all
    given: CSS selector
    when: Query DOM
    then: Return all matching elements

  - name: get_element_by_id
    given: Element ID
    when: Query DOM
    then: Return element or null

  - name: get_elements_by_class
    given: Class name
    when: Query DOM
    then: Return matching elements

  - name: get_attribute
    given: Element and attribute name
    when: Read attribute
    then: Return attribute value

  - name: set_attribute
    given: Element, name, value
    when: Modify attribute
    then: Update DOM

  - name: get_text_content
    given: Element
    when: Read text
    then: Return text content

  - name: set_inner_html
    given: Element and HTML
    when: Modify content
    then: Update DOM tree

  - name: wait_for_selector
    given: Selector and timeout
    when: Wait for element
    then: Return when found or timeout
