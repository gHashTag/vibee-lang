# v5803 - Fraud Detection
# ========================
# AI обнаружение мошенничества
# φ² + 1/φ² = 3 | PHOENIX = 999

name: fraud_detection
version: "5.8.3"
language: zig
module: fraud_detection

constants:
  PHI: 1.618033988749895
  ALERT_THRESHOLD: 0.8
  REVIEW_THRESHOLD: 0.5

types:
  Transaction:
    fields:
      amount: Float
      merchant: String
      timestamp: Timestamp
      location: String
      
  FraudScore:
    fields:
      score: Float
      risk_factors: List
      
  FraudAlert:
    fields:
      transaction_id: String
      score: Float
      reason: String
      
  UserProfile:
    fields:
      user_id: String
      behavior_features: List
      risk_level: String
      
  FraudPattern:
    fields:
      pattern_type: String
      indicators: List
      
  InvestigationCase:
    fields:
      case_id: String
      transactions: List
      status: String
      
  NetworkAnalysis:
    fields:
      nodes: List
      edges: List
      communities: List
      
  FraudModel:
    fields:
      model: Object
      features: List
      threshold: Float

behaviors:
  - name: score_transaction
    given: Transaction и model
    when: Fraud scoring
    then: Вернуть fraud score
    
  - name: detect_anomaly
    given: Transaction и profile
    when: Anomaly detection
    then: Вернуть anomaly score
    
  - name: analyze_network
    given: Transactions
    when: Network analysis
    then: Вернуть suspicious networks
    
  - name: update_profile
    given: User и transaction
    when: Profile update
    then: Вернуть updated profile
    
  - name: generate_alert
    given: High-risk transaction
    when: Alert generation
    then: Вернуть fraud alert
    
  - name: investigate_case
    given: Alert и context
    when: Investigation
    then: Вернуть investigation case
    
  - name: detect_pattern
    given: Transaction history
    when: Pattern detection
    then: Вернуть fraud patterns
    
  - name: explain_decision
    given: Fraud score
    when: Explainability
    then: Вернуть explanation
