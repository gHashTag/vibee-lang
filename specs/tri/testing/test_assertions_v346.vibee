name: test_assertions_v346
version: "1.0.0"
language: zig
module: test_assertions_v346

types:
  Assertion:
    fields:
      type: String
      expected: Object
      actual: Object
      passed: Bool
      message: String

  AssertionResult:
    fields:
      assertion: Assertion
      duration_us: Int
      stack_trace: Option<String>

  CustomMatcher:
    fields:
      name: String
      compare: String
      message_template: String

  SoftAssertion:
    fields:
      assertions: List<Assertion>
      all_passed: Bool
      failure_count: Int

  AssertionConfig:
    fields:
      soft_mode: Bool
      timeout_ms: Int
      retry_count: Int

behaviors:
  - name: assert_equals
    given: Expected and actual
    When: Assertion runs
    then: Passes if equal

  - name: assert_contains
    given: Container and item
    When: Assertion runs
    then: Passes if contains

  - name: assert_matches
    given: Pattern and value
    When: Assertion runs
    then: Passes if matches

  - name: assert_throws
    given: Function
    When: Assertion runs
    then: Passes if throws

  - name: assert_eventually
    given: Condition
    When: Polling runs
    then: Passes when condition true

  - name: soft_assert
    given: Multiple assertions
    When: Soft mode enabled
    then: All assertions run

  - name: custom_matcher
    given: Matcher definition
    When: Assertion runs
    then: Custom comparison used

  - name: assert_snapshot
    given: Value and snapshot
    When: Comparison runs
    then: Passes if matches snapshot
