name: test_fixtures_v344
version: "1.0.0"
language: zig
module: test_fixtures_v344

types:
  Fixture:
    fields:
      name: String
      type: String
      data: Object
      scope: String

  FixtureFactory:
    fields:
      name: String
      builder: String
      defaults: Object
      traits: List<String>

  FixtureScope:
    fields:
      level: String
      cleanup: String
      shared: Bool

  FixtureData:
    fields:
      users: List<Object>
      products: List<Object>
      orders: List<Object>

  FixtureConfig:
    fields:
      seed: Int
      locale: String
      auto_cleanup: Bool

behaviors:
  - name: create_fixture
    given: Fixture definition
    When: Creation runs
    then: Fixture data generated

  - name: use_factory
    given: Factory name
    When: Build called
    then: Object built with defaults

  - name: apply_trait
    given: Trait name
    When: Trait applied
    then: Object modified by trait

  - name: scope_to_test
    given: Test scope
    When: Fixture used
    then: Fixture isolated to test

  - name: scope_to_suite
    given: Suite scope
    When: Fixture used
    then: Fixture shared in suite

  - name: cleanup_fixture
    given: Test complete
    When: Cleanup runs
    then: Fixture data removed

  - name: seed_database
    given: Fixture data
    When: Seeding runs
    then: Database populated

  - name: reset_fixtures
    given: Fixtures exist
    When: Reset called
    then: All fixtures cleared
