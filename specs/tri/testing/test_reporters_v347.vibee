name: test_reporters_v347
version: "1.0.0"
language: zig
module: test_reporters_v347

types:
  TestResult:
    fields:
      name: String
      status: String
      duration_ms: Int
      error_message: Option<String>
      screenshots: List<String>

  TestSuiteResult:
    fields:
      name: String
      tests: List<TestResult>
      passed: Int
      failed: Int
      skipped: Int

  ReportFormat:
    fields:
      type: String
      output_path: String
      include_screenshots: Bool

  ReportMetadata:
    fields:
      timestamp: Timestamp
      environment: String
      browser: String
      duration_ms: Int

  Reporter:
    fields:
      name: String
      format: ReportFormat
      config: Object

behaviors:
  - name: generate_html
    given: Test results
    When: HTML generation runs
    then: HTML report created

  - name: generate_junit
    given: Test results
    When: JUnit generation runs
    then: JUnit XML created

  - name: generate_json
    given: Test results
    When: JSON generation runs
    then: JSON report created

  - name: generate_allure
    given: Test results
    When: Allure generation runs
    then: Allure report created

  - name: attach_screenshot
    given: Test failure
    When: Screenshot attached
    then: Screenshot in report

  - name: attach_video
    given: Video recording
    When: Video attached
    then: Video in report

  - name: send_to_dashboard
    given: Report data
    When: Send runs
    then: Results sent to dashboard

  - name: compare_runs
    given: Multiple runs
    When: Comparison runs
    then: Trend report generated
