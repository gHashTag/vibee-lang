# ═══════════════════════════════════════════════════════════════════════════════
# PAPER TRACKING v194 - Scientific Paper Integration
# ═══════════════════════════════════════════════════════════════════════════════
# Sources: arXiv, Nature, Science, ACM, IEEE
# PAS Pattern: PRE + HSH
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

name: paper_tracking
version: "1.9.4"
language: zig
module: paper_tracking

sacred_constants:
  phi: 1.618033988749895
  phi_inv: 0.618033988749895
  phi_sq: 2.618033988749895
  trinity: 3.0
  phoenix: 999

creation_pattern:
  source: PaperQuery
  transformer: PaperTracker
  result: PaperInsights

# ═══════════════════════════════════════════════════════════════════════════════
# TYPES
# ═══════════════════════════════════════════════════════════════════════════════

types:
  PaperSource:
    enum:
      - arxiv
      - nature
      - science
      - acm
      - ieee
      - neurips
      - icml

  PaperCategory:
    enum:
      - algorithm
      - machine_learning
      - programming_languages
      - compilers
      - systems
      - security

  Paper:
    fields:
      id: String
      title: String
      authors: List<String>
      abstract: String
      source: PaperSource
      category: PaperCategory
      doi: String?
      arxiv_id: String?
      published_date: Timestamp
      citations: Int

  PaperQuery:
    fields:
      keywords: List<String>
      categories: List<PaperCategory>
      sources: List<PaperSource>
      date_from: Timestamp?
      date_to: Timestamp?
      min_citations: Int?

  AlgorithmDiscovery:
    fields:
      paper: Paper
      algorithm_name: String
      complexity_before: String
      complexity_after: String
      speedup: String
      pas_pattern: String

  PaperInsights:
    fields:
      papers: List<Paper>
      discoveries: List<AlgorithmDiscovery>
      trends: List<String>
      recommendations: List<String>

  TrackedTopic:
    fields:
      name: String
      keywords: List<String>
      last_checked: Timestamp
      new_papers: Int

# ═══════════════════════════════════════════════════════════════════════════════
# BEHAVIORS
# ═══════════════════════════════════════════════════════════════════════════════

behaviors:
  - name: search_papers
    given: "Search query"
    when: "Paper search requested"
    then: "Return matching papers"
    pas_pattern: HSH
    complexity: O(n)
    test_cases:
      - name: test_search
        input: '{"keywords": ["algorithm", "optimization"]}'
        expected: '{"papers": [...]}'

  - name: fetch_arxiv
    given: "arXiv query"
    when: "arXiv fetch requested"
    then: "Return papers from arXiv API"
    pas_pattern: PRE
    complexity: O(n)
    test_cases:
      - name: test_arxiv
        input: '{"category": "cs.DS"}'
        expected: '{"papers": [...]}'

  - name: extract_algorithms
    given: "Paper abstract and content"
    when: "Algorithm extraction needed"
    then: "Return discovered algorithms"
    pas_pattern: MLS
    complexity: O(n)
    test_cases:
      - name: test_extract
        input: '{"abstract": "We present a new O(n log n) algorithm..."}'
        expected: '{"algorithms": [...]}'

  - name: classify_pas_pattern
    given: "Algorithm description"
    when: "Pattern classification needed"
    then: "Return PAS pattern"
    pas_pattern: MLS
    complexity: O(1)
    test_cases:
      - name: test_classify
        input: '{"description": "divide the problem into subproblems"}'
        expected: '{"pattern": "divide_and_conquer"}'

  - name: track_topic
    given: "Topic configuration"
    when: "Tracking enabled"
    then: "Monitor for new papers"
    pas_pattern: PRE
    complexity: O(1)
    test_cases:
      - name: test_track
        input: '{"topic": "code generation"}'
        expected: '{"tracking": true}'

  - name: generate_insights
    given: "Paper collection"
    when: "Insights requested"
    then: "Return trends and recommendations"
    pas_pattern: MLS
    complexity: O(n)
    test_cases:
      - name: test_insights
        input: '{"papers": [...]}'
        expected: '{"trends": [...]}'

  - name: update_pas_database
    given: "New algorithm discovery"
    when: "Database update needed"
    then: "Add to PAS pattern database"
    pas_pattern: PRE
    complexity: O(1)
    test_cases:
      - name: test_update
        input: '{"algorithm": "new_sort", "pattern": "D&C"}'
        expected: '{"updated": true}'

# ═══════════════════════════════════════════════════════════════════════════════
# TRACKED TOPICS
# ═══════════════════════════════════════════════════════════════════════════════

tracked_topics:
  - name: "Algorithm Discovery"
    keywords:
      - "faster algorithm"
      - "improved complexity"
      - "new algorithm"
      - "optimization"
    categories: [algorithm]

  - name: "Code Generation"
    keywords:
      - "code generation"
      - "program synthesis"
      - "neural code"
      - "LLM coding"
    categories: [machine_learning, programming_languages]

  - name: "Compiler Optimization"
    keywords:
      - "compiler optimization"
      - "LLVM"
      - "code optimization"
      - "superoptimization"
    categories: [compilers]

  - name: "AI for Code"
    keywords:
      - "Codex"
      - "Copilot"
      - "code LLM"
      - "AI programming"
    categories: [machine_learning]

# ═══════════════════════════════════════════════════════════════════════════════
# API ENDPOINTS
# ═══════════════════════════════════════════════════════════════════════════════

apis:
  arxiv:
    base_url: "http://export.arxiv.org/api/query"
    rate_limit: 3  # requests per second
    format: "atom"

  semantic_scholar:
    base_url: "https://api.semanticscholar.org/graph/v1"
    rate_limit: 100  # requests per 5 minutes
    format: "json"

  crossref:
    base_url: "https://api.crossref.org/works"
    rate_limit: 50  # requests per second
    format: "json"

# ═══════════════════════════════════════════════════════════════════════════════
# NOTABLE PAPERS DATABASE
# ═══════════════════════════════════════════════════════════════════════════════

notable_papers:
  - title: "AlphaTensor"
    arxiv: "2210.02374"
    doi: "10.1038/s41586-022-05172-4"
    discovery: "Matrix multiplication improvements"
    pas_pattern: "tensor_decomposition"

  - title: "AlphaDev"
    doi: "10.1038/s41586-023-06004-9"
    discovery: "Faster sorting algorithms"
    pas_pattern: "ml_guided_search"

  - title: "FunSearch"
    doi: "10.1038/s41586-023-06924-6"
    discovery: "Cap set problem solution"
    pas_pattern: "ml_guided_search"

# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════
