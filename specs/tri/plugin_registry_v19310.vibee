name: plugin_registry_v19310
version: "1.0.0"
language: zig
module: plugin_registry_v19310

types:
  PluginRegistry:
    fields:
      plugins: Map<String,String>
      search_paths: List<String>
      cache_dir: String

  RegistryEntry:
    fields:
      id: String
      metadata: String
      location: String
      checksum: String

behaviors:
  - name: registry_register
    given: "Plugin metadata"
    when: "Registry registers"
    then: "Adds to registry"

  - name: registry_discover
    given: "Search paths"
    when: "Registry discovers"
    then: "Returns found plugins"

  - name: registry_lookup
    given: "Plugin ID"
    when: "Registry looks up"
    then: "Returns plugin entry"
