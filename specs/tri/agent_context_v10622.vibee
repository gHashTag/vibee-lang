# VIBEE AGENT CONTEXT FOUNDATION v10622
# φ² + 1/φ² = 3 | PHOENIX = 999

name: agent_context_v10622
version: "10622.0.0"
language: zig
module: agent_context_v10622

types:
  ContextWindow:
    fields:
      window_id: String
      max_tokens: Int
      current_tokens: Int
      content: List<ContextItem>

  ContextItem:
    fields:
      item_id: String
      content: String
      token_count: Int
      priority: Float
      timestamp: Timestamp

  ContextSummary:
    fields:
      summary_id: String
      original_tokens: Int
      summary_tokens: Int
      content: String
      compression_ratio: Float

  ContextStrategy:
    fields:
      strategy_type: String
      max_tokens: Int
      summarization_threshold: Float
      priority_weights: List<Float>

  ConversationContext:
    fields:
      conversation_id: String
      messages: List<ContextItem>
      system_prompt: String
      total_tokens: Int

  TaskContext:
    fields:
      task_id: String
      goal: String
      constraints: List<String>
      relevant_info: List<ContextItem>

  EnvironmentContext:
    fields:
      env_id: String
      variables: List<String>
      capabilities: List<String>
      limitations: List<String>

  ContextCompressor:
    fields:
      compressor_type: String
      target_ratio: Float
      preserve_recent: Bool

  ContextRetriever:
    fields:
      retriever_type: String
      top_k: Int
      relevance_threshold: Float

  ContextState:
    fields:
      state_id: String
      windows: List<ContextWindow>
      active_window: String
      total_tokens: Int

behaviors:
  - name: create_window
    given: "Window configuration"
    when: "Window creation requested"
    then: "Returns context window"

  - name: add_to_context
    given: "Context item and window"
    when: "Context addition requested"
    then: "Returns updated window"

  - name: summarize_context
    given: "Context window"
    when: "Summarization requested"
    then: "Returns context summary"

  - name: compress_context
    given: "Context and compressor"
    when: "Compression requested"
    then: "Returns compressed context"

  - name: retrieve_relevant
    given: "Query and context"
    when: "Retrieval requested"
    then: "Returns relevant items"

  - name: manage_overflow
    given: "Window at capacity"
    when: "Overflow management requested"
    then: "Returns managed window"

  - name: switch_window
    given: "Target window ID"
    when: "Window switch requested"
    then: "Returns active window"

  - name: merge_contexts
    given: "Multiple contexts"
    when: "Context merge requested"
    then: "Returns merged context"

  - name: estimate_tokens
    given: "Text content"
    when: "Token estimation requested"
    then: "Returns token count"

  - name: prioritize_items
    given: "Context items and strategy"
    when: "Prioritization requested"
    then: "Returns prioritized items"
