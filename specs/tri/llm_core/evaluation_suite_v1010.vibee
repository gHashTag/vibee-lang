# ═══════════════════════════════════════════════════════════════════════════════
# EVALUATION SUITE v1010 - Comprehensive Evaluation Metrics
# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

name: evaluation_suite
version: "10.1.0"
language: zig
module: evaluation_suite

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

creation_pattern:
  source: ModelAndTestSet
  transformer: EvaluationSuite
  result: EvaluationReport

types:
  EvaluationConfig:
    fields:
      metrics: List<String>
      test_sets: List<String>
      num_samples: Int

  EvaluationReport:
    fields:
      metrics: Object
      per_task: Object
      overall_score: Float

  MetricResult:
    fields:
      name: String
      value: Float
      std: Float

behaviors:
  - name: evaluate_pass_at_k
    given: "Model and problems"
    when: "Pass@k evaluation"
    then: "Pass@k scores"
    pas_pattern: ALG
    test_cases:
      - name: test_pass
        input: '{"k": [1, 10, 100]}'
        expected: '{"pass@1": 0.5, "pass@10": 0.7}'

  - name: evaluate_bleu
    given: "Generated and reference"
    when: "BLEU evaluation"
    then: "BLEU score"
    pas_pattern: ALG
    test_cases:
      - name: test_bleu
        input: '{"generated": [...], "reference": [...]}'
        expected: '{"bleu": 0.45}'

  - name: evaluate_exact_match
    given: "Predictions and targets"
    when: "Exact match"
    then: "EM score"
    pas_pattern: ALG
    test_cases:
      - name: test_em
        input: '{"predictions": [...], "targets": [...]}'
        expected: '{"em": 0.6}'

  - name: evaluate_code_execution
    given: "Generated code"
    when: "Execution test"
    then: "Execution results"
    pas_pattern: ALG
    test_cases:
      - name: test_exec
        input: '{"code": [...], "tests": [...]}'
        expected: '{"pass_rate": 0.8}'

  - name: generate_report
    given: "All metrics"
    when: "Report generation"
    then: "Full report"
    pas_pattern: ALG
    test_cases:
      - name: test_report
        input: '{"metrics": {...}}'
        expected: '{"report": "..."}'

evaluation_benchmarks:
  - name: "HumanEval"
    type: "code_generation"
  - name: "MBPP"
    type: "code_generation"
  - name: "VIBEE-Spec"
    type: "spec_to_code"
  - name: "CrossLang"
    type: "translation"
  - name: "CodeXGLUE"
    type: "understanding"

# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════
