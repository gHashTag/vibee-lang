# v5500 - Code Generation
# ========================
# Copilot, CodeLlama - генерация кода
# φ² + 1/φ² = 3 | PHOENIX = 999

name: code_generation
version: "5.5.0"
language: zig
module: code_generation

constants:
  PHI: 1.618033988749895
  MAX_TOKENS: 8192
  NUM_LANGUAGES: 50

types:
  CodePrompt:
    fields:
      instruction: String
      context: String
      language: String
      
  GeneratedCode:
    fields:
      code: String
      language: String
      confidence: Float
      
  CodeCompletion:
    fields:
      prefix: String
      suffix: String
      completion: String
      
  FunctionSignature:
    fields:
      name: String
      parameters: List
      return_type: String
      
  CodeContext:
    fields:
      file_content: String
      cursor_position: Int
      imports: List
      
  InfillRequest:
    fields:
      prefix: String
      suffix: String
      max_tokens: Int
      
  CodeSuggestion:
    fields:
      suggestion: String
      score: Float
      explanation: String
      
  MultiFileContext:
    fields:
      files: List
      dependencies: List

behaviors:
  - name: generate_code
    given: Prompt и language
    when: Code generation
    then: Вернуть generated code
    
  - name: complete_code
    given: Code context
    when: Code completion
    then: Вернуть completion
    
  - name: infill_code
    given: Prefix и suffix
    when: Code infilling
    then: Вернуть infilled code
    
  - name: generate_function
    given: Signature и docstring
    when: Function generation
    then: Вернуть function body
    
  - name: translate_code
    given: Code и target language
    when: Code translation
    then: Вернуть translated code
    
  - name: explain_code
    given: Code snippet
    when: Code explanation
    then: Вернуть explanation
    
  - name: optimize_code
    given: Code и optimization goal
    when: Code optimization
    then: Вернуть optimized code
    
  - name: generate_docstring
    given: Function code
    when: Docstring generation
    then: Вернуть docstring
