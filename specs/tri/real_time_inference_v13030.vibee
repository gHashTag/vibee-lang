# VIBEE Specification v13030
# Real-Time Inference - Hard real-time ML inference
name: real_time_inference_v13030
version: "1.0.0"
language: zig
module: real_time_inference

types:
  RTScheduler:
    fields:
      rate_monotonic: String
      earliest_deadline: String
      fixed_priority: String

  RTTask:
    fields:
      id: String
      period_us: Int
      deadline_us: Int
      wcet_us: Int
      priority: Int

  RTInference:
    fields:
      task_id: String
      model_id: String
      input: String
      output: String
      actual_time_us: Int
      deadline_met: Bool

  SchedulabilityAnalysis:
    fields:
      tasks: String
      utilization: Float
      schedulable: Bool
      worst_case_response_us: Int

  JitterStats:
    fields:
      task_id: String
      avg_jitter_us: Float
      max_jitter_us: Float
      deadline_misses: Int

behaviors:
  - name: create_rt_task
    given: Task parameters
    When: Task created
    then: Returns RT task

  - name: analyze_schedulability
    given: Task set
    When: Analysis done
    then: Returns schedulability analysis

  - name: execute_rt_inference
    given: Task and input
    When: Inference executed
    then: Returns RT inference

  - name: measure_jitter
    given: Task history
    When: Measurement done
    then: Returns jitter stats
