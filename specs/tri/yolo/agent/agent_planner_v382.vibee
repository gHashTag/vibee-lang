name: agent_planner_v382
version: "1.0.0"
language: zig
module: agent_planner_v382

types:
  AgentConfig:
    fields:
      id: String
      role: String
      capabilities: List<String>
      max_tasks: Int

  AgentState:
    fields:
      status: String
      current_task: Option<String>
      completed_tasks: Int
      error_count: Int

  AgentTask:
    fields:
      id: String
      type: String
      input: Object
      deadline_ms: Int

  AgentResult:
    fields:
      task_id: String
      success: Bool
      output: Object
      duration_ms: Int

behaviors:
  - name: initialize_agent
    given: Agent config
    when: Initialization runs
    then: Agent ready for tasks

  - name: accept_task
    given: Task assigned
    when: Acceptance runs
    then: Task accepted or rejected

  - name: execute_task
    given: Task accepted
    when: Execution runs
    then: Task executed

  - name: report_result
    given: Task complete
    when: Reporting runs
    then: Result reported

  - name: handle_error
    given: Error occurs
    when: Error handling runs
    then: Error handled

  - name: collaborate
    given: Other agents
    when: Collaboration needed
    then: Agents collaborate

  - name: learn_from_task
    given: Task complete
    when: Learning runs
    then: Agent improves

  - name: shutdown_agent
    given: Shutdown requested
    when: Shutdown runs
    then: Agent shuts down cleanly
