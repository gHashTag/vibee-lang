name: yolo_coordinator_v368
version: "1.0.0"
language: zig
module: yolo_coordinator_v368

types:
  Coordination:
    fields:
      id: String
      phases: List<String>
      current_phase: Int
      agents: List<String>

  PhaseTransition:
    fields:
      from_phase: String
      to_phase: String
      condition: String
      auto: Bool

  CoordinationState:
    fields:
      active_agents: List<String>
      pending_handoffs: List<Object>
      completed_transitions: Int

  CoordinationConfig:
    fields:
      auto_transition: Bool
      parallel_phases: Bool
      max_concurrent: Int

behaviors:
  - name: coordinate_phases
    given: Phase list
    when: Coordination starts
    then: Phases orchestrated in order

  - name: transition_phase
    given: Phase complete
    when: Transition triggered
    then: Next phase activated

  - name: parallel_coordinate
    given: Independent phases
    when: Parallel mode enabled
    then: Phases run concurrently

  - name: sync_agents
    given: Multiple agents
    when: Sync point reached
    then: Agents synchronized

  - name: handle_deadlock
    given: Deadlock detected
    when: Resolution runs
    then: Deadlock resolved

  - name: rollback_phase
    given: Phase failed
    when: Rollback triggered
    then: Previous state restored

  - name: skip_phase
    given: Phase optional
    when: Skip condition met
    then: Phase skipped safely

  - name: inject_phase
    given: New phase needed
    when: Injection runs
    then: Phase added dynamically
