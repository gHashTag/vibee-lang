name: yolo_executor_v366
version: "1.0.0"
language: zig
module: yolo_executor_v366

types:
  Execution:
    fields:
      id: String
      plan_id: String
      status: String
      current_task: String
      progress: Float

  ExecutionResult:
    fields:
      execution_id: String
      success: Bool
      outputs: List<Object>
      duration_ms: Int

  ExecutionContext:
    fields:
      variables: Object
      artifacts: List<String>
      logs: List<String>

  ExecutionConfig:
    fields:
      parallel: Bool
      max_workers: Int
      retry_count: Int
      timeout_ms: Int

behaviors:
  - name: execute_plan
    given: Valid plan
    when: Execution starts
    then: Plan executed step by step

  - name: execute_task
    given: Task from plan
    when: Task execution runs
    then: Task completed with result

  - name: parallel_execute
    given: Independent tasks
    when: Parallel mode enabled
    then: Tasks run concurrently

  - name: handle_task_error
    given: Task fails
    when: Error handling runs
    then: Retry or skip based on config

  - name: checkpoint_execution
    given: Checkpoint reached
    when: Checkpointing runs
    then: State saved for recovery

  - name: resume_from_checkpoint
    given: Checkpoint exists
    when: Resume runs
    then: Execution continues from checkpoint

  - name: collect_artifacts
    given: Tasks complete
    when: Collection runs
    then: Artifacts gathered

  - name: report_progress
    given: Execution running
    when: Progress check runs
    then: Progress reported
