name: elevenlabs_client
version: "1.0.0"
language: zig
module: elevenlabs_client

description: |
  ElevenLabs client module for VIBEE Telegram bot.
  Handles text-to-speech and voice cloning.

types:
  ElevenLabsConfig:
    description: "ElevenLabs configuration"
    fields:
      api_key: String

  ElevenLabsClient:
    description: "ElevenLabs client instance"
    fields:
      config: ElevenLabsConfig

  Voice:
    description: "Voice information"
    fields:
      voice_id: String
      name: String
      category: String
      description: Option<String>
      labels: Object
      preview_url: Option<String>

  VoiceSettings:
    description: "Voice generation settings"
    fields:
      stability: Float
      similarity_boost: Float
      style: Option<Float>
      use_speaker_boost: Option<Bool>

  TextToSpeechRequest:
    description: "Text-to-speech request"
    fields:
      text: String
      voice_id: String
      model_id: Option<String>
      voice_settings: Option<VoiceSettings>

  TextToSpeechResponse:
    description: "Text-to-speech response"
    fields:
      audio_data: Object
      content_type: String

  VoiceCloneRequest:
    description: "Voice cloning request"
    fields:
      name: String
      description: Option<String>
      files: List<Object>
      labels: Option<Object>

  VoiceCloneResponse:
    description: "Voice cloning response"
    fields:
      voice_id: String

  SpeechToSpeechRequest:
    description: "Speech-to-speech request"
    fields:
      audio: Object
      voice_id: String
      model_id: Option<String>

behaviors:
  - name: create_client
    given: ElevenLabs configuration
    when: Initializing client
    then: Returns ElevenLabsClient

  - name: text_to_speech
    given: Text-to-speech request
    when: Generating speech
    then: Returns audio data

  - name: get_voices
    given: No parameters
    when: Listing voices
    then: Returns list of Voice

  - name: get_voice
    given: Voice ID
    when: Fetching voice info
    then: Returns Voice

  - name: clone_voice
    given: Voice clone request
    when: Creating voice clone
    then: Returns VoiceCloneResponse

  - name: delete_voice
    given: Voice ID
    when: Deleting voice
    then: Returns success status

  - name: speech_to_speech
    given: Speech-to-speech request
    when: Converting speech
    then: Returns audio data

  - name: get_user_info
    given: No parameters
    when: Fetching user info
    then: Returns user subscription info

constants:
  API_BASE_URL: "https://api.elevenlabs.io/v1"
  DEFAULT_MODEL: "eleven_multilingual_v2"
  DEFAULT_STABILITY: 0.5
  DEFAULT_SIMILARITY_BOOST: 0.75
