# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# UNIFIED NAVIGATION - Single Source of Truth for Bot Navigation
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Based on: 999-multibots-telegraf/src/navigation/unified-navigation.config.ts
# Ï†Â² + 1/Ï†Â² = 3 | PHOENIX = 999
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

name: unified_navigation
version: "2.0.0"
language: zig
module: unified_navigation
author: "VIBEE Team"

description: |
  Ğ•Ğ”Ğ˜ĞĞ«Ğ™ Ğ˜Ğ¡Ğ¢ĞĞ§ĞĞ˜Ğš ĞŸĞ ĞĞ’Ğ”Ğ« Ğ”Ğ›Ğ¯ Ğ’Ğ¡Ğ•Ğ™ ĞĞĞ’Ğ˜Ğ“ĞĞ¦Ğ˜Ğ˜ Ğ‘ĞĞ¢Ğ
  
  Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚:
  - ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµĞ½Ñ (ReplyKeyboard - Ğ’ĞĞ˜Ğ—Ğ£!)
  - Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ Ğ¸ ÑÑ†ĞµĞ½Ñ‹
  - ĞŸÑ€Ğ°Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°
  - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸
  - ĞœĞ½Ğ¾Ğ³Ğ¾ÑĞ·Ñ‹Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ (RU/EN)

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# TYPES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

types:
  NavigationButton:
    fields:
      ru: String
      en: String
      mode: String
      category: String
      icon: String
      admin_only: Bool
      requires_subscription: Bool
      cost_stars: Int

  NavigationConfig:
    fields:
      buttons: List<NavigationButton>
      current_menu: String
      lang: String

  MenuCategory:
    fields:
      name: String
      icon: String
      buttons: List<NavigationButton>

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# NAVIGATION BUTTONS - MAIN MENU
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

constants:
  # AI FUNCTIONS
  btn_neuro_photo:
    ru: "ğŸ“¸ ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾"
    en: "ğŸ“¸ NeuroPhoto"
    mode: "neuro_photo"
    category: "ai"
    cost: 7

  btn_digital_body:
    ru: "ğŸ¤– Ğ¦Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğµ Ñ‚ĞµĞ»Ğ¾"
    en: "ğŸ¤– Digital Body"
    mode: "digital_body"
    category: "ai"
    cost: 100

  btn_image_to_prompt:
    ru: "ğŸ” ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ¸Ğ· Ñ„Ğ¾Ñ‚Ğ¾"
    en: "ğŸ” Photo to Prompt"
    mode: "image_to_prompt"
    category: "ai"
    cost: 2

  btn_face_swap:
    ru: "ğŸ­ Ğ—Ğ°Ğ¼ĞµĞ½Ğ° Ğ»Ğ¸Ñ†Ğ°"
    en: "ğŸ­ Face Swap"
    mode: "face_swap"
    category: "ai"
    cost: 10

  btn_upscale:
    ru: "â¬†ï¸ ĞĞ¿ÑĞºĞµĞ¹Ğ»"
    en: "â¬†ï¸ Upscale"
    mode: "upscale"
    category: "ai"
    cost: 3

  # VIDEO FUNCTIONS
  btn_photo_to_video:
    ru: "ğŸ¥ Ğ¤Ğ¾Ñ‚Ğ¾ Ğ² Ğ²Ğ¸Ğ´ĞµĞ¾"
    en: "ğŸ¥ Photo to Video"
    mode: "image_to_video"
    category: "video"
    cost: 30

  btn_text_to_video:
    ru: "ğŸ¬ Ğ¢ĞµĞºÑÑ‚ Ğ² Ğ²Ğ¸Ğ´ĞµĞ¾"
    en: "ğŸ¬ Text to Video"
    mode: "text_to_video"
    category: "video"
    cost: 50

  btn_lip_sync:
    ru: "ğŸ‘„ Lip Sync"
    en: "ğŸ‘„ Lip Sync"
    mode: "lip_sync"
    category: "video"
    cost: 56

  # AUDIO FUNCTIONS
  btn_voice_avatar:
    ru: "ğŸ¤ Ğ“Ğ¾Ğ»Ğ¾Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°"
    en: "ğŸ¤ Voice Avatar"
    mode: "voice_avatar"
    category: "audio"
    cost: 56

  btn_text_to_speech:
    ru: "ğŸ™ï¸ Ğ¢ĞµĞºÑÑ‚ Ğ² Ğ³Ğ¾Ğ»Ğ¾Ñ"
    en: "ğŸ™ï¸ Text to Speech"
    mode: "text_to_speech"
    category: "audio"
    cost: 11

  # AVATAR FUNCTIONS
  btn_avatar_brain:
    ru: "ğŸ§  ĞœĞ¾Ğ·Ğ³ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°"
    en: "ğŸ§  Avatar Brain"
    mode: "avatar_brain"
    category: "avatar"
    cost: 200

  btn_chat_avatar:
    ru: "ğŸ’¬ Ğ§Ğ°Ñ‚ Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ¼"
    en: "ğŸ’¬ Chat with Avatar"
    mode: "chat_avatar"
    category: "avatar"
    cost: 0

  # ACCOUNT
  btn_balance:
    ru: "ğŸ’° Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ"
    en: "ğŸ’° Balance"
    mode: "balance"
    category: "account"

  btn_top_up:
    ru: "ğŸ’ ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ"
    en: "ğŸ’ Top up"
    mode: "top_up"
    category: "account"

  btn_support:
    ru: "ğŸ’¬ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°"
    en: "ğŸ’¬ Support"
    mode: "support"
    category: "account"

  btn_lang_en:
    ru: "ğŸŒ EN"
    en: "ğŸŒ EN"
    mode: "lang_en"
    category: "settings"

  btn_lang_ru:
    ru: "ğŸŒ RU"
    en: "ğŸŒ RU"
    mode: "lang_ru"
    category: "settings"

  btn_back:
    ru: "â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´"
    en: "â—€ï¸ Back"
    mode: "back"
    category: "navigation"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MENU CATEGORIES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

menu_structure:
  main:
    title_ru: "ğŸš€ VIBEE"
    title_en: "ğŸš€ VIBEE"
    buttons:
      - ["ğŸ“¸ ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾", "ğŸ¥ Ğ’Ğ¸Ğ´ĞµĞ¾"]
      - ["ğŸ¤ ĞÑƒĞ´Ğ¸Ğ¾", "ğŸ¤– ĞĞ²Ğ°Ñ‚Ğ°Ñ€"]
      - ["ğŸ›  Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹"]
      - ["ğŸ’° Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ", "ğŸ’ ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ"]
      - ["ğŸ’¬ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°", "ğŸŒ EN/RU"]

  photo:
    title_ru: "ğŸ“¸ ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾"
    title_en: "ğŸ“¸ NeuroPhoto"
    buttons:
      - ["âœ¨ ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾", "ğŸ” ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ¸Ğ· Ñ„Ğ¾Ñ‚Ğ¾"]
      - ["ğŸ­ Ğ—Ğ°Ğ¼ĞµĞ½Ğ° Ğ»Ğ¸Ñ†Ğ°", "â¬†ï¸ ĞĞ¿ÑĞºĞµĞ¹Ğ»"]
      - ["â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´"]

  video:
    title_ru: "ğŸ¥ Ğ’Ğ¸Ğ´ĞµĞ¾"
    title_en: "ğŸ¥ Video"
    buttons:
      - ["ğŸ¥ Ğ¤Ğ¾Ñ‚Ğ¾ Ğ² Ğ²Ğ¸Ğ´ĞµĞ¾", "ğŸ¬ Ğ¢ĞµĞºÑÑ‚ Ğ² Ğ²Ğ¸Ğ´ĞµĞ¾"]
      - ["ğŸ‘„ Lip Sync"]
      - ["â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´"]

  audio:
    title_ru: "ğŸ¤ ĞÑƒĞ´Ğ¸Ğ¾"
    title_en: "ğŸ¤ Audio"
    buttons:
      - ["ğŸ¤ Ğ“Ğ¾Ğ»Ğ¾Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°", "ğŸ™ï¸ Ğ¢ĞµĞºÑÑ‚ Ğ² Ğ³Ğ¾Ğ»Ğ¾Ñ"]
      - ["â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´"]

  avatar:
    title_ru: "ğŸ¤– ĞĞ²Ğ°Ñ‚Ğ°Ñ€"
    title_en: "ğŸ¤– Avatar"
    buttons:
      - ["ğŸ¤– Ğ¦Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğµ Ñ‚ĞµĞ»Ğ¾", "ğŸ§  ĞœĞ¾Ğ·Ğ³ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°"]
      - ["ğŸ’¬ Ğ§Ğ°Ñ‚ Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ¼"]
      - ["â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´"]

  tools:
    title_ru: "ğŸ›  Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹"
    title_en: "ğŸ›  Tools"
    buttons:
      - ["ğŸ¨ AI Ğ¤Ğ¾Ñ‚Ğ¾ÑˆĞ¾Ğ¿", "ğŸ“ Ğ ĞµÑĞ°Ğ¹Ğ·"]
      - ["â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´"]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# BEHAVIORS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

behaviors:
  - name: get_main_menu_keyboard
    given: User language preference
    when: Main menu requested
    then: Return ReplyKeyboardMarkup with category buttons

  - name: get_submenu_keyboard
    given: Category name and language
    when: Category selected
    then: Return ReplyKeyboardMarkup with function buttons

  - name: handle_button_press
    given: Button text
    when: User presses button
    then: Route to appropriate handler or submenu

  - name: get_button_text
    given: Button key and language
    when: Need localized text
    then: Return RU or EN text based on language

  - name: check_subscription
    given: User ID and mode
    when: Paid function requested
    then: Check if user has enough balance

  - name: deduct_balance
    given: User ID and cost
    when: Generation completed
    then: Subtract stars from balance

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# TEST CASES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

test_cases:
  - name: test_main_menu_ru
    input: {lang: "ru"}
    expected: {contains: "ğŸ“¸ ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾"}

  - name: test_main_menu_en
    input: {lang: "en"}
    expected: {contains: "ğŸ“¸ NeuroPhoto"}

  - name: test_submenu_photo
    input: {category: "photo", lang: "ru"}
    expected: {contains: "âœ¨ ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾"}

  - name: test_back_button
    input: {button: "â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´"}
    expected: {menu: "main"}

  - name: test_balance_check
    input: {balance: 50, cost: 7}
    expected: {allowed: true}

  - name: test_insufficient_balance
    input: {balance: 5, cost: 50}
    expected: {allowed: false}
