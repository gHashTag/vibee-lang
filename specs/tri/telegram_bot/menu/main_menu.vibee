name: main_menu
version: "1.0.0"
language: zig
module: main_menu

description: |
  Main menu module for VIBEE Telegram bot.
  Defines menu structure and navigation buttons.

imports:
  - telegram
  - modes

types:
  MenuItem:
    description: "Menu item"
    fields:
      emoji: String
      text_ru: String
      text_en: String
      callback_data: String
      mode: Option<String>

  MenuSection:
    description: "Menu section"
    fields:
      title_ru: String
      title_en: String
      items: List<MenuItem>

  MainMenuConfig:
    description: "Main menu configuration"
    fields:
      sections: List<MenuSection>
      columns: Int

behaviors:
  - name: get_main_menu
    given: Language code
    when: Building main menu
    then: Returns InlineKeyboardMarkup

  - name: get_menu_item_text
    given: MenuItem and language
    when: Getting item text
    then: Returns formatted text

  - name: create_menu_keyboard
    given: Items and columns
    when: Building keyboard
    then: Returns InlineKeyboardMarkup

  - name: get_start_menu
    given: Language code
    when: Building start menu
    then: Returns InlineKeyboardMarkup

  - name: get_help_button
    given: Language code
    when: Creating help button
    then: Returns InlineKeyboardButton

  - name: get_back_button
    given: Language code
    when: Creating back button
    then: Returns InlineKeyboardButton

  - name: get_cancel_button
    given: Language code
    when: Creating cancel button
    then: Returns InlineKeyboardButton

constants:
  # Menu items with emojis
  MENU_ITEMS:
    digital_body:
      emoji: "ğŸ¤–"
      callback: "digital_avatar_body"
    neuro_photo:
      emoji: "ğŸ“¸"
      callback: "neuro_photo"
    prompt_from_photo:
      emoji: "ğŸ”"
      callback: "image_to_prompt"
    avatar_brain:
      emoji: "ğŸ§ "
      callback: "train_flux_model"
    chat_with_avatar:
      emoji: "ğŸ’­"
      callback: "chat_with_avatar"
    select_model:
      emoji: "ğŸ¤–"
      callback: "select_model"
    voice_avatar:
      emoji: "ğŸ¤"
      callback: "voice_avatar"
    text_to_speech:
      emoji: "ğŸ™ï¸"
      callback: "text_to_speech"
    photo_to_video:
      emoji: "ğŸ¥"
      callback: "image_to_video"
    text_to_video:
      emoji: "ğŸ¬"
      callback: "text_to_video"
    balance:
      emoji: "ğŸ’°"
      callback: "balance"
    help:
      emoji: "â“"
      callback: "go_help"
