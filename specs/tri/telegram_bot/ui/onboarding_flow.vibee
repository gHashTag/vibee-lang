name: onboarding_flow
version: "2.0.0"
language: zig
module: onboarding_flow

description: |
  User Onboarding Flow with UX Best Practices
  
  Key improvements:
  1. Warm welcome message
  2. Quick feature overview
  3. Guided first action
  4. Progressive feature discovery
  5. Contextual help throughout

imports:
  - ux_design_system
  - telegram
  - user

types:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ONBOARDING STATE
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  OnboardingStage:
    description: "Onboarding stage"
    variants:
      - Welcome           # Initial greeting
      - LanguageSelect    # Choose language
      - FeatureOverview   # Show main features
      - QuickStart        # Guide to first action
      - Complete          # Onboarding done

  OnboardingState:
    description: "User onboarding state"
    fields:
      stage: OnboardingStage
      language: Option<String>
      has_seen_features: Bool
      first_action_completed: Bool
      started_at: Timestamp

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # WELCOME CONTENT
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  WelcomeMessage:
    description: "Welcome message content"
    fields:
      greeting: String
      bot_description: String
      features_preview: List<FeaturePreview>
      cta_button: String

  FeaturePreview:
    description: "Feature preview item"
    fields:
      emoji: String
      name: String
      description: String

  QuickStartGuide:
    description: "Quick start guide"
    fields:
      title: String
      steps: List<QuickStartStep>
      skip_option: Bool

  QuickStartStep:
    description: "Quick start step"
    fields:
      number: Int
      title: String
      description: String
      action_button: Option<String>

behaviors:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ONBOARDING FLOW
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: start_onboarding
    given: Context and user data
    when: New user starts bot
    then: Shows welcome message

  - name: show_language_selection
    given: Context
    when: Language not set
    then: Shows language options

  - name: show_feature_overview
    given: Context and language
    when: After language selected
    then: Shows feature carousel

  - name: show_quick_start
    given: Context
    when: After feature overview
    then: Shows guided first action

  - name: complete_onboarding
    given: Context
    when: User completes first action
    then: Marks onboarding complete

  - name: skip_onboarding
    given: Context
    when: User skips
    then: Goes to main menu

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # MESSAGE BUILDERS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: build_welcome_message
    given: Language
    when: Creating welcome
    then: Returns formatted welcome

  - name: build_feature_carousel
    given: Language
    when: Creating feature overview
    then: Returns feature cards

  - name: build_quick_start_guide
    given: Language
    when: Creating quick start
    then: Returns step-by-step guide

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # PROGRESS TRACKING
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: get_onboarding_state
    given: User ID
    when: Checking state
    then: Returns OnboardingState

  - name: update_onboarding_stage
    given: User ID and stage
    when: Progressing
    then: Updates state

  - name: is_onboarding_complete
    given: User ID
    when: Checking completion
    then: Returns true if complete

constants:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # WELCOME MESSAGES
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  WELCOME:
    GREETING:
      ru: |
        ğŸ‘‹ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, {name}!
        
        Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² VIBEE â€” Ñ‚Ğ²Ğ¾ĞµĞ³Ğ¾ AI-Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸ĞºĞ° Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°!
      en: |
        ğŸ‘‹ Hi, {name}!
        
        Welcome to VIBEE â€” your AI assistant for content creation!

    DESCRIPTION:
      ru: |
        ğŸ¤– Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ñ†Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°
        ğŸ“¸ Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞ¹ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ¾Ñ‚Ğ¾
        ğŸ¬ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸Ğ· Ñ‚ĞµĞºÑÑ‚Ğ°
        ğŸ¤ ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€ÑƒĞ¹ ÑĞ²Ğ¾Ğ¹ Ğ³Ğ¾Ğ»Ğ¾Ñ
      en: |
        ğŸ¤– Create a digital avatar
        ğŸ“¸ Generate unique photos
        ğŸ¬ Create videos from text
        ğŸ¤ Clone your voice

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # LANGUAGE SELECTION
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  LANGUAGE_SELECT:
    TITLE:
      ru: "ğŸŒ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº"
      en: "ğŸŒ Select language"
    OPTIONS:
      - code: "ru"
        flag: "ğŸ‡·ğŸ‡º"
        name: "Ğ ÑƒÑÑĞºĞ¸Ğ¹"
      - code: "en"
        flag: "ğŸ‡¬ğŸ‡§"
        name: "English"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # FEATURE OVERVIEW
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  FEATURES:
    - id: "digital_body"
      emoji: "ğŸ¤–"
      name_ru: "Ğ¦Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğµ Ñ‚ĞµĞ»Ğ¾"
      name_en: "Digital Body"
      desc_ru: "ĞĞ±ÑƒÑ‡Ğ¸Ñ‚Ğµ AI Ğ½Ğ° ÑĞ²Ğ¾Ğ¸Ñ… Ñ„Ğ¾Ñ‚Ğ¾ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ñ€ĞµĞ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ ÑĞµĞ±Ñ Ğ² Ğ»ÑĞ±Ğ¾Ğ¼ ÑÑ‚Ğ¸Ğ»Ğµ"
      desc_en: "Train AI on your photos and create realistic images of yourself in any style"

    - id: "neuro_photo"
      emoji: "ğŸ“¸"
      name_ru: "ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾"
      name_en: "Neuro Photo"
      desc_ru: "Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ¾Ñ‚Ğ¾ Ñ Ğ²Ğ°ÑˆĞ¸Ğ¼ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ¼ Ğ¿Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¾Ğ¼Ñƒ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ"
      desc_en: "Generate unique photos with your avatar from text descriptions"

    - id: "video"
      emoji: "ğŸ¬"
      name_ru: "AI Ğ’Ğ¸Ğ´ĞµĞ¾"
      name_en: "AI Video"
      desc_ru: "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸Ğ· Ñ‚ĞµĞºÑÑ‚Ğ° Ğ¸Ğ»Ğ¸ Ğ¾Ğ¶Ğ¸Ğ²Ğ»ÑĞ¹Ñ‚Ğµ Ñ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¸"
      desc_en: "Create videos from text or bring photos to life"

    - id: "voice"
      emoji: "ğŸ¤"
      name_ru: "Ğ“Ğ¾Ğ»Ğ¾Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°"
      name_en: "Avatar Voice"
      desc_ru: "ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ÑĞ²Ğ¾Ğ¹ Ğ³Ğ¾Ğ»Ğ¾Ñ Ğ¸ Ğ¾Ğ·Ğ²ÑƒÑ‡Ğ¸Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ»ÑĞ±Ğ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚"
      desc_en: "Clone your voice and narrate any text"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # QUICK START
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  QUICK_START:
    TITLE:
      ru: "ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚"
      en: "ğŸš€ Quick Start"

    STEPS:
      - number: 1
        title_ru: "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ†Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğµ Ñ‚ĞµĞ»Ğ¾"
        title_en: "Create Digital Body"
        desc_ru: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚Ğµ 15-20 ÑĞ²Ğ¾Ğ¸Ñ… Ñ„Ğ¾Ñ‚Ğ¾ Ğ´Ğ»Ñ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ AI"
        desc_en: "Upload 15-20 photos of yourself to train AI"
        action: "digital_avatar_body"

      - number: 2
        title_ru: "Ğ”Ğ¾Ğ¶Ğ´Ğ¸Ñ‚ĞµÑÑŒ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ"
        title_en: "Wait for Training"
        desc_ru: "ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ 10-15 Ğ¼Ğ¸Ğ½ÑƒÑ‚"
        desc_en: "Training takes 10-15 minutes"

      - number: 3
        title_ru: "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚!"
        title_en: "Create Content!"
        desc_ru: "Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ„Ğ¾Ñ‚Ğ¾, Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸ Ğ³Ğ¾Ğ»Ğ¾Ñ"
        desc_en: "Generate photos, videos and voice"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # BUTTONS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  BTN_START:
    ru: "ğŸš€ ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ"
    en: "ğŸš€ Get Started"

  BTN_SKIP:
    ru: "â­ï¸ ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ"
    en: "â­ï¸ Skip"

  BTN_NEXT:
    ru: "â–¶ï¸ Ğ”Ğ°Ğ»ĞµĞµ"
    en: "â–¶ï¸ Next"

  BTN_CREATE_AVATAR:
    ru: "ğŸ¤– Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€"
    en: "ğŸ¤– Create Avatar"

  BTN_EXPLORE:
    ru: "ğŸ” ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸"
    en: "ğŸ” Explore Features"
