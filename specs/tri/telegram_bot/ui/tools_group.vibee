name: tools_group
version: "3.0.0"
language: zig
module: tools_group

description: |
  ğŸ› ï¸ TOOLS GROUP - Utility Functions
  
  Trinity Formula: V = n Ã— 3^k where k=2 (Secondary Level)
  Golden Layout: 3 columns, Ï†-based spacing
  
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ› ï¸ Ğ˜ĞĞ¡Ğ¢Ğ Ğ£ĞœĞ•ĞĞ¢Ğ« / TOOLS                                     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                             â”‚
  â”‚  âœï¸ Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ ğŸŒ ĞŸĞµÑ€ĞµĞ²ĞµÑÑ‚Ğ¸     ğŸ“± Instagram           â”‚
  â”‚     1â­               1â­               5â­                  â”‚
  â”‚                                                             â”‚
  â”‚  ğŸ”— QR Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€   ğŸ“Š ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°      ğŸ¤– AI Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚        â”‚
  â”‚     1â­               Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾         2â­                  â”‚
  â”‚                                                             â”‚
  â”‚  ğŸ“ ĞœĞ¾Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ñ‹      ğŸ”” Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ    âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸           â”‚
  â”‚     Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾         Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾         Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾           â”‚
  â”‚                                                             â”‚
  â”‚  â—€ï¸ ĞĞ°Ğ·Ğ°Ğ´                              ğŸ  ĞœĞµĞ½Ñ              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

imports:
  - trinity_menu_system
  - ux_design_system

types:
  ToolFunction:
    description: "Tool function type"
    variants:
      - ImprovePrompt      # Enhance prompt
      - Translate          # Translate text
      - InstagramParser    # Parse Instagram
      - VideoTranscription # Video/audio to text (NEW: insanely-fast-whisper)
      - NSFWCheck          # Check image for NSFW (NEW: nsfw_image_detection)
      - QRGenerator        # Generate QR code
      - Analytics          # View analytics
      - AIAssistant        # AI chat assistant
      - MyFiles            # File manager
      - Notifications      # Notification settings
      - Settings           # App settings

  PromptImproveRequest:
    description: "Prompt improvement request"
    fields:
      original_prompt: String
      style: Option<String>
      language: String
      telegram_id: String

  TranslateRequest:
    description: "Translation request"
    fields:
      text: String
      source_lang: Option<String>
      target_lang: String
      telegram_id: String

  InstagramParseRequest:
    description: "Instagram parsing request"
    fields:
      url: String
      download_media: Bool
      telegram_id: String

behaviors:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # GROUP MENU
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: show_tools_menu
    given: Context
    when: User enters tools group
    then: Shows all tool functions

  - name: handle_tool_selection
    given: Context and function ID
    when: User selects function
    then: Starts appropriate wizard

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # TOOL FUNCTIONS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: start_improve_prompt
    given: Context
    when: User selects Improve Prompt
    then: Starts prompt improvement wizard

  - name: start_translate
    given: Context
    when: User selects Translate
    then: Starts translation wizard

  - name: start_instagram_parser
    given: Context
    when: User selects Instagram
    then: Starts Instagram parsing wizard

  - name: start_qr_generator
    given: Context
    when: User selects QR Generator
    then: Starts QR generation wizard

  - name: show_analytics
    given: Context
    when: User selects Analytics
    then: Shows usage analytics

  - name: start_ai_assistant
    given: Context
    when: User selects AI Assistant
    then: Starts AI chat session

  - name: show_my_files
    given: Context
    when: User selects My Files
    then: Shows user's generated files

  - name: show_notifications
    given: Context
    when: User selects Notifications
    then: Shows notification settings

  - name: show_settings
    given: Context
    when: User selects Settings
    then: Shows app settings

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # TOOL PROCESSING
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: improve_prompt
    given: PromptImproveRequest
    when: Processing improvement
    then: Returns improved prompt

  - name: translate_text
    given: TranslateRequest
    when: Processing translation
    then: Returns translated text

  - name: parse_instagram
    given: InstagramParseRequest
    when: Processing parsing
    then: Returns parsed content

  - name: generate_qr
    given: Text or URL
    when: Generating QR
    then: Returns QR code image

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # KEYBOARD BUILDER
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: build_tools_keyboard
    given: Language
    when: Building menu keyboard
    then: Returns 3-column tools grid

constants:
  GROUP_ID: "tools"
  GROUP_EMOJI: "ğŸ› ï¸"
  GROUP_NAME_RU: "Ğ˜ĞĞ¡Ğ¢Ğ Ğ£ĞœĞ•ĞĞ¢Ğ«"
  GROUP_NAME_EN: "TOOLS"
  GROUP_COLOR: "#3498DB"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # TOOL FUNCTIONS (9 items = 3Â² for Trinity)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  FUNCTIONS:
    IMPROVE_PROMPT:
      id: "improve_prompt"
      emoji: "âœï¸"
      name_ru: "Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚"
      name_en: "Improve Prompt"
      desc_ru: "AI ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ Ğ²Ğ°Ñˆ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚"
      desc_en: "AI will improve your prompt"
      callback: "tools_improve_prompt"
      cost: 1

    TRANSLATE:
      id: "translate"
      emoji: "ğŸŒ"
      name_ru: "ĞŸĞµÑ€ĞµĞ²ĞµÑÑ‚Ğ¸"
      name_en: "Translate"
      desc_ru: "ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´ Ñ‚ĞµĞºÑÑ‚Ğ° Ğ½Ğ° Ğ»ÑĞ±Ğ¾Ğ¹ ÑĞ·Ñ‹Ğº"
      desc_en: "Translate text to any language"
      callback: "tools_translate"
      cost: 1

    INSTAGRAM_PARSER:
      id: "instagram_parser"
      emoji: "ğŸ“±"
      name_ru: "Instagram Ğ¿Ğ°Ñ€ÑĞµÑ€"
      name_en: "Instagram Parser"
      desc_ru: "Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ¸Ğ· Instagram"
      desc_en: "Download content from Instagram"
      callback: "tools_instagram"
      cost: 5

    VIDEO_TRANSCRIPTION:
      id: "video_transcription"
      emoji: "ğŸ“"
      name_ru: "Ğ¢Ñ€Ğ°Ğ½ÑĞºÑ€Ğ¸Ğ¿Ñ†Ğ¸Ñ"
      name_en: "Transcription"
      desc_ru: "Ğ’Ğ¸Ğ´ĞµĞ¾/Ğ°ÑƒĞ´Ğ¸Ğ¾ Ğ² Ñ‚ĞµĞºÑÑ‚ (Whisper)"
      desc_en: "Video/audio to text (Whisper)"
      callback: "tools_transcription"
      cost: 1
      cost_unit: "per_minute"
      is_new: true
      model: "turian/insanely-fast-whisper-with-video"

    NSFW_CHECK:
      id: "nsfw_check"
      emoji: "ğŸ”"
      name_ru: "ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° NSFW"
      name_en: "NSFW Check"
      desc_ru: "ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ½Ğ° NSFW"
      desc_en: "Check image for NSFW content"
      callback: "tools_nsfw_check"
      cost: 0
      model: "falcons-ai/nsfw_image_detection"

    QR_GENERATOR:
      id: "qr_generator"
      emoji: "ğŸ”—"
      name_ru: "QR Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€"
      name_en: "QR Generator"
      desc_ru: "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ QR ĞºĞ¾Ğ´"
      desc_en: "Create QR code"
      callback: "tools_qr"
      cost: 1

    ANALYTICS:
      id: "analytics"
      emoji: "ğŸ“Š"
      name_ru: "ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°"
      name_en: "Analytics"
      desc_ru: "Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ"
      desc_en: "Usage statistics"
      callback: "tools_analytics"
      cost: 0

    AI_ASSISTANT:
      id: "ai_assistant"
      emoji: "ğŸ¤–"
      name_ru: "AI Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚"
      name_en: "AI Assistant"
      desc_ru: "Ğ£Ğ¼Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº"
      desc_en: "Smart assistant"
      callback: "tools_ai_assistant"
      cost: 2

    MY_FILES:
      id: "my_files"
      emoji: "ğŸ“"
      name_ru: "ĞœĞ¾Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ñ‹"
      name_en: "My Files"
      desc_ru: "Ğ’ÑĞµ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹"
      desc_en: "All generated files"
      callback: "tools_my_files"
      cost: 0

    NOTIFICATIONS:
      id: "notifications"
      emoji: "ğŸ””"
      name_ru: "Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ"
      name_en: "Notifications"
      desc_ru: "ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹"
      desc_en: "Notification settings"
      callback: "tools_notifications"
      cost: 0

    SETTINGS:
      id: "settings"
      emoji: "âš™ï¸"
      name_ru: "ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸"
      name_en: "Settings"
      desc_ru: "ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ"
      desc_en: "App settings"
      callback: "tools_settings"
      cost: 0

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # PROMPT STYLES
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  PROMPT_STYLES:
    - id: "detailed"
      name_ru: "Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹"
      name_en: "Detailed"

    - id: "artistic"
      name_ru: "Ğ¥ÑƒĞ´Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹"
      name_en: "Artistic"

    - id: "photorealistic"
      name_ru: "Ğ¤Ğ¾Ñ‚Ğ¾Ñ€ĞµĞ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹"
      name_en: "Photorealistic"

    - id: "cinematic"
      name_ru: "ĞšĞ¸Ğ½ĞµĞ¼Ğ°Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡Ğ½Ñ‹Ğ¹"
      name_en: "Cinematic"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # LANGUAGES
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  LANGUAGES:
    - code: "ru"
      name: "Ğ ÑƒÑÑĞºĞ¸Ğ¹"
      flag: "ğŸ‡·ğŸ‡º"

    - code: "en"
      name: "English"
      flag: "ğŸ‡¬ğŸ‡§"

    - code: "es"
      name: "EspaÃ±ol"
      flag: "ğŸ‡ªğŸ‡¸"

    - code: "de"
      name: "Deutsch"
      flag: "ğŸ‡©ğŸ‡ª"

    - code: "fr"
      name: "FranÃ§ais"
      flag: "ğŸ‡«ğŸ‡·"

    - code: "zh"
      name: "ä¸­æ–‡"
      flag: "ğŸ‡¨ğŸ‡³"

    - code: "ja"
      name: "æ—¥æœ¬èª"
      flag: "ğŸ‡¯ğŸ‡µ"

  # Layout
  COLUMNS: 3
  ROWS: 3
