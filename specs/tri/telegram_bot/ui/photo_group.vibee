name: photo_group
version: "3.0.0"
language: zig
module: photo_group

description: |
  PHOTO GROUP - All Photo Functions (12 items)
  
  Trinity Formula: V = n Ã— 3^k where k=1 (Primary Level)
  Golden Layout: 3 columns, phi-based spacing
  
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  PHOTO                                                      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                             â”‚
  â”‚  ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾ 7â­     Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ 1â­       Ğ¢ĞµĞºÑÑ‚-Ğ¤Ğ¾Ñ‚Ğ¾ 3â­         â”‚
  â”‚                                                             â”‚
  â”‚  Ğ¤Ğ¾Ñ‚Ğ¾-ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ 2â­   Ğ—Ğ°Ğ¼ĞµĞ½Ğ° Ğ»Ğ¸Ñ†Ğ° 10â­  Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ 3â­           â”‚
  â”‚                                                             â”‚
  â”‚  Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ğ½ 1â­   Ğ‘Ñ‹ÑÑ‚Ñ€.Ñ€ĞµĞ´. 1â­    Ğ¡ĞºĞµÑ‚Ñ‡-Ğ¤Ğ¾Ñ‚Ğ¾ 3â­         â”‚
  â”‚                                                             â”‚
  â”‚  Flux Kontext 8â­  AI Photoshop 5â­  Ğ Ğ°Ğ·Ğ¼ĞµÑ€ 1â­             â”‚
  â”‚                                                             â”‚
  â”‚  ĞĞ°Ğ·Ğ°Ğ´                                 ĞœĞµĞ½Ñ                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

imports:
  - trinity_menu_system
  - ux_design_system

types:
  PhotoFunction:
    description: "Photo function type"
    variants:
      - NeuroPhoto         # AI photo with trained model (7 stars)
      - FastImageGen       # Fast generation 1-2 sec (1 star) NEW
      - TextToImage        # Generate from text (3 stars)
      - ImageToPrompt      # Analyze image (2 stars)
      - FaceSwap           # Swap faces (10 stars)
      - ImageUpscaler      # Enhance quality (3 stars)
      - BackgroundRemove   # Remove background (1 star) NEW
      - FastImageEdit      # Fast edit <1 sec (1 star) NEW
      - SketchToImage      # Sketch to photo (3 stars) NEW
      - FluxKontext        # Flux editing (8 stars)
      - AiPhotoshop        # AI editing (5 stars)
      - ResizeImage        # Change dimensions (1 star)

  PhotoRequest:
    description: "Photo generation request"
    fields:
      function: PhotoFunction
      prompt: Option<String>
      image_url: Option<String>
      model_url: Option<String>
      aspect_ratio: Option<String>
      num_images: Int
      telegram_id: String

  PhotoResult:
    description: "Photo generation result"
    fields:
      success: Bool
      urls: Option<List<String>>
      error: Option<String>
      cost_charged: Int

behaviors:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # GROUP MENU
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: show_photo_menu
    given: Context and user state
    when: User enters photo group
    then: Shows all photo functions in 3-column grid

  - name: handle_photo_selection
    given: Context and function ID
    when: User selects function
    then: Starts appropriate wizard

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # PHOTO FUNCTIONS
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: start_neuro_photo
    given: Context
    when: User selects Neuro Photo
    then: Starts neuro photo wizard (requires model)

  - name: start_text_to_image
    given: Context
    when: User selects Text to Image
    then: Starts text-to-image wizard

  - name: start_image_to_prompt
    given: Context
    when: User selects Image to Prompt
    then: Starts image analysis wizard

  - name: start_face_swap
    given: Context
    when: User selects Face Swap
    then: Starts face swap wizard

  - name: start_image_upscaler
    given: Context
    when: User selects Upscaler
    then: Starts upscaler wizard

  - name: start_background_remove
    given: Context
    when: User selects Background Remove
    then: Starts background removal wizard

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # KEYBOARD BUILDER
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - name: build_photo_keyboard
    given: Language and user state
    when: Building menu keyboard
    then: Returns 3-column photo functions grid

  - name: format_photo_button
    given: Function config and user state
    when: Creating button
    then: Returns button with cost and badges

constants:
  GROUP_ID: "photo"
  GROUP_EMOJI: "ğŸ“¸"
  GROUP_NAME_RU: "Ğ¤ĞĞ¢Ğ"
  GROUP_NAME_EN: "PHOTO"
  GROUP_COLOR: "#FF6B6B"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # PHOTO FUNCTIONS (12 items = 3 x 4 grid)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  FUNCTIONS:
    NEURO_PHOTO:
      id: "neuro_photo"
      emoji: "âœ¨"
      name_ru: "ĞĞµĞ¹Ñ€Ğ¾Ñ„Ğ¾Ñ‚Ğ¾"
      name_en: "Neuro Photo"
      desc_ru: "Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ¾Ñ‚Ğ¾ Ñ Ğ²Ğ°ÑˆĞ¸Ğ¼ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ¼"
      desc_en: "Create photo with your avatar"
      callback: "photo_neuro"
      cost: 7
      is_popular: true
      requires_model: true

    FAST_IMAGE_GEN:
      id: "fast_image_gen"
      emoji: "âš¡"
      name_ru: "Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ"
      name_en: "Fast Gen"
      desc_ru: "Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ·Ğ° 2 ÑĞµĞºÑƒĞ½Ğ´Ñ‹"
      desc_en: "Generation in 2 seconds"
      callback: "photo_fast_gen"
      cost: 1
      is_new: true
      model: "prunaai/z-image-turbo"

    TEXT_TO_IMAGE:
      id: "text_to_image"
      emoji: "ğŸ¨"
      name_ru: "Ğ¢ĞµĞºÑÑ‚ â†’ Ğ¤Ğ¾Ñ‚Ğ¾"
      name_en: "Text â†’ Photo"
      desc_ru: "Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ"
      desc_en: "Generate image from description"
      callback: "photo_text_to_image"
      cost: 3

    IMAGE_TO_PROMPT:
      id: "image_to_prompt"
      emoji: "ğŸ”"
      name_ru: "Ğ¤Ğ¾Ñ‚Ğ¾ â†’ ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚"
      name_en: "Photo â†’ Prompt"
      desc_ru: "ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ"
      desc_en: "Get image description"
      callback: "photo_to_prompt"
      cost: 2

    FACE_SWAP:
      id: "face_swap"
      emoji: "ğŸ­"
      name_ru: "Ğ—Ğ°Ğ¼ĞµĞ½Ğ° Ğ»Ğ¸Ñ†Ğ°"
      name_en: "Face Swap"
      desc_ru: "Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ğ»Ğ¸Ñ†Ğ¾ Ğ½Ğ° Ñ„Ğ¾Ñ‚Ğ¾"
      desc_en: "Swap face in photo"
      callback: "photo_face_swap"
      cost: 10

    IMAGE_UPSCALER:
      id: "image_upscaler"
      emoji: "ğŸ”"
      name_ru: "Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾"
      name_en: "Upscale"
      desc_ru: "Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡ÑŒÑ‚Ğµ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ"
      desc_en: "Increase image resolution"
      callback: "photo_upscale"
      cost: 3

    BACKGROUND_REMOVE:
      id: "background_remove"
      emoji: "âœ‚ï¸"
      name_ru: "Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ğ½"
      name_en: "Remove BG"
      desc_ru: "Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚Ğµ Ñ„Ğ¾Ğ½ Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ (PNG)"
      desc_en: "Remove image background (PNG)"
      callback: "photo_remove_bg"
      cost: 1
      model: "lucataco/remove-bg"

    FAST_IMAGE_EDIT:
      id: "fast_image_edit"
      emoji: "âœï¸"
      name_ru: "Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ"
      name_en: "Fast Edit"
      desc_ru: "Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° 1 ÑĞµĞºÑƒĞ½Ğ´Ñƒ"
      desc_en: "Edit in 1 second"
      callback: "photo_fast_edit"
      cost: 1
      is_new: true
      model: "prunaai/p-image-edit"

    SKETCH_TO_IMAGE:
      id: "sketch_to_image"
      emoji: "âœï¸"
      name_ru: "Ğ¡ĞºĞµÑ‚Ñ‡ â†’ Ğ¤Ğ¾Ñ‚Ğ¾"
      name_en: "Sketch â†’ Photo"
      desc_ru: "ĞŸÑ€ĞµĞ²Ñ€Ğ°Ñ‚Ğ¸Ñ‚Ğµ Ñ€Ğ¸ÑÑƒĞ½Ğ¾Ğº Ğ² Ñ„Ğ¾Ñ‚Ğ¾"
      desc_en: "Turn sketch into photo"
      callback: "photo_sketch"
      cost: 3
      is_new: true
      model: "bytedance/seedream-4"

    FLUX_KONTEXT:
      id: "flux_kontext"
      emoji: "ğŸ–¼ï¸"
      name_ru: "Flux Kontext"
      name_en: "Flux Kontext"
      desc_ru: "Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ Flux AI"
      desc_en: "Edit with Flux AI"
      callback: "photo_flux_kontext"
      cost: 8

    AI_PHOTOSHOP:
      id: "ai_photoshop"
      emoji: "ğŸª"
      name_ru: "AI Photoshop"
      name_en: "AI Photoshop"
      desc_ru: "Ğ£Ğ¼Ğ½Ğ¾Ğµ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ¾Ñ‚Ğ¾"
      desc_en: "Smart photo editing"
      callback: "photo_ai_photoshop"
      cost: 5

    RESIZE_IMAGE:
      id: "resize_image"
      emoji: "ğŸ“"
      name_ru: "Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€"
      name_en: "Resize"
      desc_ru: "Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ"
      desc_en: "Change image dimensions"
      callback: "photo_resize"
      cost: 1

  # Layout
  COLUMNS: 3
  ROWS: 4
