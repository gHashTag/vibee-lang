# VIBEE PROCESS SUPERVISION v11410
# φ² + 1/φ² = 3 | PHOENIX = 999

name: process_supervision_v11410
version: "11410.0.0"
language: zig
module: process_supervision

types:
  ReasoningStep:
    fields:
      step_id: String
      step_number: Int
      content: String
      correctness: Float

  ProcessRewardModel:
    fields:
      prm_id: String
      step_evaluator: String
      accuracy: Float
      granularity: String

  StepLabel:
    fields:
      label_id: String
      step: ReasoningStep
      label: String
      labeler: String
      confidence: Float

  ChainOfThought:
    fields:
      cot_id: String
      steps: List<ReasoningStep>
      final_answer: String
      overall_correctness: Float

  OutcomeSupervision:
    fields:
      outcome_id: String
      final_result: String
      correct: Bool
      reward: Float

  ProcessOutcomeComparison:
    fields:
      comparison_id: String
      process_reward: Float
      outcome_reward: Float
      alignment_gap: Float

  ErrorLocalization:
    fields:
      localization_id: String
      chain: ChainOfThought
      first_error_step: Int
      error_type: String

  StepwiseVerification:
    fields:
      verification_id: String
      step: ReasoningStep
      verification_method: String
      verified: Bool

  ProcessTraining:
    fields:
      training_id: String
      step_labels: List<StepLabel>
      training_objective: String
      convergence: Float

  ProcessMetrics:
    fields:
      step_accuracy: Float
      error_detection_rate: Float
      process_outcome_correlation: Float
      labeling_efficiency: Float

behaviors:
  - name: label_step
    given: "Шаг рассуждения"
    when: "Запрошена разметка шага"
    then: "Возвращает метку шага"

  - name: train_prm
    given: "Размеченные шаги"
    when: "Запрошено обучение PRM"
    then: "Возвращает модель вознаграждения процесса"

  - name: evaluate_chain
    given: "Цепочка рассуждений"
    when: "Запрошена оценка цепочки"
    then: "Возвращает цепочку мыслей"

  - name: localize_error
    given: "Неправильная цепочка"
    when: "Запрошена локализация ошибки"
    then: "Возвращает локализацию ошибки"

  - name: compare_supervision
    given: "Процесс и результат"
    when: "Запрошено сравнение"
    then: "Возвращает сравнение процесс-результат"

  - name: verify_step
    given: "Шаг"
    when: "Запрошена верификация шага"
    then: "Возвращает пошаговую верификацию"

  - name: train_with_process
    given: "Данные процесса"
    when: "Запрошено обучение"
    then: "Возвращает обучение процесса"

  - name: generate_step_labels
    given: "Цепочка"
    when: "Запрошена генерация меток"
    then: "Возвращает метки шагов"

  - name: improve_reasoning
    given: "Модель и PRM"
    when: "Запрошено улучшение"
    then: "Возвращает улучшенную модель"

  - name: measure_process
    given: "Система"
    when: "Запрошены метрики"
    then: "Возвращает метрики процесса"
