# vibecode_context_v2563.vibee - Context Analysis
# Контекстный анализ кода для AI
# YOLO MODE + AMPLIFICATION + MATRYOSHKA
# φ² + 1/φ² = 3 | PHOENIX = 999

name: vibecode_context_v2563
version: "2563.0.0"
language: zig
module: vibecode_context_v2563

types:
  CodeContext:
    fields:
      file_path: String
      language: String
      imports: Object
      functions: Object
      classes: Object
      variables: Object
      cursor_scope: String

  ScopeInfo:
    fields:
      type: String
      name: String
      start_line: Int
      end_line: Int
      parent: Object
      children: Object

  SymbolInfo:
    fields:
      name: String
      kind: String
      type_annotation: String
      definition_line: Int
      references: Object

  ProjectContext:
    fields:
      root_path: String
      files: Object
      dependencies: Object
      config: Object

behaviors:
  - name: analyze_file
    given: File content and language
    when: Analysis requested
    then: Return CodeContext with all symbols

  - name: get_scope_at_cursor
    given: CodeContext and cursor position
    when: Scope query requested
    then: Return current ScopeInfo

  - name: find_symbol
    given: CodeContext and symbol name
    when: Symbol lookup requested
    then: Return SymbolInfo or null

  - name: get_available_symbols
    given: CodeContext and cursor position
    when: Available symbols requested
    then: Return symbols in scope

  - name: analyze_project
    given: Project root path
    when: Project analysis requested
    then: Return ProjectContext

  - name: get_related_files
    given: File path
    when: Related files requested
    then: Return files that import/export

  - name: build_prompt_context
    given: CodeContext, cursor, max_tokens
    when: AI prompt building
    then: Return optimized context string

sacred_constants:
  phi: 1.618033988749895
  phi_squared_plus_inverse_squared: 3
  phoenix: 999
