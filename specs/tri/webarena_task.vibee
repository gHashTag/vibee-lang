# WebArena Task Module
# 812 realistic web tasks
# Target: #1 on webarena.dev

name: webarena_task
version: "1.0.0"
language: zig
module: webarena_task

types:
  WebArenaTask:
    fields:
      task_id: String
      intent: String
      start_url: String
      sites: List<String>
      evaluation_type: String

  TaskCategory:
    fields:
      category_id: String
      name: String
      sites: List<String>
      task_count: Int

  TaskIntent:
    fields:
      intent_id: String
      natural_language: String
      required_actions: List<String>
      expected_outcome: String

  TaskSite:
    fields:
      site_id: String
      site_type: String
      base_url: String
      credentials: Option<String>

  TaskDifficulty:
    fields:
      difficulty_id: String
      level: Int
      avg_steps: Int
      requires_reasoning: Bool
      requires_memory: Bool

behaviors:
  - name: load_task
    given: Task ID
    when: Task loading needed
    then: Returns full task specification

  - name: parse_intent
    given: Natural language intent
    when: Intent parsing needed
    then: Returns structured intent

  - name: get_start_state
    given: Task specification
    when: Initial state needed
    then: Returns starting browser state

  - name: classify_difficulty
    given: Task specification
    when: Difficulty assessment needed
    then: Returns difficulty classification

  - name: get_required_sites
    given: Task specification
    when: Site listing needed
    then: Returns required sites with credentials

  - name: validate_task_format
    given: Task data
    when: Validation needed
    then: Returns validation result
