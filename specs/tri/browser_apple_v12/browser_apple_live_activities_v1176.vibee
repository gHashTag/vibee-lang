# VIBEE YOLO MODE XII - browser_apple_live_activities v1176
# Live Activities - Real-time Updates
name: browser_apple_live_activities_v1176
version: "12.0.0"
language: zig
module: browser_apple_live_activities

sacred_constants:
  phi: 1.618033988749895
  phi_identity: 3
  phoenix: 999
  yolo_mode: 12

types:
  LiveActivity:
    fields:
      id: String
      content_state: String
      stale_date: Timestamp
      relevance_score: Float

  ActivityContent:
    fields:
      leading: String
      center: String
      trailing: String
      bottom: String

  ActivityUpdate:
    fields:
      activity_id: String
      new_state: String
      alert_config: String

  ActivityAttributes:
    fields:
      name: String
      static_data: String
      dynamic_data: String

behaviors:
  - name: start_activity
    given: LiveActivity
    when: Start
    then: Live activity started
  - name: update_activity
    given: ActivityUpdate
    when: Update
    then: Activity updated with new state
  - name: end_activity
    given: Activity id
    when: End
    then: Activity ended
  - name: push_update
    given: Push token
    when: Push
    then: Remote update pushed
  - name: render_content
    given: ActivityContent
    when: Render
    then: Activity content rendered

test_cases:
  - name: test_activity_start
    input: {id: "timer"}
    expected: {started: true}
  - name: test_activity_update
    input: {state: "running"}
    expected: {updated: true}
  - name: test_activity_end
    input: {id: "timer"}
    expected: {ended: true}
  - name: test_activity_push
    input: {token: "abc"}
    expected: {pushed: true}
  - name: test_phi_activities
    input: {phi: 1.618033988749895}
    expected: {identity: 3}
