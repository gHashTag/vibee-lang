# golden_split_v12851.vibee - Золотое сечение панелей
# Browser|Chat|VSCode по φ
# φ² + 1/φ² = 3 | PHOENIX = 999

name: golden_split_v12851
version: "12851.0.0"
language: zig
module: golden_split_v12851

types:
  GoldenSplit:
    fields:
      split_id: String
      primary_ratio: Float
      secondary_ratio: Float
      divider_position: Int

  SplitConfig:
    fields:
      browser_ratio: Float
      chat_ratio: Float
      vscode_ratio: Float
      min_widths: Object

  SplitState:
    fields:
      current_ratios: List
      dragging: Bool
      snap_to_phi: Bool

  SplitAnimation:
    fields:
      from_ratio: Float
      to_ratio: Float
      duration_ms: Int
      easing: String

  SplitPreset:
    fields:
      preset_name: String
      ratios: List
      description: String

behaviors:
  - name: create_golden_split
    given: Container
    when: Split creation
    then: Return GoldenSplit at φ ratio

  - name: resize_split
    given: New position
    when: Resize
    then: Return updated ratios

  - name: snap_to_golden
    given: Current position
    when: Snap
    then: Return nearest φ position

  - name: animate_split
    given: SplitAnimation
    when: Animation
    then: Return animation_id

  - name: apply_preset
    given: SplitPreset
    when: Preset application
    then: Return new state

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
