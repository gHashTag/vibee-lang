# VIBEE Specification v13542
# ReAct Pattern
# KOSCHEI CYCLE 11 - 1000000x SPEEDUP

name: orchestrate_react
version: "13542"
language: zig
module: orchestrate_react

types:
  ReActAgent:
    fields:
      id: String
      llm: Object
      tools: List<Object>
      max_iterations: Int

  ReActStep:
    fields:
      step_number: Int
      thought: String
      action: String
      action_input: Object
      observation: String

  ReActTrace:
    fields:
      trace_id: String
      steps: List<Object>
      final_answer: String
      total_tokens: Int

  ReActConfig:
    fields:
      max_iterations: Int
      stop_on_answer: Bool
      verbose: Bool

  ReActMetrics:
    fields:
      traces_completed: Int
      avg_steps: Float
      success_rate: Float
      avg_tokens: Float

  ThoughtAction:
    fields:
      thought: String
      action: String
      action_input: String

behaviors:
  - name: reason
    given: Current state
    When: Reasoning needed
    then: Thought generated

  - name: act
    given: Thought and tools
    When: Action needed
    then: Action selected and executed

  - name: observe
    given: Action result
    When: Observation needed
    then: Observation recorded

  - name: iterate
    given: Incomplete task
    When: More steps needed
    then: Next iteration started

  - name: conclude
    given: Sufficient information
    When: Answer ready
    then: Final answer generated

  - name: trace
    given: ReAct execution
    When: Tracing enabled
    then: Full trace recorded

creation_pattern:
  source: ReActConfig
  transformer: ReActEngine
  result: ReActTrace
