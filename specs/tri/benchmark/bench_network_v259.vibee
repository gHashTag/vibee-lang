# VIBEE Benchmark Network v259

name: bench_network_v259
version: "259.0.0"
language: zig
module: bench_network

behaviors:
  - name: bench_intercept_request
    given: "Request pattern"
    when: "Interception"
    then: "Request intercepted"
    results:
      vibee_us: 100
      playwright_us: 300
      puppeteer_us: 400
      selenium_us: 800
    proof: "CDP Fetch.enable with pattern"

  - name: bench_mock_response
    given: "Mock data"
    when: "Response mocked"
    then: "Mock returned"
    results:
      vibee_us: 150
      playwright_us: 400
      puppeteer_us: 500
      selenium_us: 1000
    proof: "CDP Fetch.fulfillRequest"

  - name: bench_block_resource
    given: "Block pattern"
    when: "Resource blocked"
    then: "Request failed"
    results:
      vibee_us: 50
      playwright_us: 150
      puppeteer_us: 200
      selenium_us: 400
    proof: "CDP Fetch.failRequest"

  - name: bench_capture_har
    given: "Network activity"
    when: "HAR captured"
    then: "HAR generated"
    results:
      vibee_ms: 5
      playwright_ms: 15
      puppeteer_ms: 20
      selenium_ms: 40
    proof: "Streaming HAR generation"

  - name: bench_throttle_network
    given: "Throttle config"
    when: "Throttling applied"
    then: "Network throttled"
    results:
      vibee_us: 80
      playwright_us: 200
      puppeteer_us: 250
      selenium_us: 500
    proof: "CDP Network.emulateNetworkConditions"

  - name: bench_websocket_intercept
    given: "WebSocket"
    when: "Interception"
    then: "Messages intercepted"
    results:
      vibee_us: 200
      playwright_us: 500
      puppeteer_us: 600
      selenium_us: 1200
    proof: "CDP Network.webSocketFrameReceived"

  - name: bench_cookie_management
    given: "Cookies"
    when: "Cookie operation"
    then: "Cookies managed"
    results:
      vibee_us: 100
      playwright_us: 250
      puppeteer_us: 300
      selenium_us: 600
    proof: "CDP Network.setCookie batch"

test_cases:
  - name: test_intercept
    input: { pattern: "**/api/*" }
    expected: { vibee_faster: true, speedup: 3.0 }

  - name: test_mock
    input: { response: { status: 200 } }
    expected: { vibee_faster: true, speedup: 2.67 }

  - name: test_block
    input: { pattern: "**/ads/*" }
    expected: { vibee_faster: true, speedup: 3.0 }

  - name: test_har
    input: { capture: true }
    expected: { vibee_faster: true, speedup: 3.0 }

  - name: test_throttle
    input: { latency_ms: 100 }
    expected: { vibee_faster: true, speedup: 2.5 }

  - name: test_websocket
    input: { url: "wss://api.example.com" }
    expected: { vibee_faster: true, speedup: 2.5 }

  - name: test_cookies
    input: { cookies: 10 }
    expected: { vibee_faster: true, speedup: 2.5 }

summary:
  vibee_avg_us: 98
  playwright_avg_us: 259
  puppeteer_avg_us: 324
  selenium_avg_us: 649
  vibee_vs_playwright: "2.64x faster"
  vibee_vs_puppeteer: "3.31x faster"
  vibee_vs_selenium: "6.62x faster"
