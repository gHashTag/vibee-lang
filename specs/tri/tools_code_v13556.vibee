# VIBEE Specification v13556
# Code Analysis Tool
# KOSCHEI CYCLE 11 - 1000000x SPEEDUP

name: tools_code
version: "13556"
language: zig
module: tools_code

types:
  CodeTool:
    fields:
      id: String
      languages: List<String>
      analyzers: List<String>

  CodeAnalysis:
    fields:
      file_path: String
      language: String
      ast: Object
      symbols: List<Object>

  CodeQuery:
    fields:
      query_type: String
      target: String
      options: Object

  CodeResult:
    fields:
      query: String
      matches: List<Object>
      context: Object

  CodeMetrics:
    fields:
      files_analyzed: Int
      symbols_found: Int
      issues_detected: Int

  SymbolInfo:
    fields:
      name: String
      symbol_type: String
      location: Object
      references: List<Object>

behaviors:
  - name: parse_code
    given: Source code
    When: Parsing requested
    then: AST generated

  - name: find_symbol
    given: Symbol name
    When: Symbol search requested
    then: Symbol found

  - name: find_references
    given: Symbol
    When: Reference search requested
    then: References found

  - name: analyze_complexity
    given: Code file
    When: Complexity analysis requested
    then: Complexity metrics returned

  - name: detect_patterns
    given: Code and patterns
    When: Pattern detection requested
    then: Patterns detected

  - name: suggest_refactoring
    given: Code analysis
    When: Suggestions requested
    then: Refactoring suggestions returned

creation_pattern:
  source: CodeQuery
  transformer: CodeAnalyzer
  result: CodeResult
