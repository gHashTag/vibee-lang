# VIBEE v10034: Codegen Minifier
name: codegen_minifier
version: "10034.0.0"
language: zig
module: codegen_minifier

types:
  MinifyConfig:
    fields:
      remove_comments: Bool
      remove_whitespace: Bool
      shorten_names: Bool
      inline_functions: Bool

  MinifyResult:
    fields:
      minified: String
      original_size: Int
      minified_size: Int
      compression_ratio: Float

  MinifyStats:
    fields:
      comments_removed: Int
      whitespace_removed: Int
      names_shortened: Int
      functions_inlined: Int

behaviors:
  - name: minify_code
    given: "Code and config"
    when: "Minifying"
    then: "Returns minify result"

  - name: get_stats
    given: "Minify result"
    when: "Getting stats"
    then: "Returns minify stats"
