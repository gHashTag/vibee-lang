# Form Handler Module
# Form filling, validation, submission
# Complex form automation

name: browser_form_handler
version: "1.0.0"
language: zig
module: browser_form_handler

types:
  FormField:
    fields:
      field_id: String
      field_type: String
      name: String
      label: Option<String>
      is_required: Bool
      current_value: Option<String>

  FormData:
    fields:
      form_id: String
      fields: List<String>
      action: String
      method: String

  FormFillRequest:
    fields:
      form_selector: String
      field_values: Map<String,String>
      submit_after: Bool

  FormValidation:
    fields:
      is_valid: Bool
      errors: List<String>
      missing_required: List<String>

  SelectOption:
    fields:
      value: String
      label: String
      is_selected: Bool

  FileUpload:
    fields:
      field_selector: String
      file_path: String
      file_name: String

behaviors:
  - name: analyze_form
    given: Page and form selector
    when: Form analysis needed
    then: Returns form structure

  - name: fill_field
    given: Page, selector, and value
    when: Single field fill needed
    then: Returns fill result

  - name: fill_form
    given: Page and form fill request
    when: Full form fill needed
    then: Returns fill result

  - name: select_option
    given: Page, selector, and option
    when: Select/dropdown needed
    then: Returns selection result

  - name: check_checkbox
    given: Page, selector, and state
    when: Checkbox toggle needed
    then: Returns check result

  - name: upload_file
    given: Page and file upload
    when: File upload needed
    then: Returns upload result

  - name: submit_form
    given: Page and form selector
    when: Form submission needed
    then: Returns submission result

  - name: validate_form
    given: Page and form selector
    when: Validation check needed
    then: Returns validation result
