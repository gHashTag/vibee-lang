# VIBEE Specification: Vibecoding Intent Recognition v2158
# YOLO XVII - Vibecoding & Collab
# Based on: "If LLM Is the Wizard, Then Code Is the Wand" (arXiv:2401.00812)

name: vibecoding_intent
version: "2158"
language: zig
module: vibecoding_intent

types:
  IntentRecognizer:
    fields:
      model: String
      context_window: Int
      confidence_threshold: Float

  CodingIntent:
    fields:
      intent_type: String
      confidence: Float
      parameters: String
      context: String

  IntentType:
    fields:
      name: String
      description: String
      examples: String

behaviors:
  - name: recognize_intent
    given: "User input, code context"
    when: "Analyzing user intent"
    then: "Returns recognized coding intent"

  - name: classify_action
    given: "Intent"
    when: "Classifying action type"
    then: "Returns action classification"

  - name: extract_parameters
    given: "Intent, context"
    when: "Extracting parameters"
    then: "Returns extracted parameters"

  - name: validate_intent
    given: "Intent"
    when: "Validating intent"
    then: "Returns validation result"

test_cases:
  - name: test_recognize_create
    input: {text: "create a function to sort array"}
    expected: {intent_type: "create", confidence_gt: 0.8}

  - name: test_recognize_refactor
    input: {text: "refactor this to use async"}
    expected: {intent_type: "refactor", confidence_gt: 0.8}

  - name: test_recognize_explain
    input: {text: "explain what this code does"}
    expected: {intent_type: "explain", confidence_gt: 0.8}

  - name: test_recognize_fix
    input: {text: "fix the bug in line 42"}
    expected: {intent_type: "fix", confidence_gt: 0.8}
