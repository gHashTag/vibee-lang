# deep_console_link_v12858.vibee - Связь консолей Browser-VSCode
# Единая консоль
# φ² + 1/φ² = 3 | PHOENIX = 999

name: deep_console_link_v12858
version: "12858.0.0"
language: zig
module: deep_console_link_v12858

types:
  ConsoleLink:
    fields:
      link_id: String
      browser_console: Object
      vscode_terminal: Object
      bidirectional: Bool

  ConsoleMessage:
    fields:
      message_id: String
      source: String
      level: String
      text: String
      timestamp: Timestamp

  ConsoleFilter:
    fields:
      levels: List
      sources: List
      pattern: String

  ConsoleHistory:
    fields:
      messages: List
      total_count: Int
      filtered_count: Int

  LinkConfig:
    fields:
      forward_logs: Bool
      forward_errors: Bool
      forward_warnings: Bool

behaviors:
  - name: create_console_link
    given: LinkConfig
    when: Link creation
    then: Return ConsoleLink

  - name: forward_message
    given: ConsoleMessage
    when: Message forwarding
    then: Return forwarded message

  - name: filter_messages
    given: ConsoleFilter
    when: Filtering
    then: Return ConsoleHistory

  - name: execute_in_browser
    given: Command
    when: Browser execution
    then: Return result

  - name: execute_in_terminal
    given: Command
    when: Terminal execution
    then: Return result

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
