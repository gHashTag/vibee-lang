# VIBEE Specification v14210
# Prototypical Networks - Metric-based meta-learning
name: prototypical_nets_v14210
version: "1.0.0"
language: zig
module: prototypical_nets

types:
  Prototype:
    fields:
      class_id: Int
      embedding: String
      support_count: Int

  Episode:
    fields:
      support: String
      query: String
      n_way: Int
      k_shot: Int

  DistanceMetric:
    fields:
      euclidean: String
      cosine: String
      learned: String

  ProtoResult:
    fields:
      predictions: String
      distances: String
      accuracy: Float

behaviors:
  - name: compute_prototypes
    given: Support set
    when: Computation done
    then: Returns prototypes

  - name: classify_query
    given: Query and prototypes
    when: Classification done
    then: Returns proto result

  - name: train_encoder
    given: Episodes
    when: Training done
    then: Returns trained encoder

  - name: update_prototypes
    given: New examples
    when: Update done
    then: Returns updated prototypes
