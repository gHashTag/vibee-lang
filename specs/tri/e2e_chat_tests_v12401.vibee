# e2e_chat_tests_v12401.vibee - Chat E2E Tests
# E2E тесты чата
# φ² + 1/φ² = 3 | PHOENIX = 999

name: e2e_chat_tests_v12401
version: "12401.0.0"
language: zig
module: e2e_chat_tests_v12401

types:
  ChatTest:
    fields:
      test_id: String
      name: String
      messages: List
      expected_responses: List

  ChatTestMessage:
    fields:
      role: String
      content: String
      attachments: List

  ChatTestAssertion:
    fields:
      response_contains: String
      code_block_language: String
      action_suggested: String

  ChatTestResult:
    fields:
      test_id: String
      passed: Bool
      response_time_ms: Int
      actual_response: String

  ChatTestConfig:
    fields:
      model: String
      temperature: Float
      timeout_ms: Int

behaviors:
  - name: run_chat_test
    given: ChatTest
    when: Test execution
    then: Return ChatTestResult

  - name: send_test_message
    given: ChatTestMessage
    when: Message send
    then: Return response

  - name: assert_response
    given: ChatTestAssertion
    when: Assertion
    then: Return assertion result

  - name: measure_latency
    given: Message
    when: Latency measurement
    then: Return latency_ms

  - name: test_code_execution
    given: Code block
    when: Code test
    then: Return execution result

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
