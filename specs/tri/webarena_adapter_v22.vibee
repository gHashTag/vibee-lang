name: webarena_adapter_v22
version: "22.6.0"
language: zig
module: webarena_adapter_v22

types:
  AdapterConfig:
    fields:
      strict_mode: Bool
      timeout_ms: Int

  AdaptedTask:
    fields:
      id: String
      goal: String
      start_url: String
      eval_fn: String
      expected: Option<String>

  AdaptationResult:
    fields:
      success: Bool
      task: Object
      warnings: List<String>

  TaskAdapter:
    fields:
      config: Object

behaviors:
  - name: create_adapter
    given: AdapterConfig
    when: Initialize adapter
    then: TaskAdapter instance

  - name: adapt_task
    given: TaskAdapter and TaskEntry
    when: Adapt task
    then: AdaptedTask

  - name: adapt_intent
    given: TaskAdapter and intent
    when: Adapt intent to goal
    then: Goal string

  - name: adapt_eval_type
    given: TaskAdapter and eval_type
    when: Adapt eval type
    then: Eval function

  - name: validate_task
    given: TaskAdapter and AdaptedTask
    when: Validate adapted task
    then: Validation result

  - name: batch_adapt
    given: TaskAdapter and tasks
    When: Adapt multiple tasks
    then: Adapted task list

  - name: get_supported_sites
    given: TaskAdapter
    When: Get supported sites
    then: Site list

  - name: get_supported_eval_types
    given: TaskAdapter
    When: Get supported eval types
    then: Eval type list

  - name: export_adapted
    given: TaskAdapter and tasks
    When: Export adapted tasks
    then: Exported tasks

  - name: get_stats
    given: TaskAdapter
    When: Get adaptation stats
    then: Stats
