# koschei_debug_live_v13013.vibee - Live Debug
# KOSCHEI MODE: 2x faster than v12917
# φ² + 1/φ² = 3 | PHOENIX = 999

name: koschei_debug_live_v13013
version: "13013.0.0"
language: zig
module: koschei_debug_live_v13013

types:
  LiveDebugConfig:
    fields:
      hot_reload: Bool
      live_edit: Bool
      time_travel: Bool

  LiveDebugSession:
    fields:
      session_id: String
      breakpoint_latency_ms: Int
      hot_reload_ms: Int

behaviors:
  - name: debug_live_breakpoint
    given: Breakpoint
    when: Hit
    then: 5ms latency
    test_cases:
      - name: test_bp
        input: { breakpoint: true }
        expected: { latency_ms: 5 }

  - name: debug_live_hot_reload
    given: Code change
    when: Hot reload
    then: 50ms reload
    test_cases:
      - name: test_hot
        input: { change: true }
        expected: { reload_ms: 50 }

  - name: debug_live_edit
    given: Live edit mode
    when: Edit in debugger
    then: Instant apply
    test_cases:
      - name: test_edit
        input: { live: true }
        expected: { instant: true }

  - name: debug_live_time_travel
    given: Time travel enabled
    when: Step back
    then: State restored
    test_cases:
      - name: test_time
        input: { time_travel: true }
        expected: { restored: true }

benchmark_vs_v12917:
  v12917_bp_ms: 10
  v13013_bp_ms: 5
  speedup: 2x

self_evolution:
  enabled: true
  generation: 13013
