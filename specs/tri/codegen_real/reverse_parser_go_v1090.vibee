# ═══════════════════════════════════════════════════════════════════════════════
# REVERSE PARSER GO v1090 - Go to VIBEE Reverse Parser
# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

name: reverse_parser_go
version: "10.9.0"
language: zig
module: reverse_parser_go

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

creation_pattern:
  source: GoSourceCode
  transformer: GoReverseParser
  result: VIBEESpec

types:
  GoParseResult:
    fields:
      package_name: String
      structs: List<ParsedStruct>
      interfaces: List<ParsedInterface>
      functions: List<ParsedFunction>

behaviors:
  - name: parse_go_struct
    given: "Go struct source"
    when: "Struct parsing"
    then: "Parsed struct"
    pas_pattern: ALG
    test_cases:
      - name: test_struct
        input: '{"code": "type User struct {\\n\\tID int64\\n\\tName string\\n}"}'
        expected: '{"name": "User", "fields": [{"name": "ID", "type": "int64"}]}'

  - name: parse_go_interface
    given: "Go interface source"
    when: "Interface parsing"
    then: "Parsed interface"
    pas_pattern: ALG
    test_cases:
      - name: test_interface
        input: '{"code": "type UserService interface {\\n\\tCreate() error\\n}"}'
        expected: '{"name": "UserService", "methods": [{"name": "Create"}]}'

  - name: infer_vibee_type
    given: "Go type"
    when: "Type inference"
    then: "VIBEE type"
    pas_pattern: PRE
    test_cases:
      - name: test_string
        input: '{"go_type": "string"}'
        expected: '{"vibee_type": "String"}'

  - name: generate_vibee_spec
    given: "Parsed Go code"
    when: "Spec generation"
    then: "VIBEE specification"
    pas_pattern: ALG
    test_cases:
      - name: test_spec
        input: '{"structs": [...]}'
        expected: '{"spec": "name: user\\n..."}'

type_reverse_mappings:
  string: "String"
  int64: "Int"
  int: "Int"
  float64: "Float"
  bool: "Bool"
  slice: "List"
  map: "Object"

# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════
