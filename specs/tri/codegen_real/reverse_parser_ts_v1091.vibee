# ═══════════════════════════════════════════════════════════════════════════════
# REVERSE PARSER TS v1091 - TypeScript to VIBEE Reverse Parser
# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

name: reverse_parser_ts
version: "10.9.1"
language: zig
module: reverse_parser_ts

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

creation_pattern:
  source: TypeScriptSourceCode
  transformer: TSReverseParser
  result: VIBEESpec

types:
  TSParseResult:
    fields:
      interfaces: List<ParsedInterface>
      classes: List<ParsedClass>
      types: List<ParsedType>
      functions: List<ParsedFunction>

behaviors:
  - name: parse_ts_interface
    given: "TypeScript interface source"
    when: "Interface parsing"
    then: "Parsed interface"
    pas_pattern: ALG
    test_cases:
      - name: test_interface
        input: '{"code": "interface User {\\n  id: number;\\n  name: string;\\n}"}'
        expected: '{"name": "User", "properties": [{"name": "id", "type": "number"}]}'

  - name: parse_ts_class
    given: "TypeScript class source"
    when: "Class parsing"
    then: "Parsed class"
    pas_pattern: ALG
    test_cases:
      - name: test_class
        input: '{"code": "class UserService { ... }"}'
        expected: '{"name": "UserService", "methods": [...]}'

  - name: infer_vibee_type
    given: "TypeScript type"
    when: "Type inference"
    then: "VIBEE type"
    pas_pattern: PRE
    test_cases:
      - name: test_string
        input: '{"ts_type": "string"}'
        expected: '{"vibee_type": "String"}'

  - name: generate_vibee_spec
    given: "Parsed TypeScript code"
    when: "Spec generation"
    then: "VIBEE specification"
    pas_pattern: ALG
    test_cases:
      - name: test_spec
        input: '{"interfaces": [...]}'
        expected: '{"spec": "name: user\\n..."}'

type_reverse_mappings:
  string: "String"
  number: "Int"
  boolean: "Bool"
  Array: "List"
  Record: "Object"
  Date: "Timestamp"

# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════
