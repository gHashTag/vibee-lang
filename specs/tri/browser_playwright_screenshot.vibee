# Playwright Screenshot Module
# Full page, element, viewport capture
# Visual testing support

name: browser_playwright_screenshot
version: "1.0.0"
language: zig
module: browser_playwright_screenshot

types:
  ScreenshotOptions:
    fields:
      full_page: Bool
      clip_x: Option<Int>
      clip_y: Option<Int>
      clip_width: Option<Int>
      clip_height: Option<Int>
      omit_background: Bool
      quality: Option<Int>
      image_type: String

  ElementScreenshotOptions:
    fields:
      omit_background: Bool
      quality: Option<Int>
      image_type: String

  ScreenshotData:
    fields:
      data: String
      width: Int
      height: Int
      format: String
      size_bytes: Int

  ScreenshotComparison:
    fields:
      match: Bool
      diff_percent: Float
      diff_image: Option<String>

  PDFOptions:
    fields:
      format: String
      print_background: Bool
      margin_top: String
      margin_bottom: String
      margin_left: String
      margin_right: String

behaviors:
  - name: screenshot_page
    given: Page and screenshot options
    when: Page capture needed
    then: Returns screenshot data

  - name: screenshot_element
    given: Page, selector, and options
    when: Element capture needed
    then: Returns element screenshot

  - name: screenshot_full_page
    given: Page and options
    when: Full page capture needed
    then: Returns full page screenshot

  - name: screenshot_viewport
    given: Page
    when: Viewport capture needed
    then: Returns viewport screenshot

  - name: compare_screenshots
    given: Two screenshot data
    when: Visual comparison needed
    then: Returns comparison result

  - name: save_screenshot
    given: Screenshot data and path
    when: File save needed
    then: Returns save result

  - name: generate_pdf
    given: Page and PDF options
    when: PDF generation needed
    then: Returns PDF data
