# VIBEE Specification v15260
# Optogenetics - Light-controlled neural modulation
name: optogenetics_v15260
version: "1.0.0"
language: zig
module: optogenetics

types:
  Opsin:
    fields:
      type: String
      wavelength: Float
      kinetics: String

  LightPattern:
    fields:
      spatial: String
      temporal: String
      intensity: Float

  NeuralResponse:
    fields:
      activation: String
      inhibition: String
      timing: Float

  OptoConfig:
    fields:
      opsin_type: String
      light_source: String
      fiber_placement: String

behaviors:
  - name: express_opsin
    given: Target neurons
    when: Expression done
    then: Returns transfected population

  - name: deliver_light
    given: Light pattern
    When: Delivery done
    then: Returns illumination

  - name: record_response
    given: Stimulation
    when: Recording done
    then: Returns neural response

  - name: closed_loop_control
    given: Target activity
    when: Control done
    then: Returns controlled state
