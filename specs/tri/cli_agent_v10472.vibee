# VIBEE CLI AGENT FOUNDATION v10472
# φ² + 1/φ² = 3 | PHOENIX = 999

name: cli_agent_v10472
version: "10472.0.0"
language: zig
module: cli_agent_v10472

types:
  AgentTask:
    fields:
      task_id: String
      description: String
      priority: Int
      deadline: Timestamp
      dependencies: List<String>

  AgentPlan:
    fields:
      plan_id: String
      steps: List<PlanStep>
      estimated_duration: Int
      confidence: Float

  PlanStep:
    fields:
      step_id: String
      action: String
      params: List<String>
      expected_output: String
      fallback: String

  AgentMemory:
    fields:
      short_term: List<String>
      long_term: List<String>
      working: List<String>
      capacity: Int

  AgentState:
    fields:
      current_task: String
      completed_tasks: List<String>
      failed_tasks: List<String>
      iteration: Int

  AgentAction:
    fields:
      action_type: String
      target: String
      params: List<String>
      timeout_ms: Int

  AgentObservation:
    fields:
      observation_type: String
      content: String
      timestamp: Timestamp
      source: String

  AgentReflection:
    fields:
      reflection_id: String
      insight: String
      confidence: Float
      actionable: Bool

  AgentTool:
    fields:
      tool_name: String
      description: String
      parameters: List<String>
      returns: String

  AgentLoop:
    fields:
      max_iterations: Int
      current_iteration: Int
      stop_condition: String
      status: String

behaviors:
  - name: create_task
    given: "Task description and constraints"
    when: "Task creation requested"
    then: "Returns created agent task"

  - name: plan_execution
    given: "Task and available tools"
    when: "Planning requested"
    then: "Returns execution plan"

  - name: execute_step
    given: "Plan step and context"
    when: "Step execution requested"
    then: "Returns step result"

  - name: observe_result
    given: "Execution result"
    when: "Observation requested"
    then: "Returns agent observation"

  - name: reflect_on_progress
    given: "Observations and goal"
    when: "Reflection requested"
    then: "Returns agent reflection"

  - name: update_memory
    given: "New information and memory"
    when: "Memory update requested"
    then: "Returns updated memory"

  - name: select_tool
    given: "Task and available tools"
    when: "Tool selection requested"
    then: "Returns selected tool"

  - name: handle_error
    given: "Error and context"
    when: "Error handling requested"
    then: "Returns recovery action"

  - name: check_completion
    given: "State and goal"
    when: "Completion check requested"
    then: "Returns completion status"

  - name: run_loop
    given: "Task and loop config"
    when: "Agent loop requested"
    then: "Returns final result"
