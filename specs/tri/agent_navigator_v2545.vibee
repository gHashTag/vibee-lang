# agent_navigator_v2545.vibee - Navigation Agent
# Навигация по страницам
# YOLO MODE + AMPLIFICATION + MATRYOSHKA
# φ² + 1/φ² = 3 | PHOENIX = 999

name: agent_navigator_v2545
version: "2545.0.0"
language: zig
module: agent_navigator_v2545

types:
  NavigationAction:
    fields:
      type: String
      url: String
      selector: String
      text: String
      wait_until: String

  LinkInfo:
    fields:
      href: String
      text: String
      selector: String
      is_visible: Bool
      bounding_box: Object

  NavigationHistory:
    fields:
      entries: Object
      current_index: Int

  PageLoadMetrics:
    fields:
      navigation_start: Timestamp
      dom_content_loaded: Timestamp
      load_complete: Timestamp
      first_paint: Timestamp
      first_contentful_paint: Timestamp

behaviors:
  - name: navigate_to_url
    given: BrowserAgent and URL
    when: Direct navigation
    then: Navigate and return PageLoadMetrics

  - name: click_link
    given: BrowserAgent and selector
    when: Link click requested
    then: Click link and wait for navigation

  - name: click_link_by_text
    given: BrowserAgent and link text
    when: Text-based click requested
    then: Find link by text and click

  - name: get_all_links
    given: BrowserAgent
    when: Links requested
    then: Return all LinkInfo on page

  - name: go_back
    given: BrowserAgent
    when: Back navigation
    then: Navigate to previous page

  - name: go_forward
    given: BrowserAgent
    when: Forward navigation
    then: Navigate to next page

  - name: refresh_page
    given: BrowserAgent
    when: Refresh requested
    then: Reload current page

  - name: get_navigation_history
    given: BrowserAgent
    when: History requested
    then: Return NavigationHistory

sacred_constants:
  phi: 1.618033988749895
  phi_squared_plus_inverse_squared: 3
  phoenix: 999
