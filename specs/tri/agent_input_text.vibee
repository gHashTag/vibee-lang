name: agent_input_text
version: "1.0.0"
language: zig
module: agent_input_text

description: |
  Agent Input Text - ввод текста в поля
  OpenAI Operator: type action с координатами
  VIBEE: умный ввод с верификацией
  φ² + 1/φ² = 3 | PHOENIX = 999

types:
  TextInputTarget:
    fields:
      selector: String
      input_type: String
      current_value: String
      max_length: Option<Int>

  TextInputConfig:
    fields:
      text: String
      clear_first: Bool
      human_like: Bool
      verify_input: Bool

  TextInputResult:
    fields:
      success: Bool
      typed_text: String
      actual_value: String
      matches_expected: Bool
      time_ms: Float

  KeyboardShortcut:
    fields:
      keys: List<String>
      description: String

behaviors:
  - name: type_text
    given: TextInputTarget и TextInputConfig
    when: Ввод текста в поле
    then: TextInputResult с верификацией

  - name: type_instant
    given: TextInputTarget и текст
    when: Мгновенный ввод (без имитации)
    then: TextInputResult за < 10ms

  - name: clear_field
    given: TextInputTarget поле
    when: Очистка поля ввода
    then: Поле пустое

  - name: press_key
    given: Клавиша или комбинация
    when: Нажатие клавиши
    then: Событие отправлено

  - name: press_shortcut
    given: KeyboardShortcut комбинация
    when: Нажатие горячей клавиши
    then: Действие выполнено

  - name: type_with_autocomplete
    given: TextInputTarget и текст
    when: Ввод с ожиданием autocomplete
    then: TextInputResult с выбором из списка
