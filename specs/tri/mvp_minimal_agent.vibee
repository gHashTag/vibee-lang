name: mvp_minimal_agent
version: "1.0.0"
language: zig
module: mvp_minimal_agent

# MVP: Minimal Working Agent
# Absolute minimum to execute one task
# Uses existing JS runtime where possible

types:
  MinimalConfig:
    fields:
      llm_api_key: String
      start_url: String
      task_intent: String
      max_steps: Int

  MinimalState:
    fields:
      step: Int
      url: String
      done: Bool
      answer: Option<String>

  Action:
    fields:
      name: String
      selector: Option<String>
      value: Option<String>
      url: Option<String>

  Observation:
    fields:
      page_title: String
      visible_text: String
      action_result: String

behaviors:
  - name: init
    given: MinimalConfig
    when: Starting minimal agent
    then: Return MinimalState at step 0

  - name: think
    given: MinimalState and Observation
    when: Agent decides next action
    then: Return Action to execute

  - name: act
    given: MinimalState and Action
    when: Executing action in browser
    then: Return new Observation

  - name: is_done
    given: MinimalState
    when: Checking if task complete
    then: Return bool

  - name: run
    given: MinimalConfig
    when: Running full agent loop
    then: Return final answer or failure
