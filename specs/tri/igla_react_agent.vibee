# VIBEE Specification - IGLA ReAct Agent
# Reasoning and Acting pattern
# V = n × 3^k × π^m × φ^p | φ² + 1/φ² = 3 | PHOENIX = 999

name: igla_react_agent
version: "1.0.0"
language: zig
module: igla_react_agent

types:
  ReActStep:
    fields:
      thought: String
      action: String
      action_input: String
      observation: String

  ReActTrace:
    fields:
      steps: String
      final_answer: String
      success: Bool

  ReActConfig:
    fields:
      max_steps: Int
      tools: String
      stop_on_answer: Bool

  ReActMetrics:
    fields:
      traces_completed: Int
      avg_steps: Float
      success_rate: Float

behaviors:
  - name: think
    given: Context
    when: Thinking
    then: Thought generated

  - name: act
    given: Thought
    when: Acting
    then: Action selected

  - name: observe
    given: Action result
    when: Observing
    then: Observation recorded

  - name: run_loop
    given: Task
    when: ReAct loop
    then: Trace completed

  - name: get_metrics
    given: Agent
    when: Metrics requested
    then: ReAct metrics returned

test_cases:
  - name: test_think
    input: { context: "solve problem" }
    expected: { has_thought: true }

  - name: test_act
    input: { thought: "need to search" }
    expected: { has_action: true }

  - name: test_loop
    input: { task: "find answer" }
    expected: { completed: true }

  - name: test_metrics
    input: {}
    expected: { traces_completed: 0 }
