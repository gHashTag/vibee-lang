# E2E Test Case Structure
# Define test cases
# Given-When-Then pattern

name: e2e_test_case
version: "1.0.0"
language: zig
module: e2e_test_case

types:
  TestCase:
    fields:
      case_id: String
      name: String
      description: String
      tags: List<String>
      timeout_ms: Int

  TestStep:
    fields:
      step_id: String
      action: String
      params: Map<String,String>
      expected: String

  TestContext:
    fields:
      context_id: String
      browser_id: Option<String>
      page_id: Option<String>
      variables: Map<String,String>

  TestOutcome:
    fields:
      outcome_id: String
      status: String
      actual: String
      expected: String
      match: Bool

behaviors:
  - name: create_case
    given: Case definition
    when: Case creation needed
    then: Returns test case

  - name: add_step
    given: Case and step
    when: Step addition needed
    then: Returns updated case

  - name: execute_case
    given: Case and context
    when: Execution needed
    then: Returns outcome

  - name: validate_outcome
    given: Actual and expected
    when: Validation needed
    then: Returns validation result

  - name: skip_case
    given: Case and reason
    when: Skip needed
    then: Returns skip result

  - name: retry_case
    given: Failed case
    when: Retry needed
    then: Returns retry result
