name: verilog_axi
version: "1.0.0"
language: zig
module: verilog_axi

# ═══════════════════════════════════════════════════════════════════════════════
# VIBEE → Verilog AXI Interface Generator
# ═══════════════════════════════════════════════════════════════════════════════
# Священная Формула: V = n × 3^k × π^m × φ^p × e^q
# Золотое Тождество: φ² + 1/φ² = 3 | PHOENIX = 999
#
# Генерация AXI4 и AXI-Lite интерфейсов
# Поддержка: Master, Slave, Lite, Full, Stream
# ═══════════════════════════════════════════════════════════════════════════════

types:
  AxiConfig:
    fields:
      interface_type: String
      data_width: Int
      addr_width: Int
      id_width: Int
      is_master: Bool

  AxiLitePort:
    fields:
      awaddr: Int
      awvalid: Bool
      awready: Bool
      wdata: Int
      wstrb: Int
      wvalid: Bool
      wready: Bool
      bresp: Int
      bvalid: Bool
      bready: Bool
      araddr: Int
      arvalid: Bool
      arready: Bool
      rdata: Int
      rresp: Int
      rvalid: Bool
      rready: Bool

  Axi4Port:
    fields:
      awid: Int
      awaddr: Int
      awlen: Int
      awsize: Int
      awburst: Int
      awvalid: Bool
      awready: Bool
      wdata: Int
      wstrb: Int
      wlast: Bool
      wvalid: Bool
      wready: Bool
      bid: Int
      bresp: Int
      bvalid: Bool
      bready: Bool
      arid: Int
      araddr: Int
      arlen: Int
      arsize: Int
      arburst: Int
      arvalid: Bool
      arready: Bool
      rid: Int
      rdata: Int
      rresp: Int
      rlast: Bool
      rvalid: Bool
      rready: Bool

  RegisterMap:
    fields:
      base_addr: Int
      registers: List<Object>
      total_size: Int

behaviors:
  - name: generate_axi_lite_slave
    given: AxiConfig with addr_width and data_width
    when: AXI-Lite slave generation
    then: Output complete AXI-Lite slave interface

  - name: generate_axi_lite_master
    given: AxiConfig for master
    when: AXI-Lite master generation
    then: Output AXI-Lite master with read/write FSM

  - name: generate_axi4_master
    given: AxiConfig with burst support
    when: AXI4 master generation
    then: Output AXI4 master with burst transfers

  - name: generate_axi4_slave
    given: AxiConfig for memory-mapped slave
    when: AXI4 slave generation
    then: Output AXI4 slave with BRAM interface

  - name: generate_register_map
    given: List of control/status registers
    when: Register map generation
    then: Output AXI-Lite accessible register file

  - name: generate_axi_interconnect
    given: Multiple masters and slaves
    when: Interconnect generation
    then: Output crossbar or shared bus

  - name: generate_axi_protocol_checker
    given: AXI interface signals
    when: Protocol checker generation
    then: Output assertions for AXI compliance
