# VIBEE Specification v13430
# Cross-Modal Attention - Attention between different modalities
name: cross_modal_attention_v13430
version: "1.0.0"
language: zig
module: cross_modal_attention

types:
  AttentionType:
    fields:
      cross_attention: String
      gated_attention: String
      perceiver: String
      flamingo: String

  ModalityPair:
    fields:
      query_modality: String
      key_modality: String
      query_features: String
      key_features: String

  CrossAttentionOutput:
    fields:
      attended_features: String
      attention_weights: String
      output_dim: Int

  GatingMechanism:
    fields:
      gate_values: String
      modulated_output: String

  CrossModalConfig:
    fields:
      num_heads: Int
      hidden_dim: Int
      dropout: Float
      use_gating: Bool

behaviors:
  - name: compute_cross_attention
    given: Modality pair and config
    when: Attention computed
    then: Returns cross attention output

  - name: apply_gating
    given: Features and gate
    when: Gating applied
    then: Returns gating mechanism

  - name: fuse_modalities
    given: Multiple features
    when: Fusion done
    then: Returns fused features

  - name: get_attention_map
    given: Cross attention output
    when: Map extracted
    then: Returns attention weights
