# VIBEE Specification v13564
# Container Runtime
# KOSCHEI CYCLE 11 - 1000000x SPEEDUP

name: sandbox_container
version: "13564"
language: zig
module: sandbox_container

types:
  Container:
    fields:
      id: String
      image: String
      status: String
      ports: List<Object>

  ContainerConfig:
    fields:
      image: String
      command: List<String>
      env: Object
      volumes: List<Object>

  ContainerState:
    fields:
      container_id: String
      status: String
      exit_code: Int
      started_at: Timestamp

  ContainerMetrics:
    fields:
      containers_running: Int
      containers_total: Int
      avg_start_time_ms: Float

  ContainerImage:
    fields:
      image_id: String
      name: String
      tag: String
      size_mb: Int

  ContainerNetwork:
    fields:
      network_id: String
      containers: List<String>
      subnet: String

behaviors:
  - name: create_container
    given: Container config
    When: Creation requested
    then: Container created

  - name: start_container
    given: Container ID
    When: Start requested
    then: Container started

  - name: stop_container
    given: Container ID
    When: Stop requested
    then: Container stopped

  - name: exec_in_container
    given: Container and command
    When: Exec requested
    then: Command executed

  - name: logs
    given: Container ID
    When: Logs requested
    then: Container logs returned

  - name: remove_container
    given: Container ID
    When: Removal requested
    then: Container removed

creation_pattern:
  source: ContainerConfig
  transformer: ContainerRuntime
  result: Container
