# deep_browser_vscode_v12855.vibee - Глубокая интеграция Browser+VSCode
# Единое окно Browser|Chat|VSCode
# φ² + 1/φ² = 3 | PHOENIX = 999

name: deep_browser_vscode_v12855
version: "12855.0.0"
language: zig
module: deep_browser_vscode_v12855

types:
  UnifiedWorkspace:
    fields:
      workspace_id: String
      browser_pane: Object
      chat_pane: Object
      vscode_pane: Object
      layout: Object

  IntegrationBridge:
    fields:
      bridge_id: String
      browser_context: Object
      vscode_context: Object
      sync_enabled: Bool

  CrossPaneAction:
    fields:
      action_id: String
      source_pane: String
      target_pane: String
      action_type: String
      payload: Object

  SharedContext:
    fields:
      current_url: String
      current_file: String
      selection: Object
      cursor_position: Object

  IntegrationConfig:
    fields:
      auto_sync: Bool
      bidirectional: Bool
      debounce_ms: Int

behaviors:
  - name: create_unified_workspace
    given: Config
    when: Workspace creation
    then: Return UnifiedWorkspace

  - name: sync_browser_to_vscode
    given: Browser state
    when: Sync
    then: Update VSCode context

  - name: sync_vscode_to_browser
    given: VSCode state
    when: Sync
    then: Update Browser context

  - name: execute_cross_pane
    given: CrossPaneAction
    when: Action execution
    then: Return result

  - name: get_shared_context
    given: Workspace ID
    when: Context request
    then: Return SharedContext

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
