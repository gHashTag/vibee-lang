# VIBEE Specification v13420
# Text Encoder - Text encoding for multimodal alignment
name: text_encoder_v13420
version: "1.0.0"
language: zig
module: text_encoder

types:
  TokenizerType:
    fields:
      bpe: String
      wordpiece: String
      sentencepiece: String
      unigram: String

  TextInput:
    fields:
      text: String
      tokens: String
      attention_mask: String

  TextEmbedding:
    fields:
      embeddings: String
      seq_len: Int
      hidden_dim: Int

  TextFeatures:
    fields:
      features: String
      pooled_output: String
      token_embeddings: String

  TextEncoderConfig:
    fields:
      vocab_size: Int
      hidden_dim: Int
      num_layers: Int
      num_heads: Int
      max_seq_len: Int

behaviors:
  - name: tokenize_text
    given: Raw text
    when: Tokenization done
    then: Returns text input

  - name: embed_tokens
    given: Token IDs
    when: Embedding done
    then: Returns text embedding

  - name: encode_text
    given: Text input and config
    when: Encoding done
    then: Returns text features

  - name: pool_features
    given: Token embeddings
    when: Pooling done
    then: Returns pooled output
