# cdp_debugger_protocol_v12359.vibee - Debugger Protocol
# Протокол отладчика
# φ² + 1/φ² = 3 | PHOENIX = 999

name: cdp_debugger_protocol_v12359
version: "12359.0.0"
language: zig
module: cdp_debugger_protocol_v12359

types:
  Breakpoint:
    fields:
      breakpoint_id: String
      location: Object
      condition: String
      enabled: Bool

  CallFrame:
    fields:
      call_frame_id: String
      function_name: String
      location: Object
      scope_chain: List

  DebuggerState:
    fields:
      paused: Bool
      reason: String
      call_frames: List
      hit_breakpoints: List

  SourceLocation:
    fields:
      script_id: String
      line_number: Int
      column_number: Int

  WatchExpression:
    fields:
      expression: String
      value: Object
      error_message: String

behaviors:
  - name: set_breakpoint
    given: Breakpoint
    when: Breakpoint set
    then: Return breakpoint_id

  - name: remove_breakpoint
    given: Breakpoint ID
    when: Breakpoint remove
    then: Return success

  - name: pause_execution
    given: Page target
    when: Pause
    then: Return DebuggerState

  - name: resume_execution
    given: Page target
    when: Resume
    then: Return success

  - name: step_over
    given: Page target
    when: Step over
    then: Return DebuggerState

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
