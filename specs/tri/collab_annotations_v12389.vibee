# collab_annotations_v12389.vibee - Collaborative Annotations
# Совместные аннотации
# φ² + 1/φ² = 3 | PHOENIX = 999

name: collab_annotations_v12389
version: "12389.0.0"
language: zig
module: collab_annotations_v12389

types:
  Annotation:
    fields:
      annotation_id: String
      user_id: String
      annotation_type: String
      position: Object
      content: String
      color: String

  AnnotationThread:
    fields:
      thread_id: String
      annotations: List
      resolved: Bool
      file_path: String

  DrawingAnnotation:
    fields:
      points: List
      stroke_width: Int
      color: String
      tool: String

  AnnotationFilter:
    fields:
      user_ids: List
      types: List
      resolved: Bool

  AnnotationEvent:
    fields:
      event_type: String
      annotation: Object
      user_id: String

behaviors:
  - name: create_annotation
    given: Annotation
    when: Creation
    then: Return annotation_id

  - name: update_annotation
    given: Annotation ID and changes
    when: Update
    then: Return success

  - name: delete_annotation
    given: Annotation ID
    when: Deletion
    then: Return success

  - name: resolve_thread
    given: Thread ID
    when: Resolution
    then: Return success

  - name: get_annotations
    given: AnnotationFilter
    when: Fetch
    then: Return Annotation list

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
