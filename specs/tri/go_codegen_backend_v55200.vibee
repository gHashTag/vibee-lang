name: go_codegen_backend_v55200
version: "55200.0.0"
language: zig
module: go_codegen_backend

# GO CODEGEN BACKEND
# Генерация Go кода из VIBEE AST

types:
  GoConfig:
    fields:
      package_name: String
      go_version: String
      use_json_tags: Bool
      use_interfaces: Bool
      emit_tests: Bool

  GoModule:
    fields:
      package_name: String
      imports_count: Int
      structs_count: Int
      interfaces_count: Int

  GoStruct:
    fields:
      name: String
      is_exported: Bool
      json_tags: Bool
      fields_count: Int

  GoField:
    fields:
      name: String
      go_type: String
      json_tag: String
      is_pointer: Bool

  GoInterface:
    fields:
      name: String
      methods_count: Int

  GoMethod:
    fields:
      name: String
      receiver: String
      params: String
      return_type: String
      is_pointer_receiver: Bool

  GoTest:
    fields:
      name: String
      is_benchmark: Bool
      is_example: Bool

  GoOutput:
    fields:
      code: String
      size_bytes: Int
      structs_generated: Int
      tests_generated: Int

behaviors:
  - name: emit_go_header
    given: GoConfig
    when: Header generation triggered
    then: Go package and imports

  - name: emit_go_struct
    given: VIBEE type definition
    when: Struct generation triggered
    then: Go struct with tags

  - name: emit_go_field
    given: VIBEE field definition
    when: Field generation triggered
    then: Go field with json tag

  - name: emit_go_interface
    given: VIBEE behaviors
    when: Interface generation triggered
    then: Go interface definition

  - name: emit_go_method
    given: VIBEE behavior
    when: Method generation triggered
    then: Go method with receiver

  - name: emit_go_test
    given: VIBEE behavior
    when: Test generation triggered
    then: Go test function

  - name: map_type_to_go
    given: VIBEE type name
    when: Type mapping requested
    then: Go type returned

  - name: generate_go_module
    given: Complete VIBEE spec
    When: Full generation triggered
    then: Complete Go module
