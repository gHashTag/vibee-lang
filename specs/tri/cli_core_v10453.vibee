# VIBEE CLI CORE FOUNDATION v10453
# φ² + 1/φ² = 3 | PHOENIX = 999

name: cli_core_v10453
version: "10453.0.0"
language: zig
module: cli_core_v10453

types:
  Command:
    fields:
      name: String
      description: String
      aliases: List<String>
      flags: List<Flag>
      args: List<Argument>
      subcommands: List<String>

  Flag:
    fields:
      name: String
      short: String
      description: String
      required: Bool
      default_value: String

  Argument:
    fields:
      name: String
      arg_type: String
      required: Bool
      variadic: Bool
      default_value: String

  ParseResult:
    fields:
      command: String
      flags: List<String>
      args: List<String>
      errors: List<String>
      valid: Bool

  Router:
    fields:
      routes: List<Route>
      fallback: String
      middleware: List<String>

  Route:
    fields:
      pattern: String
      handler: String
      methods: List<String>

  HelpFormatter:
    fields:
      format_type: String
      max_width: Int
      indent: Int
      color_enabled: Bool

  CommandRegistry:
    fields:
      commands: List<Command>
      version: String
      app_name: String
      description: String

  ExecutionContext:
    fields:
      command: String
      args: List<String>
      env: List<String>
      working_dir: String

  ExitCode:
    fields:
      code: Int
      message: String
      success: Bool

behaviors:
  - name: parse_command
    given: "Raw command line arguments"
    when: "Parsing requested"
    then: "Returns ParseResult with parsed command structure"

  - name: route_command
    given: "Parsed command and router"
    when: "Routing requested"
    then: "Returns matched route handler"

  - name: generate_help
    given: "Command and formatter"
    when: "Help generation requested"
    then: "Returns formatted help text"

  - name: register_command
    given: "Command definition"
    when: "Registration requested"
    then: "Returns updated registry"

  - name: validate_args
    given: "Arguments and command spec"
    when: "Validation requested"
    then: "Returns validation result"

  - name: execute_command
    given: "Context and handler"
    when: "Execution requested"
    then: "Returns exit code"

  - name: format_error
    given: "Error and context"
    when: "Error formatting requested"
    then: "Returns formatted error message"

  - name: suggest_command
    given: "Misspelled command and registry"
    when: "Suggestion requested"
    then: "Returns similar command suggestions"

  - name: complete_command
    given: "Partial input and context"
    when: "Completion requested"
    then: "Returns completion candidates"

  - name: version_info
    given: "Registry"
    when: "Version info requested"
    then: "Returns version string"
