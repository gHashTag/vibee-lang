name: sva_generator
version: "1.0.0"
language: zig
module: sva_generator

# ═══════════════════════════════════════════════════════════════════════════════
# SystemVerilog Assertions Generator
# ═══════════════════════════════════════════════════════════════════════════════
# IEEE 1800 SVA from .vibee behaviors
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

types:
  SVAConfig:
    fields:
      clock_name: String
      reset_name: String
      reset_active_low: Bool
      enable_covers: Bool
      enable_assumes: Bool

  AssertionType:
    fields:
      name: String
      kind: String
      property_expr: String
      message: String

  TemporalOperator:
    fields:
      op_type: String
      delay_cycles: Int
      repeat_count: Int

  SVAProperty:
    fields:
      name: String
      antecedent: String
      consequent: String
      operator: String

  SVASequence:
    fields:
      name: String
      elements: List<String>
      operators: List<String>

  GeneratedSVA:
    fields:
      assertions: List<String>
      covers: List<String>
      assumes: List<String>

behaviors:
  - name: parse_behavior_given
    given: Behavior has given clause
    when: Parsing behavior specification
    then: Extract precondition for assume/antecedent

  - name: parse_behavior_when
    given: Behavior has when clause
    when: Parsing behavior specification
    then: Extract trigger condition and timing

  - name: parse_behavior_then
    given: Behavior has then clause
    when: Parsing behavior specification
    then: Extract postcondition for assert/consequent

  - name: generate_assertion
    given: Parsed behavior with given/when/then
    when: Generating SVA
    then: Create assert property with implication

  - name: generate_cover
    given: Behavior describes scenario
    when: Coverage enabled
    then: Create cover property for scenario

  - name: generate_assume
    given: Behavior describes input constraint
    when: Formal verification mode
    then: Create assume property for constraint

  - name: emit_sva_block
    given: All assertions generated
    when: Writing output
    then: Emit SVA block with clock and reset
