name: llm_function_calling
version: "11.0.0"
language: zig
module: llm_function_calling

# LLM: Function Calling
# Tool use and function execution

types:
  FunctionDef:
    fields:
      name: String
      description: String
      parameters: String
      required: List<String>

  FunctionCall:
    fields:
      call_id: String
      name: String
      arguments: String

  FunctionResult:
    fields:
      call_id: String
      result: String
      error: Option<String>

  ToolChoice:
    fields:
      choice_type: String
      function_name: Option<String>

behaviors:
  - name: define_function
    given: Name, description, parameters
    when: Creating function definition
    then: Return FunctionDef

  - name: parse_call
    given: LLM response
    when: Extracting function call
    then: Return FunctionCall

  - name: execute_function
    given: FunctionCall and registry
    when: Running function
    then: Return FunctionResult

  - name: format_result
    given: FunctionResult
    when: Formatting for LLM
    then: Return formatted message

  - name: validate_arguments
    given: FunctionCall and FunctionDef
    when: Validating call arguments
    then: Return validation result

  - name: get_tool_choice
    given: Task context
    when: Deciding tool choice
    then: Return ToolChoice
