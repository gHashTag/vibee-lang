name: action_browser_extract
version: "11.0.0"
language: zig
module: action_browser_extract

# ACTION: Browser Data Extraction
# DOM extraction, text, attributes

types:
  ExtractRequest:
    fields:
      selector: String
      extract_type: String
      attribute: Option<String>
      multiple: Bool

  ExtractResult:
    fields:
      success: Bool
      data: String
      count: Int
      error: Option<String>

  DOMElement:
    fields:
      tag_name: String
      attributes: Map<String,String>
      text_content: String
      inner_html: String
      children_count: Int

  TableData:
    fields:
      headers: List<String>
      rows: List<String>
      row_count: Int
      col_count: Int

behaviors:
  - name: extract_text
    given: Selector
    when: Getting element text
    then: Return text string

  - name: extract_attribute
    given: Selector and attribute
    when: Getting attribute value
    then: Return attribute value

  - name: extract_html
    given: Selector
    when: Getting inner HTML
    then: Return HTML string

  - name: extract_all
    given: Selector
    when: Getting all matching elements
    then: Return list of DOMElements

  - name: extract_table
    given: Table selector
    when: Extracting table data
    then: Return TableData

  - name: extract_links
    given: Container selector
    when: Getting all links
    then: Return list of URLs
