name: zig_cdp_input
version: "14.0.0"
language: zig
module: zig_cdp_input

# IMPLEMENTATION: CDP Input Domain
# Mouse and keyboard events
# φ² + 1/φ² = 3

types:
  MouseButton:
    fields:
      button: String

  MouseEventParams:
    fields:
      event_type: String
      x: Float
      y: Float
      button: String
      click_count: Int
      modifiers: Int

  KeyEventParams:
    fields:
      event_type: String
      key: String
      code: String
      modifiers: Int
      text: Option<String>

  TouchPoint:
    fields:
      x: Float
      y: Float
      radius_x: Float
      radius_y: Float

behaviors:
  - name: click
    given: X, Y coordinates
    when: Clicking at position
    then: Return click status

  - name: double_click
    given: X, Y coordinates
    when: Double clicking
    then: Return click status

  - name: mouse_down
    given: MouseEventParams
    when: Pressing mouse button
    then: Return event status

  - name: mouse_up
    given: MouseEventParams
    when: Releasing mouse button
    then: Return event status

  - name: mouse_move
    given: X, Y coordinates
    when: Moving mouse
    then: Return move status

  - name: key_down
    given: KeyEventParams
    when: Pressing key
    then: Return event status

  - name: key_up
    given: KeyEventParams
    when: Releasing key
    then: Return event status

  - name: type_text
    given: Text string
    when: Typing text character by character
    then: Return type status

  - name: insert_text
    given: Text string
    when: Inserting text directly
    then: Return insert status
