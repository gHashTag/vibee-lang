name: zig_cdp_dom
version: "14.0.0"
language: zig
module: zig_cdp_dom

# IMPLEMENTATION: CDP DOM Domain
# Document manipulation
# φ² + 1/φ² = 3

types:
  DOMElement:
    fields:
      node_id: Int
      tag_name: String
      attributes: Map<String,String>
      text: Option<String>

  BoxModel:
    fields:
      content: List<Float>
      padding: List<Float>
      border: List<Float>
      margin: List<Float>
      width: Int
      height: Int

  QueryResult:
    fields:
      found: Bool
      node_id: Option<Int>
      count: Int

behaviors:
  - name: get_document
    given: Nothing
    when: Getting document root
    then: Return root DOMElement

  - name: query_selector
    given: Selector string
    when: Finding single element
    then: Return QueryResult

  - name: query_selector_all
    given: Selector string
    when: Finding all matching elements
    then: Return list of node IDs

  - name: get_outer_html
    given: Node ID
    when: Getting element HTML
    then: Return HTML string

  - name: get_box_model
    given: Node ID
    when: Getting element dimensions
    then: Return BoxModel

  - name: get_attributes
    given: Node ID
    when: Getting element attributes
    then: Return attributes map

  - name: focus
    given: Node ID
    when: Focusing element
    then: Return focus status

  - name: scroll_into_view
    given: Node ID
    when: Scrolling element into view
    then: Return scroll status
