name: zig_agent_minimal
version: "13.0.0"
language: zig
module: zig_agent_minimal

# IMPLEMENTATION: Minimal ReAct Agent
# Think → Act → Observe loop
# Pure Zig, no JS
# φ² + 1/φ² = 3

types:
  AgentConfig:
    fields:
      api_key: String
      model: String
      max_steps: Int
      system_prompt: String

  AgentState:
    fields:
      step: Int
      task: String
      history: List<String>
      done: Bool
      answer: Option<String>

  AgentStep:
    fields:
      thought: String
      action: String
      action_input: String
      observation: String

  AgentResult:
    fields:
      success: Bool
      answer: Option<String>
      steps: Int
      total_tokens: Int
      total_time_ms: Int

  Tool:
    fields:
      name: String
      description: String

behaviors:
  - name: create_agent
    given: AgentConfig
    when: Initializing agent
    then: Return agent handle

  - name: run
    given: Task string
    when: Running agent on task
    then: Return AgentResult

  - name: step
    given: AgentState
    when: Executing one ReAct step
    then: Return updated AgentState

  - name: think
    given: AgentState
    when: LLM generates thought and action
    then: Return thought, action, action_input

  - name: act
    given: Action and input
    when: Executing action
    then: Return observation

  - name: is_done
    given: AgentState
    when: Checking if task complete
    then: Return bool
