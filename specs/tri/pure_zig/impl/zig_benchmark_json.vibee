name: zig_benchmark_json
version: "12.0.0"
language: zig
module: zig_benchmark_json

# IMPLEMENTATION: JSON Benchmark
# Measure JSON parser performance
# Compare SIMD vs std.json vs JS
# φ² + 1/φ² = 3

types:
  JsonBenchConfig:
    fields:
      json_data: String
      iterations: Int
      warmup: Int

  JsonBenchResult:
    fields:
      parser_name: String
      iterations: Int
      total_time_ns: Int
      avg_time_ns: Int
      throughput_mbps: Float
      bytes_processed: Int

  ParserComparison:
    fields:
      simd_result: String
      std_result: String
      speedup: Float

  MemoryStats:
    fields:
      allocations: Int
      bytes_allocated: Int
      peak_memory: Int

behaviors:
  - name: benchmark_simd
    given: JsonBenchConfig
    when: Benchmarking SIMD parser
    then: Return JsonBenchResult

  - name: benchmark_std
    given: JsonBenchConfig
    when: Benchmarking std.json
    then: Return JsonBenchResult

  - name: compare_parsers
    given: JSON data
    when: Comparing SIMD vs std.json
    then: Return ParserComparison

  - name: benchmark_path_query
    given: JSON and path
    when: Benchmarking path extraction
    then: Return timing result

  - name: benchmark_stringify
    given: JSON value
    when: Benchmarking JSON building
    then: Return timing result

  - name: generate_report
    given: List of results
    when: Creating comparison report
    then: Return formatted report
