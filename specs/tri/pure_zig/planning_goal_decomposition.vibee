name: planning_goal_decomposition
version: "11.0.0"
language: zig
module: planning_goal_decomposition

# PLANNING: Goal Decomposition
# Breaking complex goals into achievable subgoals
# Dependency tracking

types:
  DecomposedGoal:
    fields:
      original_goal: String
      subgoals: List<String>
      dependencies: Map<String,List<String>>
      estimated_steps: Int

  Subgoal:
    fields:
      subgoal_id: String
      description: String
      dependencies: List<String>
      estimated_difficulty: Float
      status: String

  DependencyGraph:
    fields:
      nodes: List<String>
      edges: List<String>
      topological_order: List<String>

  DecompositionStrategy:
    fields:
      strategy_type: String
      max_subgoals: Int
      min_granularity: Int

behaviors:
  - name: decompose
    given: Goal and strategy
    when: Breaking down goal
    then: Return DecomposedGoal

  - name: build_dependency_graph
    given: List of Subgoals
    when: Analyzing dependencies
    then: Return DependencyGraph

  - name: get_ready_subgoals
    given: DecomposedGoal and completed
    when: Finding executable subgoals
    then: Return list of ready Subgoals

  - name: estimate_difficulty
    given: Subgoal
    when: Estimating complexity
    then: Return difficulty score

  - name: merge_subgoals
    given: Two similar Subgoals
    when: Reducing redundancy
    then: Return merged Subgoal

  - name: validate_decomposition
    given: DecomposedGoal
    when: Checking completeness
    then: Return validation result
