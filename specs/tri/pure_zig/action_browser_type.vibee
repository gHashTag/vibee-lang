name: action_browser_type
version: "11.0.0"
language: zig
module: action_browser_type

# ACTION: Browser Type
# Text input, keyboard events

types:
  TypeRequest:
    fields:
      selector: String
      text: String
      delay_ms: Int
      clear_first: Bool

  TypeResult:
    fields:
      success: Bool
      typed_text: String
      error: Option<String>

  KeyEvent:
    fields:
      key: String
      modifiers: List<String>
      event_type: String

  InputState:
    fields:
      selector: String
      value: String
      focused: Bool
      editable: Bool

behaviors:
  - name: type_text
    given: TypeRequest
    when: Typing into input
    then: Return TypeResult

  - name: press_key
    given: KeyEvent
    when: Pressing keyboard key
    then: Return success status

  - name: clear_input
    given: Selector
    when: Clearing input field
    then: Return success status

  - name: fill
    given: Selector and text
    when: Filling input instantly
    then: Return TypeResult

  - name: get_input_value
    given: Selector
    when: Getting current value
    then: Return value string

  - name: focus
    given: Selector
    when: Focusing element
    then: Return success status
