name: observation_visual
version: "11.0.0"
language: zig
module: observation_visual

# OBSERVATION: Visual Analysis
# Screenshot-based understanding

types:
  VisualObservation:
    fields:
      screenshot: String
      width: Int
      height: Int
      timestamp: Timestamp

  BoundingBox:
    fields:
      x: Int
      y: Int
      width: Int
      height: Int
      label: String

  VisualElement:
    fields:
      bbox: String
      element_type: String
      text: Option<String>
      confidence: Float

  OCRResult:
    fields:
      text: String
      boxes: List<String>
      confidence: Float

behaviors:
  - name: capture
    given: Nothing
    when: Taking visual observation
    then: Return VisualObservation

  - name: detect_elements
    given: VisualObservation
    when: Finding UI elements
    then: Return list of VisualElements

  - name: ocr
    given: VisualObservation
    when: Extracting text from image
    then: Return OCRResult

  - name: find_text
    given: Text to find
    when: Locating text in screenshot
    then: Return BoundingBox

  - name: compare_visual
    given: Two VisualObservations
    when: Detecting changes
    then: Return difference regions

  - name: describe_scene
    given: VisualObservation
    when: Getting scene description
    then: Return description string
