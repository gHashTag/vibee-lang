name: benchmark_metrics
version: "11.0.0"
language: zig
module: benchmark_metrics

# BENCHMARK: Metrics Collection
# Performance measurement

types:
  Metric:
    fields:
      name: String
      value: Float
      unit: String
      timestamp: Timestamp

  MetricSeries:
    fields:
      name: String
      values: List<Float>
      timestamps: List<Timestamp>

  PerformanceReport:
    fields:
      metrics: Map<String,Float>
      comparisons: Map<String,Float>
      timestamp: Timestamp

  BenchmarkComparison:
    fields:
      baseline_version: String
      current_version: String
      improvements: Map<String,Float>
      regressions: Map<String,Float>

behaviors:
  - name: record_metric
    given: Metric
    when: Recording measurement
    then: Return record status

  - name: get_metric
    given: Metric name
    when: Getting metric value
    then: Return Metric

  - name: get_series
    given: Metric name and time_range
    when: Getting metric history
    then: Return MetricSeries

  - name: generate_report
    given: Metrics list
    when: Creating report
    then: Return PerformanceReport

  - name: compare_versions
    given: Baseline and current
    when: Comparing performance
    then: Return BenchmarkComparison

  - name: export_metrics
    given: Format
    when: Exporting metrics
    then: Return export data
