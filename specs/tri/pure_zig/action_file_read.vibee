name: action_file_read
version: "11.0.0"
language: zig
module: action_file_read

# ACTION: File Read
# Reading files from filesystem

types:
  ReadRequest:
    fields:
      path: String
      encoding: String
      offset: Option<Int>
      length: Option<Int>

  ReadResult:
    fields:
      success: Bool
      content: String
      size: Int
      error: Option<String>

  FileInfo:
    fields:
      path: String
      size: Int
      is_file: Bool
      is_dir: Bool
      modified: Timestamp

  DirectoryListing:
    fields:
      path: String
      entries: List<String>
      total_count: Int

behaviors:
  - name: read_file
    given: ReadRequest
    when: Reading file content
    then: Return ReadResult

  - name: read_lines
    given: Path and line_range
    when: Reading specific lines
    then: Return list of lines

  - name: file_exists
    given: Path
    when: Checking existence
    then: Return bool

  - name: get_file_info
    given: Path
    when: Getting file metadata
    then: Return FileInfo

  - name: list_directory
    given: Path
    when: Listing directory contents
    then: Return DirectoryListing

  - name: search_files
    given: Pattern and directory
    when: Finding files by pattern
    then: Return list of paths
