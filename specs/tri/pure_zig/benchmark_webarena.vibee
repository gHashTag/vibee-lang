name: benchmark_webarena
version: "11.0.0"
language: zig
module: benchmark_webarena

# BENCHMARK: WebArena
# Web agent benchmark
# Real websites, real tasks

types:
  WebArenaTask:
    fields:
      task_id: String
      site: String
      intent: String
      start_url: String
      eval_type: String

  WebArenaResult:
    fields:
      task_id: String
      success: Bool
      steps: Int
      final_url: String
      time_ms: Int
      trajectory: List<String>

  WebArenaMetrics:
    fields:
      success_rate: Float
      avg_steps: Float
      avg_time_ms: Float
      by_site: Map<String,Float>

  WebArenaConfig:
    fields:
      tasks_path: String
      max_steps: Int
      timeout_ms: Int
      headless: Bool
      sites: List<String>

behaviors:
  - name: load_tasks
    given: WebArenaConfig
    when: Loading WebArena tasks
    then: Return list of WebArenaTasks

  - name: run_task
    given: WebArenaTask
    when: Executing single task
    then: Return WebArenaResult

  - name: run_benchmark
    given: WebArenaConfig
    when: Running full benchmark
    then: Return WebArenaMetrics

  - name: evaluate_task
    given: WebArenaResult and task
    when: Evaluating success
    then: Return evaluation result

  - name: save_trajectory
    given: WebArenaResult and path
    when: Saving execution trace
    then: Return save status

  - name: replay_trajectory
    given: Trajectory path
    when: Replaying execution
    then: Return replay result
