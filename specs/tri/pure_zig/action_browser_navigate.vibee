name: action_browser_navigate
version: "11.0.0"
language: zig
module: action_browser_navigate

# ACTION: Browser Navigation
# URL navigation, history, tabs

types:
  NavigateRequest:
    fields:
      url: String
      wait_until: String
      timeout_ms: Int
      referrer: Option<String>

  NavigateResult:
    fields:
      success: Bool
      final_url: String
      status_code: Int
      load_time_ms: Int
      error: Option<String>

  NavigationHistory:
    fields:
      entries: List<String>
      current_index: Int
      can_go_back: Bool
      can_go_forward: Bool

  TabInfo:
    fields:
      tab_id: String
      url: String
      title: String
      active: Bool

behaviors:
  - name: navigate
    given: NavigateRequest
    when: Going to URL
    then: Return NavigateResult

  - name: go_back
    given: Nothing
    when: Going to previous page
    then: Return NavigateResult

  - name: go_forward
    given: Nothing
    when: Going to next page
    then: Return NavigateResult

  - name: refresh
    given: Nothing
    when: Reloading page
    then: Return NavigateResult

  - name: get_current_url
    given: Nothing
    when: Getting current URL
    then: Return URL string

  - name: wait_for_navigation
    given: Timeout
    when: Waiting for page load
    then: Return NavigateResult
