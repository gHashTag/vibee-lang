name: process_ipc
version: "11.0.0"
language: zig
module: process_ipc

# INFRA: Inter-Process Communication
# IPC mechanisms

types:
  IPCChannel:
    fields:
      channel_id: String
      channel_type: String
      connected: Bool

  IPCMessage:
    fields:
      message_id: String
      payload: String
      timestamp: Timestamp

  SharedMemory:
    fields:
      name: String
      size: Int
      attached: Bool

  IPCConfig:
    fields:
      channel_type: String
      buffer_size: Int
      timeout_ms: Int

behaviors:
  - name: create_channel
    given: IPCConfig
    when: Creating IPC channel
    then: Return IPCChannel

  - name: connect_channel
    given: Channel name
    when: Connecting to channel
    then: Return IPCChannel

  - name: send_message
    given: IPCChannel and IPCMessage
    when: Sending message
    then: Return send status

  - name: receive_message
    given: IPCChannel
    when: Receiving message
    then: Return IPCMessage

  - name: create_shared_memory
    given: Name and size
    when: Creating shared memory
    then: Return SharedMemory

  - name: close_channel
    given: IPCChannel
    when: Closing channel
    then: Return close status
