name: action_browser_screenshot
version: "11.0.0"
language: zig
module: action_browser_screenshot

# ACTION: Browser Screenshot
# Page and element screenshots

types:
  ScreenshotRequest:
    fields:
      full_page: Bool
      selector: Option<String>
      format: String
      quality: Int

  ScreenshotResult:
    fields:
      success: Bool
      data: String
      width: Int
      height: Int
      format: String

  ClipRegion:
    fields:
      x: Int
      y: Int
      width: Int
      height: Int

  ScreenshotConfig:
    fields:
      format: String
      quality: Int
      omit_background: Bool
      encoding: String

behaviors:
  - name: screenshot
    given: ScreenshotRequest
    when: Taking screenshot
    then: Return ScreenshotResult

  - name: screenshot_element
    given: Selector
    when: Capturing element
    then: Return ScreenshotResult

  - name: screenshot_region
    given: ClipRegion
    when: Capturing region
    then: Return ScreenshotResult

  - name: screenshot_full_page
    given: ScreenshotConfig
    when: Capturing full page
    then: Return ScreenshotResult

  - name: save_screenshot
    given: ScreenshotResult and path
    when: Saving to file
    then: Return save status

  - name: compare_screenshots
    given: Two ScreenshotResults
    when: Visual comparison
    then: Return difference score
