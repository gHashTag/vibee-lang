# LLM Tokenizer - BPE/SentencePiece
# φ² + 1/φ² = 3 | PHOENIX = 999

name: llm_tokenizer
version: "1.0.0"
language: zig
module: llm_tokenizer

sacred_formula:
  expression: "V = n × 3^k × π^m × φ^p"
  golden_identity: "φ² + 1/φ² = 3"

creation_pattern:
  source: RawText
  transformer: BPETokenizer
  result: TokenSequence

types:
  TokenizerConfig:
    fields:
      vocab_size: Int  # 32000
      special_tokens: List<String>  # [BOS, EOS, PAD, UNK]
      byte_fallback: Bool
      
  Token:
    fields:
      id: Int
      text: String
      score: Float
      
  Vocabulary:
    fields:
      tokens: List<Token>
      merges: List<String>
      
behaviors:
  - name: encode
    given: "Raw text string"
    when: "Tokenize text"
    then: "Return list of token IDs"
    
  - name: decode
    given: "List of token IDs"
    when: "Detokenize"
    then: "Return original text"
    
  - name: bpe_merge
    given: "Token pair and merge rules"
    when: "Apply BPE merge"
    then: "Return merged token"
    
  - name: byte_fallback
    given: "Unknown character"
    when: "Character not in vocab"
    then: "Encode as byte tokens"
