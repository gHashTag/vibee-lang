name: logger_v22
version: "22.6.0"
language: zig
module: logger_v22

types:
  LogLevel:
    fields:
      name: String

  LogEntry:
    fields:
      level: String
      message: String
      timestamp: Timestamp
      context: Object

  LogConfig:
    fields:
      level: String
      format: String
      output: String

  Logger:
    fields:
      config: Object
      context: Object

behaviors:
  - name: create_logger
    given: LogConfig
    when: Initialize logger
    then: Logger instance

  - name: debug
    given: Logger and message
    when: Log debug
    then: Logged

  - name: info
    given: Logger and message
    when: Log info
    then: Logged

  - name: warn
    given: Logger and message
    when: Log warning
    then: Logged

  - name: error
    given: Logger and message
    when: Log error
    then: Logged

  - name: with_context
    given: Logger and context
    When: Add context
    then: Logger with context

  - name: with_field
    given: Logger and key and value
    When: Add field
    then: Logger with field

  - name: set_level
    given: Logger and level
    When: Set log level
    then: Updated logger

  - name: flush
    given: Logger
    When: Flush logs
    then: Flushed

  - name: close
    given: Logger
    When: Close logger
    then: Closed
