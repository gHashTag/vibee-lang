name: v6746_activation_checkpoint_v2
version: "1.0.0"
language: zig
module: v6746_activation_checkpoint_v2

types:
  CheckpointConfig:
    fields:
      checkpoint_ratio: Float
      recompute_granularity: String

behaviors:
  - name: selective_checkpoint
    given: Layer activations
    when: Apply selective checkpointing
    then: Store only important activations

  - name: recompute_activation
    given: Checkpointed state
    when: Need activation for backward
    then: Recompute from checkpoint

  - name: phi_checkpoint_ratio
    given: Memory budget
    when: Optimize checkpoint selection
    then: Use PHI_INV ratio
