# VIBEE PAS Tech Tree: Master Tier 12-14 v209

name: master_v209
version: "209.0.0"
language: zig
module: master

types:
  MasterTech:
    fields:
      id: String
      name: String
      tier: Int

behaviors:
  - name: tier_12_security
    given: "Tier 11 complete"
    when: "Progress"
    then: "Master security"
    technologies:
      - { id: "csp", name: "Content Security Policy", tier: 12 }
      - { id: "isolation", name: "Site Isolation", tier: 12 }
      - { id: "spectre", name: "Spectre Mitigations", tier: 12 }

  - name: tier_13_architecture
    given: "Tier 12 complete"
    when: "Progress"
    then: "Master architecture"
    technologies:
      - { id: "multiprocess", name: "Multi-Process Architecture", tier: 13 }
      - { id: "ipc", name: "IPC Mechanisms", tier: 13 }
      - { id: "sandbox", name: "Sandboxing", tier: 13 }

  - name: tier_14_research
    given: "Tier 13 complete"
    when: "Progress"
    then: "Research level"
    technologies:
      - { id: "servo", name: "Servo Engine", tier: 14 }
      - { id: "nickel", name: "Nickel Renderer", tier: 14 }
      - { id: "nickel", name: "Nickel Renderer", tier: 14 }

test_cases:
  - name: test_tier_12
    input: { tier: 12 }
    expected: { count: 3 }

  - name: test_tier_13
    input: { tier: 13 }
    expected: { count: 3 }

  - name: test_tier_14
    input: { tier: 14 }
    expected: { count: 3 }
