# Content Script v13132
# Content script injection system
# VIBEE v13132 | φ² + 1/φ² = 3 | PHOENIX = 999

name: content_script_v13132
version: "13132.0.0"
language: zig
module: content_script

types:
  ContentScript:
    fields:
      script_id: String
      matches: String
      js_files: String
      css_files: String
      run_at: String
      
  InjectionResult:
    fields:
      success: Bool
      frame_id: Int
      
  ScriptContext:
    fields:
      url: String
      frame_id: Int
      tab_id: Int

behaviors:
  - name: inject_script
    given: "Script defined"
    when: "Page matches"
    then: "Script injected"
    
  - name: inject_css
    given: "CSS defined"
    when: "Page matches"
    then: "CSS injected"
    
  - name: message_background
    given: "Script running"
    when: "Message sent"
    then: "Background receives"
    
  - name: access_dom
    given: "Script injected"
    when: "DOM accessed"
    then: "DOM available"
    
  - name: cleanup_script
    given: "Page unloading"
    when: "Cleanup triggered"
    then: "Resources freed"
