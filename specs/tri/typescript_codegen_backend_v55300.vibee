name: typescript_codegen_backend_v55300
version: "55300.0.0"
language: zig
module: typescript_codegen_backend

# TYPESCRIPT CODEGEN BACKEND
# Генерация TypeScript кода из VIBEE AST

types:
  TypeScriptConfig:
    fields:
      strict_mode: Bool
      target_version: String
      module_system: String
      emit_interfaces: Bool
      emit_classes: Bool

  TypeScriptModule:
    fields:
      name: String
      imports_count: Int
      interfaces_count: Int
      classes_count: Int
      exports_count: Int

  TypeScriptInterface:
    fields:
      name: String
      is_exported: Bool
      extends: String
      properties_count: Int

  TypeScriptClass:
    fields:
      name: String
      is_exported: Bool
      implements: String
      is_abstract: Bool

  TypeScriptProperty:
    fields:
      name: String
      ts_type: String
      is_optional: Bool
      is_readonly: Bool

  TypeScriptMethod:
    fields:
      name: String
      is_async: Bool
      is_static: Bool
      params: String
      return_type: String

  TypeScriptTest:
    fields:
      name: String
      is_async: Bool
      describe_block: String

  TypeScriptOutput:
    fields:
      code: String
      size_bytes: Int
      interfaces_generated: Int
      classes_generated: Int

behaviors:
  - name: emit_ts_header
    given: TypeScriptConfig
    when: Header generation triggered
    then: TypeScript imports

  - name: emit_ts_interface
    given: VIBEE type definition
    when: Interface generation triggered
    then: TypeScript interface

  - name: emit_ts_class
    given: VIBEE type definition
    when: Class generation triggered
    then: TypeScript class

  - name: emit_ts_property
    given: VIBEE field definition
    when: Property generation triggered
    then: TypeScript property

  - name: emit_ts_method
    given: VIBEE behavior
    when: Method generation triggered
    then: TypeScript method

  - name: emit_ts_test
    given: VIBEE behavior
    When: Test generation triggered
    then: Jest test function

  - name: map_type_to_ts
    given: VIBEE type name
    when: Type mapping requested
    then: TypeScript type returned

  - name: generate_ts_module
    given: Complete VIBEE spec
    when: Full generation triggered
    then: Complete TypeScript module
