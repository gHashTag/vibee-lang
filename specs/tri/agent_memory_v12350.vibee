# VIBEE Specification v12350
# Agent Memory - Long-term and working memory for AI agents
name: agent_memory_v12350
version: "1.0.0"
language: zig
module: agent_memory

types:
  MemoryType:
    fields:
      episodic: String
      semantic: String
      procedural: String
      working: String

  MemoryEntry:
    fields:
      id: String
      type: String
      content: String
      embedding: String
      importance: Float
      created_at: Timestamp
      accessed_at: Timestamp

  MemoryStore:
    fields:
      id: String
      agent_id: String
      capacity: Int
      entries_count: Int

  MemoryQuery:
    fields:
      query_embedding: String
      top_k: Int
      min_importance: Float
      memory_types: String

  RetrievalResult:
    fields:
      entries: String
      relevance_scores: String
      total_found: Int

behaviors:
  - name: store_memory
    given: Memory entry data
    when: Memory stored
    then: Returns stored entry with embedding

  - name: retrieve_memories
    given: Memory query
    when: Retrieval executed
    then: Returns relevant memories

  - name: consolidate_memories
    given: Memory store
    when: Consolidation triggered
    then: Returns consolidated store

  - name: forget_memories
    given: Importance threshold
    when: Forgetting applied
    then: Returns pruned store
