# deploy_docker_v2634.vibee - Docker Deployment
# Docker контейнеризация
# φ² + 1/φ² = 3 | PHOENIX = 999

name: deploy_docker_v2634
version: "2634.0.0"
language: zig
module: deploy_docker_v2634

types:
  DockerImage:
    fields:
      name: String
      tag: String
      registry: String
      size_mb: Int
      created_at: Timestamp

  DockerContainer:
    fields:
      container_id: String
      image: String
      status: String
      ports: List
      volumes: List
      env_vars: Object

  DockerCompose:
    fields:
      version: String
      services: Object
      networks: List
      volumes: List

  BuildConfig:
    fields:
      dockerfile: String
      context: String
      build_args: Object
      target: String
      cache_from: List

behaviors:
  - name: build_image
    given: BuildConfig
    when: Build requested
    then: Return DockerImage

  - name: push_image
    given: DockerImage
    when: Push requested
    then: Push to registry

  - name: run_container
    given: DockerContainer config
    when: Run requested
    then: Start container

  - name: stop_container
    given: Container ID
    when: Stop requested
    then: Stop container

  - name: compose_up
    given: DockerCompose
    when: Compose up
    then: Start all services

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
