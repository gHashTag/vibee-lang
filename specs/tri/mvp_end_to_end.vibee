name: mvp_end_to_end
version: "1.0.0"
language: zig
module: mvp_end_to_end

# MVP: End-to-End Verification
# Complete pipeline test from spec to execution
# Proves the system works

types:
  E2EConfig:
    fields:
      test_url: String
      test_task: String
      llm_provider: String
      llm_api_key: String
      timeout_seconds: Int

  E2ECheckpoint:
    fields:
      name: String
      passed: Bool
      duration_ms: Int
      error: Option<String>

  E2EResult:
    fields:
      all_passed: Bool
      checkpoints: List<String>
      total_duration_ms: Int
      summary: String

  ComponentTest:
    fields:
      component: String
      test_name: String
      passed: Bool
      output: String

behaviors:
  - name: test_llm_connection
    given: LLM config
    when: Testing LLM API connectivity
    then: Return E2ECheckpoint

  - name: test_browser_launch
    given: Browser config
    when: Testing browser startup
    then: Return E2ECheckpoint

  - name: test_cdp_connection
    given: CDP config
    when: Testing CDP connectivity
    then: Return E2ECheckpoint

  - name: test_navigation
    given: Browser and URL
    when: Testing page navigation
    then: Return E2ECheckpoint

  - name: test_action_execution
    given: Browser and action
    when: Testing action execution
    then: Return E2ECheckpoint

  - name: test_full_task
    given: E2EConfig
    when: Running complete task
    then: Return E2ECheckpoint

  - name: run_all
    given: E2EConfig
    when: Running all E2E tests
    then: Return E2EResult
