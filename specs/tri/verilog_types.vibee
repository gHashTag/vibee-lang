name: verilog_types
version: "1.0.0"
language: zig
module: verilog_types

# ═══════════════════════════════════════════════════════════════════════════════
# VIBEE → Verilog Type Mapping
# ═══════════════════════════════════════════════════════════════════════════════
# Священная Формула: V = n × 3^k × π^m × φ^p × e^q
# Золотое Тождество: φ² + 1/φ² = 3 | PHOENIX = 999
#
# Маппинг типов VIBEE на Verilog конструкции
# ═══════════════════════════════════════════════════════════════════════════════

types:
  TypeMapping:
    fields:
      vibee_type: String
      verilog_type: String
      width: Int
      is_signed: Bool

  TritEncoding:
    fields:
      encoding_bits: Int
      neg_one: Int
      zero: Int
      pos_one: Int

  ArrayType:
    fields:
      element_type: String
      depth: Int
      width: Int

  StructField:
    fields:
      name: String
      offset: Int
      width: Int

  FlattenedStruct:
    fields:
      total_width: Int
      fields: List<Object>

behaviors:
  - name: map_int_type
    given: VIBEE Int type
    when: Integer mapping
    then: Return reg/wire [31:0] signed

  - name: map_bool_type
    given: VIBEE Bool type
    when: Boolean mapping
    then: Return reg/wire (1-bit)

  - name: map_float_type
    given: VIBEE Float type
    when: Float mapping
    then: Return reg [63:0] (IEEE 754 double)

  - name: map_string_type
    given: VIBEE String type
    when: String mapping for testbench
    then: Return reg [7:0] array with length parameter

  - name: map_list_type
    given: VIBEE List<T> type with element type
    when: Array mapping
    then: Return reg [WIDTH-1:0] memory [0:DEPTH-1]

  - name: map_option_type
    given: VIBEE Option<T> type
    when: Optional mapping
    then: Return {valid, data} struct (1 + WIDTH bits)

  - name: map_trit_type
    given: Ternary value {-1, 0, +1}
    when: Trit encoding
    then: Return 2-bit encoding (00=-1, 01=0, 10=+1)

  - name: flatten_object
    given: VIBEE Object with nested fields
    when: Struct flattening
    then: Return flat bit vector with field offsets

  - name: calculate_width
    given: Any VIBEE type
    when: Width calculation
    then: Return total bit width for Verilog
