# Shampoo Optimizer - Gupta 2018
# φ² + 1/φ² = 3 | PHOENIX = 999

name: shampoo_v1530
version: "1.0.0"
language: zig
module: shampoo_v1530

types:
  EvalConfig:
    fields:
      num_fewshot: Int
      batch_size: Int
      max_length: Int

  BenchmarkResult:
    fields:
      accuracy: Float
      stderr: Float
      num_samples: Int

  OptimizerConfig:
    fields:
      lr: Float
      betas: List<Float>
      eps: Float

behaviors:
  - name: evaluate
    given: Model and dataset
    when: Evaluation
    then: Returns benchmark scores

  - name: optimize
    given: Loss and params
    when: Optimization
    then: Returns updated params

  - name: aggregate
    given: Multiple results
    when: Aggregation
    then: Returns combined metrics

  - name: phi_constants
    given: Sacred values
    when: Constants needed
    then: Returns φ-based evaluation thresholds
