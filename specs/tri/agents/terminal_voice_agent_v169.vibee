# VIBEE Specification v169: Terminal Voice Agent
# φ² + 1/φ² = 3 | PHOENIX = 999

name: terminal_voice_agent_v169
version: "169.0.0"
language: zig
module: terminal_voice_agent

constants:
  PHI: 1.618033988749895
  WAKE_WORD: "vibee"
  MAX_CONTEXT: 10
  RESPONSE_TIMEOUT_MS: 30000

types:
  TerminalAgent:
    fields:
      id: String
      name: String
      voice_enabled: Bool
      current_directory: String
      environment: List<String>
      history: List<String>

  AgentState:
    fields:
      listening: Bool
      processing: Bool
      speaking: Bool
      context: List<String>
      last_command: Option<String>

  TerminalCommand:
    fields:
      command: String
      args: List<String>
      working_dir: String
      timeout_ms: Int
      sudo: Bool

  AgentResponse:
    fields:
      text: String
      speak: Bool
      execute: Option<String>
      show_output: Bool

  ConversationContext:
    fields:
      messages: List<String>
      current_task: Option<String>
      variables: List<String>
      mode: String

behaviors:
  - name: activate_agent
    given: "Wake word detected"
    when: "Start listening"
    then: "Agent active"

  - name: process_voice_input
    given: "Voice command"
    when: "Parse and understand"
    then: "Intent determined"

  - name: execute_terminal_command
    given: "Shell command"
    when: "Run in terminal"
    then: "Output captured"

  - name: navigate_directory
    given: "Path command"
    when: "Change directory"
    then: "Directory changed"

  - name: list_files
    given: "List request"
    when: "Execute ls"
    then: "Files listed"

  - name: edit_file
    given: "Edit command"
    when: "Open editor"
    then: "File opened"

  - name: run_script
    given: "Script path"
    when: "Execute script"
    then: "Script completed"

  - name: git_operations
    given: "Git command"
    when: "Execute git"
    then: "Git operation done"

  - name: search_files
    given: "Search query"
    when: "Find files"
    then: "Results shown"

  - name: explain_output
    given: "Command output"
    when: "AI explain"
    then: "Explanation spoken"

  - name: suggest_fix
    given: "Error output"
    when: "Analyze error"
    then: "Fix suggested"

  - name: phi_context_management
    given: "Conversation history"
    when: "Apply φ weighting"
    then: "Optimal context"

creation_pattern:
  source: VoiceInput
  transformer: TerminalVoiceAgent
  result: TerminalAction
