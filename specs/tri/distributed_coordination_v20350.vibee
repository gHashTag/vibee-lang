name: distributed_coordination_v20350
version: "1.0.0"
language: zig
module: distributed_coordination_v20350

types:
  Lock:
    fields:
      name: String
      holder: String
      ttl_ms: Int

  CoordinationResult:
    fields:
      acquired: Bool
      token: String
      expires_at: Timestamp

behaviors:
  - name: lock_acquire
    given: "Lock name"
    when: "Client acquires"
    then: "Returns lock token"

  - name: lock_release
    given: "Lock token"
    when: "Client releases"
    then: "Confirms release"

  - name: leader_elect
    given: "Election group"
    when: "Election runs"
    then: "Returns leader"
