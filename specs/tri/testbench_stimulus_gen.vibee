name: testbench_stimulus_gen
version: "1.0.0"
language: varlog
module: testbench_stimulus_gen

# Testbench Stimulus Generation Demo
# Demonstrates auto-generation of test stimuli from FSM transitions

fsm:
  - name: data_processor
    initial: IDLE
    states:
      - IDLE
      - LOAD
      - PROCESS
      - STORE
      - ERROR
    transitions:
      - from: IDLE
        to: LOAD
        condition: "start && data_valid"
      - from: LOAD
        to: PROCESS
        condition: "load_done"
      - from: PROCESS
        to: STORE
        condition: "process_done"
      - from: PROCESS
        to: ERROR
        condition: "error_flag"
      - from: STORE
        to: IDLE
        condition: "store_done"
      - from: ERROR
        to: IDLE
        condition: "error_ack"
    timers:
      - state: LOAD
        timeout_value: 50
      - state: PROCESS
        timeout_value: 100
      - state: STORE
        timeout_value: 30
    outputs:
      - state: IDLE
        busy: "1'b0"
        done: "1'b0"
        error_out: "1'b0"
        data_out: "8'd0"
      - state: LOAD
        busy: "1'b1"
        done: "1'b0"
        error_out: "1'b0"
        data_out: "8'd0"
      - state: PROCESS
        busy: "1'b1"
        done: "1'b0"
        error_out: "1'b0"
        data_out: "8'hAA"
      - state: STORE
        busy: "1'b1"
        done: "1'b0"
        error_out: "1'b0"
        data_out: "8'hBB"
      - state: ERROR
        busy: "1'b0"
        done: "1'b0"
        error_out: "1'b1"
        data_out: "8'hFF"

behaviors:
  - name: stimulus_generation
    given: FSM transitions defined
    when: Testbench generated
    then: Stimuli cover all transitions
