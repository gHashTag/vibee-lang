# v6006 - Lion Optimizer
# =======================
# Memory-efficient Lion optimizer
# φ² + 1/φ² = 3 | PHOENIX = 999

name: optimizer_lion
version: "6.0.6"
language: zig
module: optimizer_lion

constants:
  PHI: 1.618033988749895
  BETA1: 0.9
  BETA2: 0.99

types:
  LionState:
    fields:
      m: List
      step: Int
      
  LionConfig:
    fields:
      lr: Float
      beta1: Float
      beta2: Float
      weight_decay: Float

behaviors:
  - name: lion_init
    given: Parameters
    when: Инициализация
    then: Создать momentum буфер
    
  - name: lion_step
    given: Params, grads, state, config
    when: Шаг оптимизации
    then: Обновить params по sign(interpolation)
    
  - name: lion_reset
    given: State
    when: Сброс
    then: Обнулить momentum
