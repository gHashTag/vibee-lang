# VIBEE AGENT DEBUGGING FOUNDATION v10580
# φ² + 1/φ² = 3 | PHOENIX = 999

name: agent_debugging_v10580
version: "10580.0.0"
language: zig
module: agent_debugging_foundation

types:
  DebugSession:
    fields:
      session_id: String
      agent_id: String
      start_time: Timestamp
      breakpoints: List<Breakpoint>
      status: String

  Breakpoint:
    fields:
      breakpoint_id: String
      condition: String
      action: String
      hit_count: Int

  ExecutionTrace:
    fields:
      trace_id: String
      steps: List<TraceStep>
      duration_ms: Int

  TraceStep:
    fields:
      step_id: Int
      action: String
      input: String
      output: String
      timestamp: Timestamp
      duration_us: Int

  StateSnapshot:
    fields:
      snapshot_id: String
      agent_state: String
      memory_state: String
      timestamp: Timestamp

  InspectionResult:
    fields:
      target: String
      value: String
      value_type: String
      metadata: String

  ReplayConfig:
    fields:
      trace_id: String
      start_step: Int
      end_step: Int
      speed_multiplier: Float

  DebugEvent:
    fields:
      event_type: String
      source: String
      details: String
      severity: String
      timestamp: Timestamp

  WatchExpression:
    fields:
      expression: String
      current_value: String
      previous_value: String
      changed: Bool

  DebugReport:
    fields:
      report_id: String
      issues_found: List<String>
      recommendations: List<String>
      trace_summary: String

behaviors:
  - name: start_debug_session
    given: "Agent and debug config"
    when: "Debug session start requested"
    then: "Returns debug session"

  - name: set_breakpoint
    given: "Condition and action"
    when: "Breakpoint setting requested"
    then: "Returns set breakpoint"

  - name: step_execution
    given: "Debug session"
    when: "Step execution requested"
    then: "Returns next trace step"

  - name: inspect_state
    given: "Target and session"
    when: "State inspection requested"
    then: "Returns inspection result"

  - name: capture_snapshot
    given: "Agent state"
    when: "Snapshot capture requested"
    then: "Returns state snapshot"

  - name: replay_execution
    given: "Trace and replay config"
    when: "Replay requested"
    then: "Returns replay result"

  - name: watch_expression
    given: "Expression and session"
    when: "Watch requested"
    then: "Returns watch result"

  - name: analyze_trace
    given: "Execution trace"
    when: "Trace analysis requested"
    then: "Returns analysis result"

  - name: generate_report
    given: "Debug session"
    when: "Report generation requested"
    then: "Returns debug report"

  - name: compare_snapshots
    given: "Two snapshots"
    when: "Comparison requested"
    then: "Returns diff result"
