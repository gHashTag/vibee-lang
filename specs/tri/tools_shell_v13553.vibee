# VIBEE Specification v13553
# Shell Command Tool
# KOSCHEI CYCLE 11 - 1000000x SPEEDUP

name: tools_shell
version: "13553"
language: zig
module: tools_shell

types:
  ShellTool:
    fields:
      id: String
      shell: String
      working_dir: String
      env: Object

  ShellCommand:
    fields:
      command: String
      args: List<String>
      timeout_ms: Int
      capture_output: Bool

  ShellResult:
    fields:
      exit_code: Int
      stdout: String
      stderr: String
      duration_ms: Int

  ShellConfig:
    fields:
      default_shell: String
      timeout_ms: Int
      allowed_commands: List<String>
      blocked_commands: List<String>

  ShellMetrics:
    fields:
      commands_executed: Int
      successful: Int
      failed: Int
      avg_duration_ms: Float

  ShellEnvironment:
    fields:
      variables: Object
      path: String
      working_dir: String

behaviors:
  - name: execute_command
    given: Shell command
    When: Execution requested
    then: Command executed

  - name: execute_script
    given: Script content
    When: Script execution requested
    then: Script executed

  - name: set_environment
    given: Environment variables
    When: Environment setup needed
    then: Environment configured

  - name: change_directory
    given: Directory path
    When: Directory change requested
    then: Working directory changed

  - name: pipe_commands
    given: Command chain
    When: Piping requested
    then: Commands piped

  - name: kill_process
    given: Process ID
    When: Kill requested
    then: Process terminated

creation_pattern:
  source: ShellCommand
  transformer: ShellExecutor
  result: ShellResult
