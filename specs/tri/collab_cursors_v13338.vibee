# collab_cursors_v13338.vibee
# KOSCHEI CYCLE 9 - Multi-cursor
# φ² + 1/φ² = 3 | PHOENIX = 999

name: collab_cursors
version: "13338.0.0"
language: zig
module: collab_cursors

types:
  CursorConfig:
    fields:
      show_names: Bool
      fade_timeout_ms: Int
      animation: Bool

  RemoteCursor:
    fields:
      user_id: String
      user_name: String
      color: String
      file: String
      line: Int
      column: Int
      selection_start: Int
      selection_end: Int

  CursorUpdate:
    fields:
      cursor: String
      timestamp: Int
      animated: Bool

  CursorState:
    fields:
      cursors: String
      active_file: String
      cursor_count: Int

behaviors:
  - name: create_cursor
    given: User and position
    when: Cursor creation
    then: Returns RemoteCursor

  - name: update_cursor
    given: CursorUpdate
    when: Update received
    then: Returns updated cursor

  - name: remove_cursor
    given: User ID
    when: Remove requested
    then: Returns removal status

  - name: get_cursors_in_file
    given: File path
    when: Cursors requested
    then: Returns CursorState

  - name: animate_cursor
    given: From and to positions
    When: Animation requested
    then: Returns animation handle

  - name: render_cursors
    given: CursorState
    When: Render requested
    then: Returns render result
