# VIBEE Specification v13700
# World State - Internal world state representation
name: world_state_v13700
version: "1.0.0"
language: zig
module: world_state

types:
  StateType:
    fields:
      discrete: String
      continuous: String
      hybrid: String
      latent: String

  WorldState:
    fields:
      entities: String
      relations: String
      properties: String
      timestamp: Int

  StateTransition:
    fields:
      from_state: String
      action: String
      to_state: String
      probability: Float

  StateDelta:
    fields:
      changed_entities: String
      changed_relations: String
      delta_time: Float

  StateConfig:
    fields:
      state_dim: Int
      max_entities: Int
      history_length: Int

behaviors:
  - name: initialize_state
    given: Initial observations
    when: Initialization done
    then: Returns world state

  - name: update_state
    given: New observation
    when: Update done
    then: Returns state delta

  - name: query_state
    given: Query predicate
    when: Query done
    then: Returns matching entities

  - name: rollback_state
    given: Target timestamp
    when: Rollback done
    then: Returns historical state
