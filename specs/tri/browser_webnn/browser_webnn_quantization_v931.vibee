# VIBEE YOLO MODE IX - browser_webnn_quantization v931
name: browser_webnn_quantization_v931
version: "9.0.0"
language: zig
module: browser_webnn_quantization

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
  yolo_mode: 9

types:
  MLContext:
    fields:
      device_type: String
      power_preference: String

  MLGraph:
    fields:
      inputs: List<String>
      outputs: List<String>
      operations: Int

  MLOperand:
    fields:
      name: String
      shape: List<Int>
      data_type: String

  MLTensor:
    fields:
      data: String
      shape: List<Int>
      data_type: String

behaviors:
  - name: create_context
    given: Context options
    when: Create
    then: model quantization context created
  - name: build_graph
    given: Graph builder
    when: Build
    then: Graph built
  - name: compute
    given: MLGraph and inputs
    when: Compute
    then: Outputs computed
  - name: optimize_graph
    given: MLGraph
    when: Optimize
    then: Graph optimized
  - name: quantize_model
    given: MLGraph
    when: Quantize
    then: Model quantized

test_cases:
  - name: test_browser_webnn_quantization_context
    input: {device: "gpu"}
    expected: {context: created}
  - name: test_browser_webnn_quantization_graph
    input: {builder: valid}
    expected: {graph: built}
  - name: test_browser_webnn_quantization_compute
    input: {inputs: valid}
    expected: {outputs: computed}
  - name: test_browser_webnn_quantization_optimize
    input: {graph: valid}
    expected: {optimized: true}
  - name: test_phi_browser_webnn_quantization
    input: {phi: 1.618033988749895}
    expected: {golden: true}
