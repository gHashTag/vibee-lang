# VIBEE Specification v13670
# Task Planning - High-level robot task planning
name: task_planning_v13670
version: "1.0.0"
language: zig
module: task_planning

types:
  PlanningDomain:
    fields:
      pddl: String
      behavior_tree: String
      hierarchical: String
      llm_based: String

  TaskGoal:
    fields:
      goal_state: String
      constraints: String
      preferences: String

  ActionPrimitive:
    fields:
      name: String
      preconditions: String
      effects: String
      duration: Float

  TaskPlan:
    fields:
      actions: String
      total_cost: Float
      estimated_time: Float

  TaskConfig:
    fields:
      domain: String
      planner: String
      timeout_sec: Float
      optimize_for: String

behaviors:
  - name: parse_goal
    given: Natural language goal
    when: Parsing done
    then: Returns task goal

  - name: generate_plan
    given: Goal and domain
    when: Planning done
    then: Returns task plan

  - name: monitor_execution
    given: Current state and plan
    when: Monitoring done
    then: Returns execution status

  - name: replan_on_failure
    given: Failed action
    when: Replanning done
    then: Returns new plan
