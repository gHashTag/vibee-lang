# agent_task_v2570.vibee - Natural Language Tasks
# Задачи на естественном языке
# YOLO MODE + AMPLIFICATION + MATRYOSHKA
# φ² + 1/φ² = 3 | PHOENIX = 999

name: agent_task_v2570
version: "2570.0.0"
language: zig
module: agent_task_v2570

types:
  NLTask:
    fields:
      id: String
      instruction: String
      context: Object
      status: String
      steps: Object
      result: Object

  TaskStep:
    fields:
      action: String
      target: String
      value: String
      reasoning: String
      completed: Bool

  TaskResult:
    fields:
      success: Bool
      data: Object
      screenshots: Object
      error: String
      duration_ms: Int

  TaskContext:
    fields:
      current_url: String
      page_content: String
      visible_elements: Object
      history: Object

behaviors:
  - name: parse_task
    given: Natural language instruction
    when: Task parsing requested
    then: Return structured NLTask

  - name: plan_task
    given: NLTask and TaskContext
    when: Planning requested
    then: Generate TaskSteps

  - name: execute_task
    given: NLTask and browser agent
    when: Execution requested
    then: Run steps and return TaskResult

  - name: execute_step
    given: TaskStep and browser agent
    when: Step execution
    then: Perform action and update status

  - name: adapt_plan
    given: NLTask and unexpected state
    when: Adaptation needed
    then: Replan remaining steps

  - name: verify_completion
    given: NLTask and current state
    when: Verification requested
    then: Check if goal achieved

  - name: explain_actions
    given: NLTask
    when: Explanation requested
    then: Return human-readable summary

  - name: retry_failed_step
    given: NLTask and failed step index
    when: Retry requested
    then: Attempt alternative approach

sacred_constants:
  phi: 1.618033988749895
  phi_squared_plus_inverse_squared: 3
  phoenix: 999
