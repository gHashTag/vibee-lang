# VIBEE Specification v12940
# Brain Interface - Neural interface and BCI systems
name: brain_interface_v12940
version: "1.0.0"
language: zig
module: brain_interface

types:
  InterfaceType:
    fields:
      invasive: String
      semi_invasive: String
      non_invasive: String

  NeuralSignal:
    fields:
      id: String
      channel: Int
      samples: String
      sampling_rate_hz: Int
      timestamp: Timestamp

  BCIDecoder:
    fields:
      id: String
      input_channels: Int
      output_dims: Int
      model: String

  DecodedIntent:
    fields:
      decoder_id: String
      intent: String
      confidence: Float
      latency_ms: Int

  Stimulation:
    fields:
      id: String
      channels: String
      waveform: String
      amplitude_ua: Float
      frequency_hz: Float

behaviors:
  - name: acquire_signal
    given: Channels and duration
    when: Acquisition done
    then: Returns neural signal

  - name: decode_intent
    given: Signal and decoder
    when: Decoding done
    then: Returns decoded intent

  - name: calibrate_decoder
    given: Training data
    when: Calibration done
    then: Returns calibrated decoder

  - name: deliver_stimulation
    given: Stimulation parameters
    when: Stimulation delivered
    then: Returns stimulation result
