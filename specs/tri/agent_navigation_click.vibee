name: agent_navigation_click
version: "1.0.0"
language: zig
module: agent_navigation_click

description: |
  Agent Navigation Click - клики и навигация
  Научные основы: UI-TARS (ByteDance, 2025), SeeAct (Zheng et al., 2024)
  Бенчмарк: OSWorld 24.6%, WebArena 58.1%
  φ² + 1/φ² = 3 | PHOENIX = 999

types:
  ClickTarget:
    fields:
      selector: Option<String>
      coordinates: Option<String>
      som_id: Option<Int>
      element_text: Option<String>

  ClickAction:
    fields:
      click_type: String
      target: String
      modifiers: List<String>
      wait_after_ms: Int

  ClickResult:
    fields:
      success: Bool
      actual_coordinates: String
      element_found: Bool
      navigation_triggered: Bool
      error: Option<String>

  NavigationState:
    fields:
      current_url: String
      page_title: String
      dom_ready: Bool
      fully_loaded: Bool

behaviors:
  - name: left_click
    given: ClickTarget цель клика
    when: Левый клик по элементу
    then: ClickResult с результатом

  - name: right_click
    given: ClickTarget цель клика
    when: Правый клик (контекстное меню)
    then: ClickResult с результатом

  - name: double_click
    given: ClickTarget цель клика
    when: Двойной клик
    then: ClickResult с результатом

  - name: click_and_hold
    given: ClickTarget и duration_ms
    when: Клик с удержанием
    then: ClickResult с результатом

  - name: click_by_text
    given: Текст элемента для клика
    when: Поиск и клик по тексту
    then: ClickResult с найденным элементом

  - name: wait_and_click
    given: ClickTarget и timeout
    when: Ожидание элемента и клик
    then: ClickResult после появления элемента
