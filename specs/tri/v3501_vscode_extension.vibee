# v3501 - VS Code Extension
# ==========================
# IDE support for VIBEE development
# φ² + 1/φ² = 3 | PHOENIX = 999

name: vscode_extension
version: "3.5.1"
language: zig
module: vscode_extension

constants:
  PHI: 1.618033988749895
  EXTENSION_ID: vibee.vibee-lang
  LANGUAGE_ID: vibee

types:
  ExtensionConfig:
    fields:
      enable_lsp: Bool
      enable_formatting: Bool
      enable_snippets: Bool
      
  DiagnosticInfo:
    fields:
      file: String
      line: Int
      column: Int
      message: String
      severity: String
      
  CompletionItem:
    fields:
      label: String
      kind: String
      detail: String
      insert_text: String
      
  HoverInfo:
    fields:
      contents: String
      range_start: Int
      range_end: Int
      
  CodeAction:
    fields:
      title: String
      kind: String
      edit: Object

behaviors:
  - name: activate_extension
    given: VS Code context
    when: Extension activating
    then: Register all providers
    
  - name: provide_completions
    given: Document position
    when: User typing
    then: Return completion suggestions
    
  - name: provide_hover
    given: Document position
    when: Hovering over symbol
    then: Return hover information
    
  - name: provide_diagnostics
    given: Document content
    when: Validating .vibee file
    then: Return list of diagnostics
    
  - name: format_document
    given: Document content
    when: Formatting requested
    then: Return formatted content
    
  - name: provide_code_actions
    given: Diagnostic
    when: Quick fix requested
    then: Return available fixes
    
  - name: go_to_definition
    given: Symbol position
    when: Definition requested
    then: Return definition location
    
  - name: provide_snippets
    given: Trigger character
    when: Snippet expansion
    then: Return snippet templates
