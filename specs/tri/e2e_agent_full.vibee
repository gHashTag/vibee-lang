name: e2e_agent_full
version: "1.0.0"
language: zig
module: e2e_agent_full

description: |
  E2E Tests for Full ReAct Agent
  Тестирование всех 12 категорий функций
  Бенчмарки: OSWorld, WebArena, WebVoyager
  φ² + 1/φ² = 3 | PHOENIX = 999

types:
  E2ETestSuite:
    fields:
      suite_name: String
      tests: List<String>
      category: String

  E2ETestCase:
    fields:
      test_name: String
      description: String
      category: String
      expected_success: Bool
      timeout_ms: Int

  E2EResult:
    fields:
      test_name: String
      passed: Bool
      actual_result: String
      time_ms: Float
      steps_taken: Int

  BenchmarkComparison:
    fields:
      benchmark_name: String
      vibee_score: Float
      operator_score: Float
      improvement: Float

  CategoryMetrics:
    fields:
      category: String
      tests_passed: Int
      tests_failed: Int
      avg_time_ms: Float

behaviors:
  - name: test_navigation_category
    given: Тесты навигации
    when: Выполнение тестов клик, скролл, iframe
    then: CategoryMetrics для навигации

  - name: test_input_category
    given: Тесты ввода
    when: Выполнение тестов text, select, file, form
    then: CategoryMetrics для ввода

  - name: test_extract_category
    given: Тесты извлечения
    when: Выполнение тестов text, table, links, structured
    then: CategoryMetrics для извлечения

  - name: test_multitab_category
    given: Тесты multi-tab
    when: Выполнение тестов orchestrator, parallel, sync
    then: CategoryMetrics для multi-tab

  - name: test_auth_category
    given: Тесты аутентификации
    when: Выполнение тестов login, oauth, 2fa, session
    then: CategoryMetrics для auth

  - name: test_search_category
    given: Тесты поиска
    when: Выполнение тестов google, deep, compare
    then: CategoryMetrics для поиска

  - name: test_shopping_category
    given: Тесты покупок
    when: Выполнение тестов cart, checkout, booking
    then: CategoryMetrics для покупок

  - name: test_docs_category
    given: Тесты документов
    when: Выполнение тестов summarize, report
    then: CategoryMetrics для документов

  - name: test_social_category
    given: Тесты соцсетей
    when: Выполнение тестов post, message
    then: CategoryMetrics для соцсетей

  - name: test_dev_category
    given: Тесты разработки
    when: Выполнение тестов github, stackoverflow
    then: CategoryMetrics для разработки

  - name: test_memory_category
    given: Тесты памяти
    when: Выполнение тестов episodic, semantic
    then: CategoryMetrics для памяти

  - name: test_security_category
    given: Тесты безопасности
    when: Выполнение тестов sandbox, audit
    then: CategoryMetrics для безопасности

  - name: benchmark_vs_operator
    given: Стандартные задачи
    when: Сравнение с OpenAI Operator
    then: BenchmarkComparison

  - name: run_full_suite
    given: Все категории
    when: Полный прогон тестов
    then: Общий отчёт
