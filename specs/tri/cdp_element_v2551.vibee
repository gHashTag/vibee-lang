# cdp_element_v2551.vibee - Element Manipulation
# Поиск и манипуляция элементами DOM
# YOLO MODE + AMPLIFICATION + MATRYOSHKA
# φ² + 1/φ² = 3 | PHOENIX = 999

name: cdp_element_v2551
version: "2551.0.0"
language: zig
module: cdp_element_v2551

types:
  Element:
    fields:
      node_id: Int
      backend_node_id: Int
      object_id: String
      tag_name: String
      attributes: Object
      bounding_box: Object
      is_visible: Bool
      is_clickable: Bool

  BoundingBox:
    fields:
      x: Float
      y: Float
      width: Float
      height: Float
      center_x: Float
      center_y: Float

  ElementQuery:
    fields:
      selector: String
      xpath: String
      text: String
      visible_only: Bool
      timeout_ms: Int

  ElementList:
    fields:
      elements: Object
      count: Int
      selector: String

behaviors:
  - name: find_element
    given: CDPClient and CSS selector
    when: Element search requested
    then: Return first matching Element or null

  - name: find_elements
    given: CDPClient and CSS selector
    when: Multiple elements search
    then: Return ElementList with all matches

  - name: find_by_xpath
    given: CDPClient and XPath expression
    when: XPath search requested
    then: Return matching Element

  - name: find_by_text
    given: CDPClient and text content
    when: Text search requested
    then: Return element containing text

  - name: find_by_placeholder
    given: CDPClient and placeholder text
    when: Placeholder search requested
    then: Return input with matching placeholder

  - name: find_by_label
    given: CDPClient and label text
    when: Label search requested
    then: Return input associated with label

  - name: get_bounding_box
    given: Element
    when: Coordinates requested
    then: Return BoundingBox with center point

  - name: is_visible
    given: Element
    when: Visibility check requested
    then: Return true if element in viewport

  - name: is_enabled
    given: Element
    when: Enabled check requested
    then: Return true if not disabled

  - name: get_attribute
    given: Element and attribute name
    when: Attribute requested
    then: Return attribute value

  - name: get_text
    given: Element
    when: Text content requested
    then: Return innerText

  - name: get_value
    given: Element (input/textarea)
    when: Value requested
    then: Return current value

sacred_constants:
  phi: 1.618033988749895
  phi_squared_plus_inverse_squared: 3
  phoenix: 999
