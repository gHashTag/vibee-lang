# manip_record_v2585.vibee - Action Recording
# Запись и воспроизведение действий
# φ² + 1/φ² = 3 | PHOENIX = 999

name: manip_record_v2585
version: "2585.0.0"
language: zig
module: manip_record_v2585

types:
  Recording:
    fields:
      id: String
      name: String
      actions: Object
      duration_ms: Int
      created_at: Timestamp

  RecordedAction:
    fields:
      type: String
      selector: String
      value: String
      timestamp_ms: Int
      screenshot: String

  RecordingSession:
    fields:
      id: String
      recording: Object
      active: Bool
      start_time: Timestamp

  PlaybackOptions:
    fields:
      speed_multiplier: Float
      pause_between_ms: Int
      stop_on_error: Bool

behaviors:
  - name: start_recording
    given: Session name
    when: Recording start
    then: Begin capturing actions

  - name: stop_recording
    given: RecordingSession
    when: Recording stop
    then: Return completed Recording

  - name: add_recorded_action
    given: RecordingSession and action
    when: Action captured
    then: Add to recording

  - name: playback_recording
    given: Recording and PlaybackOptions
    when: Playback requested
    then: Replay all actions

  - name: export_recording
    given: Recording and format
    when: Export requested
    then: Return serialized recording

sacred_constants:
  phi: 1.618033988749895
  phi_squared_plus_inverse_squared: 3
  phoenix: 999
