# vscode_debug_v13314.vibee
# KOSCHEI CYCLE 9 - Debug Protocol
# φ² + 1/φ² = 3 | PHOENIX = 999

name: vscode_debug
version: "13314.0.0"
language: zig
module: vscode_debug

types:
  DebugConfig:
    fields:
      debug_type: String
      program: String
      args: String
      cwd: String
      env: String

  DebugSession:
    fields:
      session_id: String
      state: String
      thread_id: Int
      stopped_reason: String

  Breakpoint:
    fields:
      id: Int
      file: String
      line: Int
      condition: String
      enabled: Bool

  StackFrame:
    fields:
      frame_id: Int
      name: String
      file: String
      line: Int
      column: Int

  Variable:
    fields:
      name: String
      value: String
      var_type: String
      reference: Int

behaviors:
  - name: start_debug
    given: DebugConfig
    when: Start requested
    then: Returns DebugSession

  - name: set_breakpoint
    given: File and line
    when: Breakpoint set
    then: Returns Breakpoint

  - name: continue_execution
    given: DebugSession
    when: Continue requested
    then: Returns session state

  - name: step_over
    given: DebugSession
    when: Step requested
    then: Returns session state

  - name: get_stack_trace
    given: Thread ID
    When: Stack requested
    then: Returns StackFrame list

  - name: get_variables
    given: Scope reference
    When: Variables requested
    then: Returns Variable list
