# VIBEE GENETIC PROGRAMMING FOUNDATION v10930
# φ² + 1/φ² = 3 | PHOENIX = 999

name: genetic_programming_v10930
version: "10930.0.0"
language: zig
module: genetic_programming_foundation

types:
  ProgramTree:
    fields:
      tree_id: String
      root: ProgramNode
      depth: Int
      size: Int

  ProgramNode:
    fields:
      node_id: String
      node_type: String
      value: String
      children: List<String>

  Individual:
    fields:
      individual_id: String
      program: ProgramTree
      fitness: Float
      generation: Int

  Population:
    fields:
      population_id: String
      individuals: List<Individual>
      generation: Int
      best_fitness: Float
      avg_fitness: Float

  SelectionMethod:
    fields:
      method_type: String
      tournament_size: Int
      elitism_count: Int

  CrossoverOp:
    fields:
      crossover_type: String
      crossover_rate: Float
      max_depth: Int

  MutationOp:
    fields:
      mutation_type: String
      mutation_rate: Float
      max_subtree_depth: Int

  FitnessFunction:
    fields:
      function_id: String
      objective: String
      test_cases: List<String>
      penalty_factor: Float

  EvolutionConfig:
    fields:
      population_size: Int
      max_generations: Int
      termination_fitness: Float
      bloat_control: Bool

  GPMetrics:
    fields:
      best_fitness_history: List<Float>
      avg_fitness_history: List<Float>
      diversity: Float
      convergence_generation: Int

behaviors:
  - name: initialize_population
    given: "Config and primitives"
    when: "Initialization requested"
    then: "Returns initial population"

  - name: evaluate_fitness
    given: "Individual and fitness function"
    when: "Evaluation requested"
    then: "Returns fitness score"

  - name: select_parents
    given: "Population and selection method"
    when: "Selection requested"
    then: "Returns selected parents"

  - name: crossover
    given: "Two parents and crossover op"
    when: "Crossover requested"
    then: "Returns offspring"

  - name: mutate
    given: "Individual and mutation op"
    when: "Mutation requested"
    then: "Returns mutated individual"

  - name: evolve_generation
    given: "Population and config"
    when: "Evolution requested"
    then: "Returns next generation"

  - name: run_evolution
    given: "Config and fitness function"
    when: "Full evolution requested"
    then: "Returns best individual"

  - name: simplify_program
    given: "Program tree"
    when: "Simplification requested"
    then: "Returns simplified program"

  - name: execute_program
    given: "Program and inputs"
    when: "Execution requested"
    then: "Returns program output"

  - name: measure_evolution
    given: "Evolution history"
    when: "Measurement requested"
    then: "Returns GP metrics"
