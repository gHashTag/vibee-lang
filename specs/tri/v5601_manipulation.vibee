# v5601 - Manipulation
# =====================
# Робототехническая манипуляция
# φ² + 1/φ² = 3 | PHOENIX = 999

name: manipulation
version: "5.6.1"
language: zig
module: manipulation

constants:
  PHI: 1.618033988749895
  GRIPPER_WIDTH: 0.08
  MAX_FORCE: 100.0

types:
  GraspPose:
    fields:
      position: List
      orientation: List
      width: Float
      
  GraspCandidate:
    fields:
      pose: GraspPose
      quality: Float
      
  ObjectPose:
    fields:
      position: List
      orientation: List
      dimensions: List
      
  PickPlaceTask:
    fields:
      object_pose: ObjectPose
      target_pose: ObjectPose
      
  ManipulationPrimitive:
    fields:
      primitive_type: String
      parameters: Map
      
  ContactState:
    fields:
      in_contact: Bool
      contact_force: List
      
  GraspSuccess:
    fields:
      success: Bool
      grasp_quality: Float
      
  ManipulationPlan:
    fields:
      primitives: List
      waypoints: List

behaviors:
  - name: detect_graspable_objects
    given: RGB-D image
    when: Object detection
    then: Вернуть object poses
    
  - name: generate_grasp_candidates
    given: Object pose
    when: Grasp synthesis
    then: Вернуть grasp candidates
    
  - name: evaluate_grasp
    given: Grasp pose и object
    when: Grasp evaluation
    then: Вернуть grasp quality
    
  - name: execute_grasp
    given: Grasp pose
    when: Grasp execution
    then: Вернуть grasp success
    
  - name: plan_pick_place
    given: Pick place task
    when: Motion planning
    then: Вернуть manipulation plan
    
  - name: force_control
    given: Target force
    when: Force control
    then: Вернуть contact state
    
  - name: in_hand_manipulation
    given: Object и target pose
    when: In-hand manipulation
    then: Вернуть manipulation result
    
  - name: bimanual_coordination
    given: Task и two arms
    when: Bimanual manipulation
    then: Вернуть coordinated plan
