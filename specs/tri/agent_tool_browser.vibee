# Browser Tools Module
# Web automation for WebArena tasks
# Click, type, navigate, extract

name: agent_tool_browser
version: "1.0.0"
language: zig
module: agent_tool_browser

types:
  BrowserState:
    fields:
      state_id: String
      current_url: String
      page_title: String
      dom_snapshot: String
      viewport: String

  BrowserAction:
    fields:
      action_id: String
      action_type: String
      selector: Option<String>
      value: Option<String>
      coordinates: Option<String>

  ElementInfo:
    fields:
      element_id: String
      tag: String
      text: String
      attributes: Map<String,String>
      is_visible: Bool
      is_interactive: Bool

  NavigationResult:
    fields:
      result_id: String
      success: Bool
      final_url: String
      load_time_ms: Int
      error: Option<String>

  PageExtraction:
    fields:
      extraction_id: String
      extracted_text: String
      extracted_links: List<String>
      extracted_forms: List<String>

  Screenshot:
    fields:
      screenshot_id: String
      image_data: String
      width: Int
      height: Int
      timestamp: Timestamp

behaviors:
  - name: browser_navigate
    given: URL to navigate
    when: Navigation needed
    then: Returns navigation result

  - name: browser_click
    given: Element selector or coordinates
    when: Click action needed
    then: Returns click result

  - name: browser_type
    given: Selector and text to type
    when: Text input needed
    then: Returns type result

  - name: browser_scroll
    given: Direction and amount
    when: Scrolling needed
    then: Returns scroll result

  - name: browser_extract
    given: Extraction query
    when: Content extraction needed
    then: Returns extracted content

  - name: browser_screenshot
    given: Screenshot config
    when: Visual capture needed
    then: Returns screenshot data

  - name: browser_wait
    given: Wait condition
    when: Waiting needed
    then: Returns wait result

  - name: browser_get_elements
    given: Selector pattern
    when: Element listing needed
    then: Returns matching elements
