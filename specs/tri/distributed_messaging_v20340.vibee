name: distributed_messaging_v20340
version: "1.0.0"
language: zig
module: distributed_messaging_v20340

types:
  MessageQueue:
    fields:
      name: String
      partitions: Int
      retention_ms: Int

  MessageResult:
    fields:
      delivered: Bool
      offset: Int
      partition: Int

behaviors:
  - name: message_publish
    given: "Topic and message"
    when: "Publisher publishes"
    then: "Returns offset"

  - name: message_subscribe
    given: "Topic and group"
    when: "Subscriber subscribes"
    then: "Returns subscription"

  - name: message_consume
    given: "Subscription"
    when: "Consumer consumes"
    then: "Returns messages"
