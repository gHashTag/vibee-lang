# vibecode_chat_v12380.vibee - Vibecoding Chat
# Чат для вайбкодинга
# φ² + 1/φ² = 3 | PHOENIX = 999

name: vibecode_chat_v12380
version: "12380.0.0"
language: zig
module: vibecode_chat_v12380

types:
  ChatMessage:
    fields:
      message_id: String
      role: String
      content: String
      code_blocks: List
      timestamp: Timestamp

  ChatSession:
    fields:
      session_id: String
      messages: List
      context_files: List
      model: String

  CodeBlock:
    fields:
      language: String
      code: String
      file_path: String
      action: String

  ChatContext:
    fields:
      open_files: List
      selected_code: String
      cursor_position: Object
      diagnostics: List

  ChatResponse:
    fields:
      message: Object
      suggested_actions: List
      code_changes: List

behaviors:
  - name: send_message
    given: ChatMessage and context
    when: Message send
    then: Return ChatResponse

  - name: apply_code_change
    given: CodeBlock
    when: Code application
    then: Return success

  - name: get_context
    given: Session ID
    when: Context request
    then: Return ChatContext

  - name: clear_session
    given: Session ID
    when: Clear
    then: Return success

  - name: export_session
    given: Session ID
    when: Export
    then: Return session data

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
