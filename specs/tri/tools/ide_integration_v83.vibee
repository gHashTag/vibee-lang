# IDE Integration V83 - VSCode/Neovim/JetBrains
name: ide_integration_v83
version: "83.0.0"
language: zig
module: ide_integration

creation_pattern:
  source: IDEConfig
  transformer: ExtensionGenerator
  result: IDEExtension

types:
  IDEType:
    variants:
      - VSCode
      - Neovim
      - JetBrains
      - Sublime
      - Emacs

  ExtensionManifest:
    fields:
      name: String
      version: String
      description: String
      engines: Map<String, String>
      activationEvents: List<String>

  SyntaxHighlight:
    fields:
      scope: String
      patterns: List<Pattern>

  Pattern:
    fields:
      match_pattern: String
      name: String

  Snippet:
    fields:
      prefix: String
      body: List<String>
      description: String

  Keybinding:
    fields:
      key: String
      command: String
      when_clause: String

  ExtensionConfig:
    fields:
      ide: IDEType
      lsp_path: String
      syntax_file: String
      snippets: List<Snippet>

behaviors:
  - name: generate_vscode_extension
    given: "Extension config"
    when: "VSCode generation"
    then: "Complete extension"
    test_cases:
      - name: vscode_package
        input: "vibee config"
        expected: "package.json + extension.js"

  - name: generate_syntax_highlight
    given: "Language grammar"
    when: "Syntax generation"
    then: "TextMate grammar"
    test_cases:
      - name: vibee_syntax
        input: "VIBEE keywords"
        expected: "vibee.tmLanguage.json"

  - name: generate_snippets
    given: "Common patterns"
    when: "Snippet generation"
    then: "Snippet file"
    test_cases:
      - name: type_snippet
        input: "type template"
        expected: "vtype -> type definition"
      - name: behavior_snippet
        input: "behavior template"
        expected: "vbeh -> behavior definition"

  - name: generate_keybindings
    given: "Common actions"
    when: "Keybinding generation"
    then: "Keybinding config"
    test_cases:
      - name: generate_key
        input: "Ctrl+Shift+G"
        expected: "vibee.generate command"

  - name: generate_neovim_plugin
    given: "Extension config"
    when: "Neovim generation"
    then: "Lua plugin"
    test_cases:
      - name: neovim_lua
        input: "vibee config"
        expected: "vibee.lua plugin"

  - name: generate_jetbrains_plugin
    given: "Extension config"
    when: "JetBrains generation"
    then: "IntelliJ plugin"
    test_cases:
      - name: intellij_plugin
        input: "vibee config"
        expected: "plugin.xml + classes"

# φ² + 1/φ² = 3 | PHOENIX = 999
