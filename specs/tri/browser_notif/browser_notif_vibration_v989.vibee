# VIBEE YOLO MODE IX - browser_notif_vibration v989
name: browser_notif_vibration_v989
version: "9.0.0"
language: zig
module: browser_notif_vibration

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999

types:
  NotificationOptions:
    fields:
      body: String
      icon: String
      badge: String
      tag: String
      require_interaction: Bool

  PushSubscription:
    fields:
      endpoint: String
      expiration_time: Timestamp
      keys: String

  WakeLock:
    fields:
      type: String
      released: Bool

behaviors:
  - name: request_permission
    given: Notification type
    when: Request
    then: vibration API permission obtained
  - name: show_notification
    given: NotificationOptions
    when: Show
    then: Notification shown
  - name: subscribe_push
    given: Push options
    when: Subscribe
    then: Subscription created
  - name: request_wake_lock
    given: Lock type
    when: Request
    then: Wake lock obtained
  - name: release_wake_lock
    given: WakeLock
    when: Release
    then: Lock released

test_cases:
  - name: test_browser_notif_vibration_permission
    input: {type: "default"}
    expected: {granted: true}
  - name: test_browser_notif_vibration_show
    input: {body: "Test"}
    expected: {shown: true}
  - name: test_browser_notif_vibration_subscribe
    input: {options: valid}
    expected: {subscribed: true}
  - name: test_browser_notif_vibration_wake
    input: {type: "screen"}
    expected: {locked: true}
  - name: test_phi_browser_notif_vibration
    input: {phi: 1.618033988749895}
    expected: {golden: true}
