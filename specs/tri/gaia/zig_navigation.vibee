name: zig_navigation
version: "1.0.0"
language: zig
module: navigation

description: |
  Page Navigation Strategies.
  Handle page loads, redirects, popups.
  Wait for network idle.
  φ² + 1/φ² = 3

types:
  NavigationState:
    enum:
      - idle
      - loading
      - interactive
      - complete

  WaitCondition:
    enum:
      - load
      - domcontentloaded
      - networkidle
      - selector
      - timeout

  NavigationResult:
    fields:
      success: Bool
      final_url: String
      status_code: Int
      load_time_ms: Int
      redirects: List<String>

  NavigationConfig:
    fields:
      timeout_ms: Int
      wait_until: WaitCondition
      handle_popups: Bool
      block_resources: List<String>

behaviors:
  - name: goto
    given: URL and NavigationConfig
    when: Navigating to URL
    then: Returns NavigationResult

  - name: wait_for_load
    given: WaitCondition and timeout
    when: Waiting for page state
    then: Returns true when condition met

  - name: wait_for_selector
    given: CSS selector and timeout
    when: Waiting for element
    then: Returns true when element exists

  - name: go_back
    given: Browser
    when: Navigating back
    then: Returns NavigationResult

  - name: go_forward
    given: Browser
    when: Navigating forward
    then: Returns NavigationResult

  - name: reload
    given: Browser
    when: Reloading page
    then: Returns NavigationResult

  - name: get_current_url
    given: Browser
    when: Getting current URL
    then: Returns URL string
