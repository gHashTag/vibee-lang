name: zig_react_prompt
version: "1.0.0"
language: zig
module: react_prompt

description: |
  ReAct Prompts for WebArena tasks.
  Optimized prompts for browser automation.
  Based on top WebArena solutions.
  φ² + 1/φ² = 3

types:
  PromptType:
    enum:
      - system
      - observation
      - action_request
      - reflection
      - error_recovery

  WebArenaAction:
    enum:
      - click
      - type
      - scroll
      - goto
      - go_back
      - select_option
      - hover
      - press_key
      - stop

  PromptContext:
    fields:
      task_intent: String
      current_url: String
      page_title: String
      observation: String
      history: List<String>
      available_actions: List<WebArenaAction>
      step_number: Int
      max_steps: Int

  GeneratedPrompt:
    fields:
      system_prompt: String
      user_prompt: String
      few_shot_examples: List<String>

behaviors:
  - name: build_system_prompt
    given: Task type
    when: Creating system message for WebArena
    then: Returns optimized system prompt

  - name: build_observation_prompt
    given: PromptContext
    when: Formatting page observation for LLM
    then: Returns formatted observation

  - name: build_action_prompt
    given: PromptContext
    when: Requesting next action from LLM
    then: Returns action request prompt

  - name: add_few_shot_examples
    given: Task type
    when: Adding in-context examples
    then: Returns examples for similar tasks

  - name: format_history
    given: List of previous steps
    when: Summarizing action history
    then: Returns formatted history string
