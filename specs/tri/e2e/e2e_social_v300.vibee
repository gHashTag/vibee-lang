name: e2e_social_v300
version: "1.0.0"
language: zig
module: e2e_social_v300

types:
  SocialPost:
    fields:
      id: String
      content: String
      author: String
      likes: Int
      comments: Int
      shares: Int
      timestamp: Timestamp

  SocialComment:
    fields:
      id: String
      post_id: String
      content: String
      author: String
      likes: Int

  SocialProfile:
    fields:
      id: String
      username: String
      display_name: String
      followers: Int
      following: Int
      posts: Int

  SocialAction:
    fields:
      type: String
      target_id: String
      result: Bool
      timestamp: Timestamp

  SocialTestCase:
    fields:
      name: String
      action: SocialAction
      expected_state: Object
      duration_ms: Int

behaviors:
  - name: e2e_create_post
    given: User logged in
    when: Post created
    then: Post appears in feed

  - name: e2e_like_post
    given: Post visible
    when: Like clicked
    then: Like count incremented

  - name: e2e_comment_post
    given: Post visible
    when: Comment submitted
    then: Comment appears

  - name: e2e_share_post
    given: Post visible
    when: Share clicked
    then: Share dialog shown

  - name: e2e_follow_user
    given: Profile visible
    when: Follow clicked
    then: Following relationship created

  - name: e2e_unfollow_user
    given: Following user
    when: Unfollow clicked
    then: Following relationship removed

  - name: e2e_edit_profile
    given: Own profile
    when: Edit submitted
    then: Profile updated

  - name: e2e_notifications
    given: Notifications exist
    when: Notification clicked
    then: Navigated to source
