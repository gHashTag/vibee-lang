name: e2e_mobile_v303
version: "1.0.0"
language: zig
module: e2e_mobile_v303

types:
  MobileDevice:
    fields:
      name: String
      width: Int
      height: Int
      pixel_ratio: Float
      user_agent: String
      touch: Bool

  TouchGesture:
    fields:
      type: String
      start_x: Int
      start_y: Int
      end_x: Int
      end_y: Int
      duration_ms: Int

  MobileViewport:
    fields:
      width: Int
      height: Int
      orientation: String
      scale: Float

  MobileNetwork:
    fields:
      type: String
      download_kbps: Int
      upload_kbps: Int
      latency_ms: Int

  MobileTestCase:
    fields:
      name: String
      device: MobileDevice
      gestures: List<TouchGesture>
      expected_state: Object
      duration_ms: Int

behaviors:
  - name: e2e_iphone_emulation
    given: iPhone device config
    when: Emulation enabled
    then: iPhone viewport active

  - name: e2e_android_emulation
    given: Android device config
    When: Emulation enabled
    then: Android viewport active

  - name: e2e_touch_tap
    given: Touch enabled
    When: Tap performed
    then: Element activated

  - name: e2e_touch_swipe
    given: Scrollable content
    When: Swipe performed
    then: Content scrolled

  - name: e2e_touch_pinch
    given: Zoomable content
    When: Pinch performed
    then: Zoom level changed

  - name: e2e_orientation_change
    given: Device emulated
    When: Orientation changed
    then: Layout adapted

  - name: e2e_mobile_network
    given: Network throttling
    When: Slow 3G enabled
    then: Network throttled

  - name: e2e_responsive_layout
    given: Responsive page
    When: Viewport resized
    then: Layout responds correctly
