name: e2e_accessibility_v302
version: "1.0.0"
language: zig
module: e2e_accessibility_v302

types:
  A11yViolation:
    fields:
      id: String
      impact: String
      description: String
      help: String
      nodes: List<String>

  A11yReport:
    fields:
      violations: List<A11yViolation>
      passes: Int
      incomplete: Int
      inapplicable: Int

  A11yRule:
    fields:
      id: String
      description: String
      wcag_level: String
      enabled: Bool

  KeyboardNavigation:
    fields:
      element: String
      key: String
      expected_focus: String
      actual_focus: String

  ScreenReaderOutput:
    fields:
      element: String
      announced: String
      role: String
      state: String

  A11yTestCase:
    fields:
      name: String
      rule: A11yRule
      expected: A11yReport
      duration_ms: Int

behaviors:
  - name: e2e_axe_scan
    given: Page loaded
    when: Axe scan runs
    then: Violations reported

  - name: e2e_keyboard_nav
    given: Interactive elements
    when: Tab navigation
    then: Focus order correct

  - name: e2e_screen_reader
    given: Content loaded
    when: Screen reader reads
    then: Content announced correctly

  - name: e2e_color_contrast
    given: Text elements
    when: Contrast check runs
    then: WCAG contrast met

  - name: e2e_focus_visible
    given: Focusable elements
    when: Focus received
    then: Focus indicator visible

  - name: e2e_aria_labels
    given: Interactive elements
    when: ARIA check runs
    then: Labels present and correct

  - name: e2e_heading_structure
    given: Page content
    when: Heading check runs
    then: Heading hierarchy correct

  - name: e2e_form_labels
    given: Form elements
    When: Label check runs
    then: All inputs labeled
