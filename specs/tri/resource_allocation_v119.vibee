# RESOURCE ALLOCATION V119 - Branch Resource Distribution
# VIBEE AMPLIFICATION MODE: Optimal Resource Distribution
name: resource_allocation_v119
version: "119.0.0"
language: zig
module: resource_allocation

creation_pattern:
  source: BranchesAndBudget
  transformer: AllocationOptimizer
  result: OptimalAllocation

# RESOURCE ALLOCATION STRATEGY
# Based on:
# - Branch priority
# - Critical path weight
# - Synergy potential
# - Risk mitigation needs

types:
  ResourcePool:
    fields:
      name: String
      total_units: Int
      unit_type: String
      allocation_period: String
      constraints: List<String>

  BranchAllocation:
    fields:
      branch: String
      percentage: Int
      absolute_units: Int
      justification: String
      priority: Int
      flexibility: Float

  TeamAllocation:
    fields:
      team_name: String
      branch: String
      headcount: Int
      skills: List<String>
      utilization: Float
      cost_per_month: Int

  BudgetAllocation:
    fields:
      category: String
      branch: String
      amount: Int
      currency: String
      roi_expected: Float
      payback_months: Int

  TimeAllocation:
    fields:
      branch: String
      months: Int
      parallel_factor: Float
      effective_months: Float
      deadline: String

  InfraAllocation:
    fields:
      resource_type: String
      branch: String
      units: Int
      cost_per_unit: Int
      scaling_factor: Float

  AllocationScenario:
    fields:
      name: String
      description: String
      allocations: List<BranchAllocation>
      total_cost: Int
      expected_outcome: String
      risk_level: Float

  OptimalAllocation:
    fields:
      pools: List<ResourcePool>
      branch_allocations: List<BranchAllocation>
      team_allocations: List<TeamAllocation>
      budget_allocations: List<BudgetAllocation>

behaviors:
  - name: calculate_optimal
    given: "Branches + constraints"
    when: "Optimization"
    then: "Optimal allocation"
    test_cases:
      - name: optimal
        input: "5 branches, 100 units"
        expected: "allocation plan"

  - name: balance_priorities
    given: "Priority weights"
    when: "Balancing"
    then: "Balanced allocation"
    test_cases:
      - name: balance
        input: "priority weights"
        expected: "balanced plan"

  - name: maximize_roi
    given: "ROI projections"
    when: "ROI optimization"
    then: "Max ROI allocation"
    test_cases:
      - name: roi
        input: "roi data"
        expected: "max roi plan"

  - name: minimize_risk
    given: "Risk factors"
    when: "Risk minimization"
    then: "Risk-adjusted allocation"
    test_cases:
      - name: risk
        input: "risk factors"
        expected: "risk-adjusted"

  - name: simulate_scenarios
    given: "Multiple scenarios"
    when: "Simulation"
    then: "Best scenario selected"
    test_cases:
      - name: simulate
        input: "3 scenarios"
        expected: "best selected"

  - name: rebalance
    given: "Changed conditions"
    when: "Rebalancing"
    then: "Updated allocation"
    test_cases:
      - name: rebalance
        input: "new conditions"
        expected: "rebalanced"

# RESOURCE POOLS
resource_pools:
  engineering:
    name: "Engineering Team"
    total_units: 50
    unit_type: "engineers"
    period: "2024-2035"
    constraints:
      - "Max 20% on single branch"
      - "Min 10% on critical path"
      - "Reserve 10% for emergencies"
      
  budget:
    name: "Development Budget"
    total_units: 10000000
    unit_type: "USD"
    period: "2024-2035"
    constraints:
      - "Annual budget cycles"
      - "Quarterly reviews"
      - "10% contingency"
      
  compute:
    name: "Compute Resources"
    total_units: 1000
    unit_type: "vCPUs"
    period: "monthly"
    constraints:
      - "Auto-scaling enabled"
      - "Cost optimization"
      - "Multi-region"

# BRANCH ALLOCATIONS
branch_allocations:
  core:
    name: "Core (Parser/Types)"
    percentage: 25
    priority: 1
    justification: "Foundation for all other branches"
    phases:
      phase_1: 40
      phase_2: 30
      phase_3: 20
      phase_4: 15
      phase_5: 10
    team:
      senior_engineers: 5
      mid_engineers: 7
      junior_engineers: 3
    budget_breakdown:
      salaries: 60
      infrastructure: 20
      tools: 10
      research: 10
      
  codegen:
    name: "Code Generation"
    percentage: 20
    priority: 2
    justification: "Direct value delivery"
    phases:
      phase_1: 30
      phase_2: 25
      phase_3: 20
      phase_4: 15
      phase_5: 10
    team:
      senior_engineers: 4
      mid_engineers: 5
      junior_engineers: 2
    budget_breakdown:
      salaries: 55
      infrastructure: 25
      tools: 10
      research: 10
      
  pas:
    name: "PAS (Algorithm Discovery)"
    percentage: 20
    priority: 2
    justification: "Unique competitive advantage"
    phases:
      phase_1: 15
      phase_2: 20
      phase_3: 25
      phase_4: 30
      phase_5: 25
    team:
      researchers: 3
      senior_engineers: 3
      ml_engineers: 4
    budget_breakdown:
      salaries: 50
      infrastructure: 15
      tools: 5
      research: 30
      
  evolution:
    name: "Self-Evolution"
    percentage: 15
    priority: 3
    justification: "Long-term autonomy"
    phases:
      phase_1: 10
      phase_2: 15
      phase_3: 20
      phase_4: 25
      phase_5: 30
    team:
      researchers: 2
      senior_engineers: 2
      ml_engineers: 3
    budget_breakdown:
      salaries: 45
      infrastructure: 20
      tools: 5
      research: 30
      
  ecosystem:
    name: "Ecosystem (IDE/Cloud)"
    percentage: 20
    priority: 2
    justification: "User adoption and revenue"
    phases:
      phase_1: 15
      phase_2: 25
      phase_3: 25
      phase_4: 20
      phase_5: 15
    team:
      senior_engineers: 3
      mid_engineers: 5
      frontend_engineers: 3
      devops: 2
    budget_breakdown:
      salaries: 50
      infrastructure: 30
      marketing: 15
      support: 5

# TEAM STRUCTURE BY PHASE
team_evolution:
  phase_1:
    total: 20
    distribution:
      core: 8
      codegen: 5
      pas: 3
      evolution: 1
      ecosystem: 3
    cost_per_month: 400000
    
  phase_2:
    total: 35
    distribution:
      core: 10
      codegen: 8
      pas: 7
      evolution: 4
      ecosystem: 6
    cost_per_month: 700000
    
  phase_3:
    total: 50
    distribution:
      core: 12
      codegen: 10
      pas: 12
      evolution: 8
      ecosystem: 8
    cost_per_month: 1000000
    
  phase_4:
    total: 75
    distribution:
      core: 15
      codegen: 15
      pas: 20
      evolution: 15
      ecosystem: 10
    cost_per_month: 1500000
    
  phase_5:
    total: 100
    distribution:
      core: 15
      codegen: 15
      pas: 25
      evolution: 30
      ecosystem: 15
    cost_per_month: 2000000

# BUDGET ALLOCATION BY PHASE (USD)
budget_by_phase:
  phase_1:
    total: 1000000
    breakdown:
      salaries: 600000
      infrastructure: 200000
      tools: 100000
      research: 100000
    roi_target: 2x
    
  phase_2:
    total: 2500000
    breakdown:
      salaries: 1400000
      infrastructure: 500000
      tools: 200000
      research: 300000
      marketing: 100000
    roi_target: 5x
    
  phase_3:
    total: 5000000
    breakdown:
      salaries: 2500000
      infrastructure: 1000000
      tools: 300000
      research: 800000
      marketing: 400000
    roi_target: 10x
    
  phase_4:
    total: 10000000
    breakdown:
      salaries: 4500000
      infrastructure: 2000000
      tools: 500000
      research: 2000000
      marketing: 1000000
    roi_target: 50x
    
  phase_5:
    total: 20000000
    breakdown:
      salaries: 8000000
      infrastructure: 4000000
      tools: 1000000
      research: 4000000
      marketing: 3000000
    roi_target: 100x

# ALLOCATION SCENARIOS
scenarios:
  conservative:
    name: "Conservative Growth"
    description: "Steady, low-risk growth"
    core: 30
    codegen: 25
    pas: 15
    evolution: 10
    ecosystem: 20
    risk: 0.2
    expected_amplification: "100x"
    
  aggressive:
    name: "Aggressive Innovation"
    description: "High-risk, high-reward"
    core: 20
    codegen: 15
    pas: 30
    evolution: 25
    ecosystem: 10
    risk: 0.6
    expected_amplification: "1000x"
    
  balanced:
    name: "Balanced Approach"
    description: "Optimal risk-reward balance"
    core: 25
    codegen: 20
    pas: 20
    evolution: 15
    ecosystem: 20
    risk: 0.4
    expected_amplification: "500x"

# OPTIMIZATION FORMULA
# Allocation = Priority × CriticalPathWeight × SynergyPotential × (1 - RiskFactor)
optimization:
  weights:
    priority: 0.3
    critical_path: 0.25
    synergy: 0.25
    risk_mitigation: 0.2
  constraints:
    min_per_branch: 10
    max_per_branch: 30
    reserve: 10

# φ² + 1/φ² = 3 | PHOENIX = 999
