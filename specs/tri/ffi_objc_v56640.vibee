# FFI Objective-C v56640 - Objective-C Runtime
# VIBEE → Objective-C Native Bindings
# φ² + 1/φ² = 3 | PHOENIX = 999

name: ffi_objc_v56640
version: "56.6.40"
language: zig
module: ffi_objc

creation_pattern:
  source: VibeeSpec
  transformer: ObjCBindingsGenerator
  result: ObjCFramework

types:
  ObjCType:
    fields:
      name: String
      objc_type: String
      c_type: String
      is_object: Bool

  ObjCMethod:
    fields:
      selector: String
      return_type: String
      params: List<String>
      is_class_method: Bool

  ObjCClass:
    fields:
      name: String
      superclass: String
      protocols: List<String>
      properties: List<String>
      methods: List<ObjCMethod>

  ObjCProtocol:
    fields:
      name: String
      methods: List<ObjCMethod>
      optional_methods: List<ObjCMethod>

  ObjCCategory:
    fields:
      name: String
      class_name: String
      methods: List<ObjCMethod>

  ObjCFramework:
    fields:
      name: String
      classes: List<ObjCClass>
      protocols: List<ObjCProtocol>
      categories: List<ObjCCategory>
      umbrella_header: String

  ObjCBlock:
    fields:
      return_type: String
      param_types: List<String>
      is_escaping: Bool

  ObjCProperty:
    fields:
      name: String
      type_name: String
      attributes: List<String>

behaviors:
  - name: generate_objc_header
    given: VibeeSpec
    when: ObjC header needed
    then: .h file

  - name: generate_objc_impl
    given: VibeeSpec
    when: ObjC implementation needed
    then: .m file

  - name: map_vibee_to_objc_type
    given: Vibee type
    when: Type mapping needed
    then: ObjC type

  - name: generate_class
    given: Class definition
    when: ObjC class needed
    then: ObjCClass

  - name: generate_protocol
    given: Protocol definition
    when: ObjC protocol needed
    then: ObjCProtocol

  - name: handle_block
    given: C callback
    when: Block needed
    then: ObjCBlock

  - name: handle_selector
    given: Method name
    when: SEL needed
    then: @selector()

  - name: handle_arc
    given: Object lifetime
    when: ARC needed
    then: __strong/__weak
