# VIBEE YOLO MODE XII - browser_glass_vibrancy v1168
# macOS Vibrancy - System Material Effects
name: browser_glass_vibrancy_v1168
version: "12.0.0"
language: zig
module: browser_glass_vibrancy

sacred_constants:
  phi: 1.618033988749895
  phi_identity: 3
  phoenix: 999
  yolo_mode: 12

types:
  VibrancyMaterial:
    fields:
      name: String
      blur_radius: Float
      saturation: Float
      tint_color: String
      tint_opacity: Float

  VibrancyEffect:
    fields:
      material: String
      blend_mode: String
      behind_window: Bool

  SystemAppearance:
    fields:
      dark_mode: Bool
      accent_color: String
      reduce_transparency: Bool

  VibrancyLayer:
    fields:
      id: String
      material: String
      bounds: String
      z_index: Int

behaviors:
  - name: apply_vibrancy
    given: VibrancyMaterial
    when: Apply
    then: Vibrancy effect applied
  - name: detect_appearance
    given: SystemAppearance
    when: Detect
    then: System appearance detected
  - name: adapt_material
    given: Dark/light mode
    when: Adapt
    then: Material adapted to appearance
  - name: layer_vibrancy
    given: Multiple layers
    when: Layer
    then: Vibrancy layers composited
  - name: reduce_motion
    given: Accessibility setting
    when: Reduce
    then: Motion reduced for accessibility

test_cases:
  - name: test_vibrancy_apply
    input: {material: "sidebar"}
    expected: {applied: true}
  - name: test_vibrancy_detect
    input: {dark_mode: true}
    expected: {detected: true}
  - name: test_vibrancy_adapt
    input: {mode: "dark"}
    expected: {adapted: true}
  - name: test_vibrancy_layer
    input: {layers: 3}
    expected: {composited: true}
  - name: test_phi_vibrancy
    input: {phi: 1.618033988749895}
    expected: {identity: 3}
