# ═══════════════════════════════════════════════════════════════════════════════
# CLI LEARNING v299 - Agent Learning System
# ═══════════════════════════════════════════════════════════════════════════════
# Based on: Decision Transformer, Voyager Skills
# Scientific: NeurIPS 2024, ICML 2024
# PAS Pattern: MLS + ALG
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

name: cli_learning
version: "2.9.9"
language: zig
module: cli_learning

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

creation_pattern:
  source: Experience
  transformer: LearningEngine
  result: LearnedSkill

types:
  LearningMode:
    enum:
      - supervised
      - reinforcement
      - imitation
      - self_play

  Experience:
    fields:
      state: Object
      action: String
      reward: Float
      next_state: Object
      done: Bool

  Skill:
    fields:
      name: String
      description: String
      code: String
      success_rate: Float
      usage_count: Int

  SkillLibrary:
    fields:
      skills: List<Skill>
      embeddings: List<List<Float>>

  LearningConfig:
    fields:
      mode: LearningMode
      learning_rate: Float
      batch_size: Int
      max_episodes: Int

  LearningStats:
    fields:
      episodes: Int
      avg_reward: Float
      skills_learned: Int
      success_rate: Float

behaviors:
  - name: learn_from_experience
    given: "Experience batch"
    when: "Learning"
    then: "Update policy"
    pas_pattern: MLS
    complexity: O(n)
    test_cases:
      - name: test_learn
        input: '{"experiences": [...]}'
        expected: '{"updated": true}'

  - name: acquire_skill
    given: "Task and solution"
    when: "Skill acquisition"
    then: "Add to library"
    pas_pattern: PRE
    complexity: O(1)
    test_cases:
      - name: test_acquire
        input: '{"task": "...", "solution": "..."}'
        expected: '{"skill_id": "..."}'

  - name: retrieve_skill
    given: "Task description"
    when: "Skill retrieval"
    then: "Find matching skill"
    pas_pattern: HSH
    complexity: O(log n)
    test_cases:
      - name: test_retrieve
        input: '{"task": "Generate code"}'
        expected: '{"skill": {...}}'

  - name: improve_skill
    given: "Skill and feedback"
    when: "Improvement"
    then: "Refine skill"
    pas_pattern: ALG
    complexity: O(1)
    test_cases:
      - name: test_improve
        input: '{"skill_id": "...", "feedback": "..."}'
        expected: '{"improved": true}'

  - name: compose_skills
    given: "Skill list"
    when: "Composition"
    then: "Create composite skill"
    pas_pattern: D&C
    complexity: O(n)
    test_cases:
      - name: test_compose
        input: '{"skills": ["a", "b", "c"]}'
        expected: '{"composite": {...}}'

  - name: evaluate_performance
    given: "Test tasks"
    when: "Evaluation"
    then: "Measure performance"
    pas_pattern: ALG
    complexity: O(n)
    test_cases:
      - name: test_eval
        input: '{"tasks": [...]}'
        expected: '{"stats": {...}}'

# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════
