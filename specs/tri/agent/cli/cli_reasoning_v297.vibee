# ═══════════════════════════════════════════════════════════════════════════════
# CLI REASONING v297 - Agent Reasoning Engine
# ═══════════════════════════════════════════════════════════════════════════════
# Based on: ReAct, Chain-of-Thought, Tree-of-Thoughts
# Scientific: ICLR 2024, NeurIPS 2024
# PAS Pattern: ALG + MLS
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

name: cli_reasoning
version: "2.9.7"
language: zig
module: cli_reasoning

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

creation_pattern:
  source: ReasoningTask
  transformer: ReasoningEngine
  result: ReasoningResult

types:
  ReasoningStrategy:
    enum:
      - react
      - cot
      - tot
      - reflexion
      - self_consistency

  ThoughtStep:
    fields:
      step_num: Int
      thought: String
      action: Option<String>
      observation: Option<String>

  ReasoningTrace:
    fields:
      task: String
      steps: List<ThoughtStep>
      final_answer: String
      confidence: Float

  ActionSpace:
    fields:
      actions: List<String>
      descriptions: List<String>

  ReasoningConfig:
    fields:
      strategy: ReasoningStrategy
      max_steps: Int
      temperature: Float
      self_reflect: Bool

  EvaluationResult:
    fields:
      correct: Bool
      score: Float
      feedback: String

behaviors:
  - name: reason
    given: "Task and config"
    when: "Reasoning"
    then: "Generate reasoning trace"
    pas_pattern: ALG
    complexity: O(s)
    test_cases:
      - name: test_reason
        input: '{"task": "Solve: 2+2"}'
        expected: '{"answer": "4"}'

  - name: plan
    given: "Goal"
    when: "Planning"
    then: "Generate action plan"
    pas_pattern: D&C
    complexity: O(n)
    test_cases:
      - name: test_plan
        input: '{"goal": "Build feature X"}'
        expected: '{"plan": [...]}'

  - name: act
    given: "Action"
    when: "Action execution"
    then: "Execute and observe"
    pas_pattern: MLS
    complexity: O(1)
    test_cases:
      - name: test_act
        input: '{"action": "search", "args": {...}}'
        expected: '{"observation": "..."}'

  - name: reflect
    given: "Trace"
    when: "Reflection"
    then: "Self-evaluate"
    pas_pattern: ALG
    complexity: O(n)
    test_cases:
      - name: test_reflect
        input: '{"trace": {...}}'
        expected: '{"feedback": "..."}'

  - name: branch
    given: "Current state"
    when: "Branching"
    then: "Explore alternatives"
    pas_pattern: D&C
    complexity: O(b^d)
    test_cases:
      - name: test_branch
        input: '{"state": {...}, "branches": 3}'
        expected: '{"paths": [...]}'

  - name: evaluate
    given: "Answer and ground truth"
    when: "Evaluation"
    then: "Score answer"
    pas_pattern: ALG
    complexity: O(1)
    test_cases:
      - name: test_eval
        input: '{"answer": "4", "expected": "4"}'
        expected: '{"correct": true}'

# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════
