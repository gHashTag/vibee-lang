# ═══════════════════════════════════════════════════════════════════════════════
# CLI OUTPUT v284 - Output Formatting
# ═══════════════════════════════════════════════════════════════════════════════
# Based on: Rich, Chalk, Termcolor
# Scientific: CHI 2024, UIST 2024
# PAS Pattern: ALG + PRE
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════

name: cli_output
version: "2.8.4"
language: zig
module: cli_output

sacred_constants:
  phi: 1.618033988749895
  trinity: 3.0
  phoenix: 999

creation_pattern:
  source: OutputData
  transformer: CLIOutput
  result: FormattedOutput

types:
  OutputFormat:
    enum:
      - text
      - json
      - table
      - tree
      - progress

  Color:
    enum:
      - red
      - green
      - yellow
      - blue
      - magenta
      - cyan
      - white

  Style:
    fields:
      color: Option<Color>
      bold: Bool
      underline: Bool

  TableColumn:
    fields:
      header: String
      width: Int
      alignment: String

  ProgressBar:
    fields:
      total: Int
      current: Int
      width: Int
      label: String

  TreeNode:
    fields:
      label: String
      children: List<Int>
      expanded: Bool

behaviors:
  - name: print_text
    given: "Text and style"
    when: "Text output"
    then: "Print styled text"
    pas_pattern: ALG
    complexity: O(n)
    test_cases:
      - name: test_text
        input: '{"text": "Hello", "color": "green"}'
        expected: '{"printed": true}'

  - name: print_json
    given: "Data object"
    when: "JSON output"
    then: "Print formatted JSON"
    pas_pattern: ALG
    complexity: O(n)
    test_cases:
      - name: test_json
        input: '{"data": {"key": "value"}}'
        expected: '{"printed": true}'

  - name: print_table
    given: "Rows and columns"
    when: "Table output"
    then: "Print formatted table"
    pas_pattern: ALG
    complexity: O(r * c)
    test_cases:
      - name: test_table
        input: '{"columns": [...], "rows": [...]}'
        expected: '{"printed": true}'

  - name: print_tree
    given: "Tree structure"
    when: "Tree output"
    then: "Print tree view"
    pas_pattern: D&C
    complexity: O(n)
    test_cases:
      - name: test_tree
        input: '{"root": {...}}'
        expected: '{"printed": true}'

  - name: update_progress
    given: "Progress value"
    when: "Progress update"
    then: "Update progress bar"
    pas_pattern: PRE
    complexity: O(1)
    test_cases:
      - name: test_progress
        input: '{"current": 50, "total": 100}'
        expected: '{"updated": true}'

  - name: clear_screen
    given: "None"
    when: "Clear request"
    then: "Clear terminal"
    pas_pattern: PRE
    complexity: O(1)
    test_cases:
      - name: test_clear
        input: '{}'
        expected: '{"cleared": true}'

# ═══════════════════════════════════════════════════════════════════════════════
# φ² + 1/φ² = 3 | PHOENIX = 999
# ═══════════════════════════════════════════════════════════════════════════════
