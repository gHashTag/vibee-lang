name: agent_nlp_v281
version: "1.0.0"
language: zig
module: agent_nlp_v281

types:
  Intent:
    fields:
      action: String
      target: String
      parameters: Object
      confidence: Float

  Entity:
    fields:
      text: String
      type: String
      start: Int
      end: Int
      value: Object

  Command:
    fields:
      raw: String
      intent: Intent
      entities: List<Entity>
      context: Object

  NLPResult:
    fields:
      command: Command
      alternatives: List<Intent>
      ambiguous: Bool

  Conversation:
    fields:
      id: String
      messages: List<Object>
      context: Object
      state: String

  SemanticMatch:
    fields:
      query: String
      target: String
      similarity: Float
      method: String

  NLPConfig:
    fields:
      language: String
      model: String
      threshold: Float
      context_window: Int

behaviors:
  - name: parse_command
    given: Natural language input
    when: Parsing runs
    then: Intent and entities extracted

  - name: resolve_ambiguity
    given: Ambiguous command detected
    when: Resolution runs
    then: Best intent selected or clarification requested

  - name: extract_entities
    given: Text input provided
    when: Entity extraction runs
    then: Named entities identified

  - name: match_semantic
    given: Query and targets provided
    when: Semantic matching runs
    then: Best matches ranked by similarity

  - name: maintain_context
    given: Conversation ongoing
    when: New message received
    then: Context updated appropriately

  - name: generate_response
    given: Action result available
    when: Response generation runs
    then: Natural language response created

  - name: translate_action
    given: Intent parsed
    when: Translation runs
    then: Browser action generated

  - name: validate_command
    given: Parsed command available
    when: Validation runs
    then: Command feasibility confirmed
