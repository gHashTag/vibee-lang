# VIBEE YOLO MODE X - browser_llm_function v1042
name: browser_llm_function_v1042
version: "10.0.0"
language: zig
module: browser_llm_function

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
  yolo_mode: 10

types:
  LLMConfig:
    fields:
      model_id: String
      max_tokens: Int
      temperature: Float
      top_p: Float

  LLMMessage:
    fields:
      role: String
      content: String
      function_call: String

  LLMResponse:
    fields:
      content: String
      finish_reason: String
      tokens_used: Int
      latency: Float

  LLMFunction:
    fields:
      name: String
      description: String
      parameters: String

behaviors:
  - name: initialize_llm
    given: LLMConfig
    when: Initialize
    then: function calling initialized
  - name: generate_response
    given: LLMMessage list
    when: Generate
    then: Response generated
  - name: stream_response
    given: LLMMessage list
    when: Stream
    then: Response streamed
  - name: call_function
    given: LLMFunction
    when: Call
    then: Function called
  - name: manage_context
    given: Context window
    when: Manage
    then: Context managed

test_cases:
  - name: test_browser_llm_function_init
    input: {model_id: "llama"}
    expected: {initialized: true}
  - name: test_browser_llm_function_generate
    input: {messages: valid}
    expected: {generated: true}
  - name: test_browser_llm_function_stream
    input: {messages: valid}
    expected: {streamed: true}
  - name: test_browser_llm_function_function
    input: {function: valid}
    expected: {called: true}
  - name: test_phi_browser_llm_function
    input: {phi: 1.618033988749895}
    expected: {golden: true}
