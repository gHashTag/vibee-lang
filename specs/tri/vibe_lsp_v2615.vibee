# vibe_lsp_v2615.vibee - LSP Server
# Language Server Protocol для VIBEE
# φ² + 1/φ² = 3 | PHOENIX = 999

name: vibe_lsp_v2615
version: "2615.0.0"
language: zig
module: vibe_lsp_v2615

types:
  LSPCapabilities:
    fields:
      completion: Bool
      hover: Bool
      definition: Bool
      references: Bool
      diagnostics: Bool
      formatting: Bool

  CompletionItem:
    fields:
      label: String
      kind: String
      detail: String
      documentation: String
      insert_text: String

  Diagnostic:
    fields:
      range_start: Int
      range_end: Int
      severity: String
      message: String
      source: String

  HoverInfo:
    fields:
      contents: String
      range_start: Int
      range_end: Int

  Location:
    fields:
      uri: String
      line: Int
      character: Int

behaviors:
  - name: initialize
    given: Client capabilities
    when: LSP init
    then: Return server capabilities

  - name: completion
    given: Position
    when: Completion triggered
    then: Return CompletionItem list

  - name: hover
    given: Position
    when: Hover requested
    then: Return HoverInfo

  - name: go_to_definition
    given: Position
    when: Definition requested
    then: Return Location

  - name: get_diagnostics
    given: Document
    when: Diagnostics requested
    then: Return Diagnostic list

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
