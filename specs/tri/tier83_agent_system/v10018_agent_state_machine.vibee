# VIBEE v10018: Agent State Machine
name: agent_state_machine
version: "10018.0.0"
language: zig
module: agent_state_machine

types:
  State:
    fields:
      name: String
      data: String
      entry_actions: List<String>
      exit_actions: List<String>

  Transition:
    fields:
      from_state: String
      to_state: String
      trigger: String
      guard: String

  StateMachine:
    fields:
      states: List<String>
      transitions: List<String>
      current_state: String
      history: List<String>

behaviors:
  - name: transition
    given: "Trigger event"
    when: "Transitioning"
    then: "Returns new state"

  - name: can_transition
    given: "Target state"
    when: "Checking"
    then: "Returns possibility"

  - name: get_history
    given: "State machine"
    when: "Querying"
    then: "Returns state history"
