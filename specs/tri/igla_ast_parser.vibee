# IGLA AST Parser
# Abstract Syntax Tree parsing for code analysis
# φ² + 1/φ² = 3 | PHOENIX = 999

name: igla_ast_parser
version: "1.0.0"
language: zig
module: igla_ast_parser

sacred_constants:
  phi: 1.618033988749895
  phoenix: 999
  trinity: 3

types:
  ASTNodeType:
    enum: [Module, Function, Class, Statement, Expression, Identifier, Literal]

  ASTNode:
    fields:
      node_type: String
      value: String
      line: Int
      column: Int
      children: List<String>

  AST:
    fields:
      root: ASTNode
      nodes: List<ASTNode>
      file_path: String

  ParseResult:
    fields:
      ast: AST
      errors: List<String>
      success: Bool

behaviors:
  - name: parse_file
    given: File content and language
    when: Parsing requested
    then: Returns ParseResult

  - name: find_node
    given: AST and node type
    when: Node search requested
    then: Returns matching nodes

  - name: get_children
    given: ASTNode
    when: Children requested
    then: Returns child nodes

  - name: get_parent
    given: ASTNode and AST
    when: Parent requested
    then: Returns parent node

  - name: traverse_preorder
    given: AST
    when: Preorder traversal requested
    then: Returns nodes in preorder

  - name: traverse_postorder
    given: AST
    when: Postorder traversal requested
    then: Returns nodes in postorder

test_cases:
  - name: test_parse_python
    expected: ast_created
  - name: test_find_functions
    expected: functions_found
  - name: test_traversal
    expected: nodes_visited
  - name: test_parent_child
    expected: relations_valid
  - name: test_error_handling
    expected: errors_reported
