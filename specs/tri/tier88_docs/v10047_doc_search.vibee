# VIBEE v10047: Doc Search
name: doc_search
version: "10047.0.0"
language: zig
module: doc_search

types:
  SearchIndex:
    fields:
      documents: Int
      terms: Int
      last_updated: Timestamp
      size: Int

  SearchQuery:
    fields:
      query: String
      filters: List<String>
      limit: Int
      offset: Int

  SearchResult:
    fields:
      matches: List<String>
      total: Int
      took: Int
      suggestions: List<String>

behaviors:
  - name: build_index
    given: "Documentation"
    when: "Building"
    then: "Returns search index"

  - name: search
    given: "Query and index"
    when: "Searching"
    then: "Returns search result"

  - name: suggest
    given: "Partial query"
    when: "Suggesting"
    then: "Returns suggestions"
