# VIBEE Glass Gradient v4.0.0
# Gradient effects for glassmorphism

name: vibee_glass_gradient
version: "4.0.0"
language: zig
module: vibee_glass_gradient

constants:
  PHI: 1.6180339887498948482
  PHOENIX: 999
  MAX_COLOR_STOPS: 16

types:
  GradientConfig:
    fields:
      type: String
      angle: Float
      stops: List<Object>

  ColorStop:
    fields:
      color: String
      position: Float
      opacity: Float

  LinearGradient:
    fields:
      angle: Float
      stops: List<Object>

  RadialGradient:
    fields:
      center_x: Float
      center_y: Float
      radius: Float
      stops: List<Object>

  ConicGradient:
    fields:
      center_x: Float
      center_y: Float
      start_angle: Float
      stops: List<Object>

  MeshGradient:
    fields:
      rows: Int
      cols: Int
      points: List<Object>

behaviors:
  - name: create_linear
    given: Angle and stops
    when: Create
    then: LinearGradient ready

  - name: create_radial
    given: Center, radius, stops
    when: Create
    then: RadialGradient ready

  - name: create_conic
    given: Center, angle, stops
    when: Create
    then: ConicGradient ready

  - name: create_mesh
    given: Grid and colors
    when: Create
    then: MeshGradient ready

  - name: apply_gradient
    given: Element and gradient
    when: Apply
    then: Gradient rendered

  - name: add_stop
    given: Gradient and stop
    when: Add
    then: Stop added

  - name: remove_stop
    given: Gradient and index
    when: Remove
    then: Stop removed

  - name: animate_gradient
    given: Gradient, from, to
    when: Animate
    then: Smooth transition

  - name: rotate_gradient
    given: Gradient and angle
    when: Rotate
    then: Angle updated

  - name: sample_color
    given: Gradient and position
    when: Sample
    then: Color at position

  - name: to_css
    given: Gradient
    when: Export
    then: CSS string

test_cases:
  - name: test_linear_gradient
    input:
      angle: 45
      stops: 2
    expected:
      created: true

  - name: test_mesh_gradient
    input:
      rows: 3
      cols: 3
    expected:
      points: 9
