# VIBEE Browser Monaco Editor v1.0.0
# VS Code editor integration

name: monaco_editor
version: "1.0.0"
language: zig
module: monaco_editor

description: |
  Monaco Editor (VS Code core) integration.
  Full code editing with IntelliSense, syntax highlighting,
  and debugging support.

types:
  EditorConfig:
    fields:
      theme: String
      font_size: Int
      font_family: String
      line_numbers: Bool
      minimap: Bool
      word_wrap: String

  EditorModel:
    fields:
      uri: String
      language: String
      content: String
      version: Int

  EditorPosition:
    fields:
      line: Int
      column: Int

  EditorRange:
    fields:
      start_line: Int
      start_column: Int
      end_line: Int
      end_column: Int

  EditorSelection:
    fields:
      anchor: EditorPosition
      active: EditorPosition

  CompletionItem:
    fields:
      label: String
      kind: Int
      detail: Option<String>
      insert_text: String

  DiagnosticItem:
    fields:
      range: EditorRange
      message: String
      severity: Int
      source: Option<String>

  EditorAction:
    fields:
      id: String
      label: String
      keybinding: Option<String>

behaviors:
  - name: create_editor
    given: "Container element and config"
    when: "Initialize"
    then: "Create Monaco editor instance"

  - name: set_model
    given: "Editor and model"
    when: "Set content"
    then: "Load file into editor"

  - name: get_value
    given: "Editor"
    when: "Get content"
    then: "Return current text"

  - name: set_value
    given: "Editor and text"
    when: "Set content"
    then: "Replace editor content"

  - name: get_position
    given: "Editor"
    when: "Get cursor"
    then: "Return cursor position"

  - name: set_position
    given: "Editor and position"
    when: "Set cursor"
    then: "Move cursor to position"

  - name: get_selection
    given: "Editor"
    when: "Get selection"
    then: "Return selected range"

  - name: insert_text
    given: "Editor, position, text"
    when: "Insert"
    then: "Add text at position"

  - name: format_document
    given: "Editor"
    when: "Format"
    then: "Auto-format code"

  - name: trigger_suggest
    given: "Editor"
    when: "Trigger"
    then: "Show autocomplete"

  - name: set_diagnostics
    given: "Model and diagnostics"
    when: "Set markers"
    then: "Show error/warning markers"

  - name: register_action
    given: "Action definition"
    when: "Register"
    then: "Add custom action"

test_cases:
  - name: test_create_editor
    input: { theme: "vs-dark" }
    expected: { created: true }

  - name: test_set_get_value
    input: { content: "console.log('hello')" }
    expected: { value_matches: true }

  - name: test_cursor_position
    input: { line: 5, column: 10 }
    expected: { position_set: true }

  - name: test_format
    input: { language: "javascript" }
    expected: { formatted: true }
