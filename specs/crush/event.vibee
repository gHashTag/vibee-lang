# event.vibee - Event/Analytics Module
# Author: Dmitrii Vasilev
# Source: github.com/charmbracelet/crush/internal/event

name: event
version: "1.0.0"
language: zig
module: event

sacred_formula:
  V: "n × 3^k × π^m × φ^p × e^q"
  golden_identity: "φ² + 1/φ² = 3"

creation_pattern:
  source: EventData
  transformer: EventTracker
  result: TrackedEvent

behaviors:
  - name: init
    given: "Application start"
    when: "Init is called"
    then: "Event tracker initialized"

  - name: send
    given: "Event name and properties"
    when: "send is called"
    then: "Event is tracked"

  - name: error
    given: "Error occurred"
    when: "Error is called"
    then: "Error event is tracked"

  - name: flush
    given: "Pending events"
    when: "Flush is called"
    then: "All events are sent"

dependencies:
  - "posthog"
  - "runtime"
