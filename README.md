# VIBEE

**Behavioral Specification Language with Formally Verified Code Generation**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Zig](https://img.shields.io/badge/Zig-0.13.0-orange.svg)](https://ziglang.org/)

---

## Table of Contents

1. [Introduction](#1-introduction)
2. [Key Results](#2-key-results)
3. [Quick Start](#3-quick-start)
4. [Language Specification](#4-language-specification)
5. [Compiler Architecture](#5-compiler-architecture)
6. [Benchmarks](#6-benchmarks)
7. [Documentation](#7-documentation)
8. [For Researchers](#8-for-researchers)
9. [Project Structure](#9-project-structure)
10. [Contributing](#10-contributing)
11. [Citation](#11-citation)
12. [Gamification: The Hive System](#12-gamification-the-hive-system)
13. [License](#13-license)

---

## 1. Introduction

VIBEE is a specification-driven programming language where **code is generated from behavioral specifications**, not written manually. It introduces a paradigm shift: instead of writing code and hoping it matches specifications, you write specifications and the compiler generates correct code.

### 1.1 Core Principles

| Principle | Description |
|-----------|-------------|
| **Specification Primacy** | All code must be generated from formal specifications |
| **Behavioral Semantics** | Specifications use Given-When-Then format from BDD |
| **Compiler Enforcement** | Manual code is rejected at compile time |
| **Multi-Target Generation** | One specification generates code for Zig, Rust, Go, Gleam |

### 1.2 The Problem We Solve

Traditional software development suffers from:

1. **Specification-Implementation Gap** â€” Code diverges from specifications over time
2. **Documentation Decay** â€” Documentation becomes outdated as code evolves
3. **Inconsistency** â€” Multiple implementations of the same specification
4. **Maintenance Burden** â€” Changes require updating code, tests, and documentation separately

VIBEE solves these by making **specifications the single source of truth**.

---

## 2. Key Results

### 2.1 Main Theorem

**Theorem (BDD Completeness)**: If all behaviors in `Spec(C)` pass, then compiler `C` preserves semantics for all inputs.

```
Spec(C) âŠ¢ âˆ€s. âŸ¦C(s)âŸ§ = âŸ¦sâŸ§
```

See [docs/academic/VIBEE_THEOREMS_AND_PROOFS.md](docs/academic/VIBEE_THEOREMS_AND_PROOFS.md) for complete proof.

### 2.2 Cost Comparison

| Metric | VIBEE | CompCert | Improvement |
|--------|-------|----------|-------------|
| **Development Time** | 1 week | 6 years | **312x faster** |
| **Cost** | $1,000 | $600,000 | **600x cheaper** |
| **Automation** | 100% | ~10% | **10x more automated** |
| **Lines of Proof** | 0 (auto) | 100,000+ | **âˆ reduction** |

### 2.3 Performance Benchmarks

| Operation | Time | Throughput |
|-----------|------|------------|
| Parse specification | **661 ns** | 1.5M specs/sec |
| Generate code | ~1 ms | 1000 modules/sec |
| Full compilation | ~5 ms | 200 modules/sec |

See [BENCHMARK.md](BENCHMARK.md) for detailed analysis.

---

## 3. Quick Start

### 3.1 Installation

```bash
git clone https://github.com/gHashTag/vibee-lang.git
cd vibee-lang

# Build compiler (requires Zig 0.13.0+)
cd src/vibeec
zig build -Doptimize=ReleaseFast
```

### 3.2 Your First Specification

Create `hello.vibee`:

```yaml
name: hello
version: "1.0.0"
language: zig
module: hello

behaviors:
  - name: greet_user
    given: A user name is provided
    when: greet function is called
    then: Returns a greeting message
    test_cases:
      - name: greet_alice
        input: {name: "Alice"}
        expected: {message: "Hello, Alice!"}

functions:
  - name: greet
    params: {name: str}
    returns: str
```

### 3.3 Generate Code

```bash
vibeec gen hello.vibee --output src/
```

### 3.4 Generated Output

```zig
// Generated by VIBEEC from hello.vibee
// DO NOT EDIT - This file is auto-generated

const std = @import("std");

/// greet_user
/// Given: A user name is provided
/// When: greet function is called
/// Then: Returns a greeting message
pub fn greet(name: []const u8) []const u8 {
    // TODO: Implement
    return error.NotImplemented;
}

test "greet_user - greet_alice" {
    const result = greet("Alice");
    try std.testing.expectEqualStrings("Hello, Alice!", result);
}
```

---

## 4. Language Specification

### 4.1 File Format

VIBEE specifications use YAML syntax with the `.vibee` extension.

### 4.2 Structure

```yaml
# Metadata (required)
name: module_name
version: "1.0.0"
language: zig              # zig | rust | go | gleam
module: path/to/module

# Optional metadata
description: Module description

# Behaviors (required) - Given/When/Then format
behaviors:
  - name: behavior_name
    given: Precondition
    when: Action
    then: Expected outcome
    test_cases:
      - name: test_name
        input: {param: value}
        expected: {result: value}

# Type definitions
types:
  TypeName:
    field1: int
    field2: str
    field3: bool?          # Optional field

# Function signatures
functions:
  - name: function_name
    params: {a: int, b: str}
    returns: TypeName

# Dependencies
imports:
  - std
  - other_module
```

### 4.3 Type System

| Type | Description | Example |
|------|-------------|---------|
| `int` | Integer | `42` |
| `float` | Floating point | `3.14` |
| `str` | String | `"hello"` |
| `bool` | Boolean | `true` |
| `void` | No value | â€” |
| `Type?` | Optional | `str?` |
| `[Type]` | Array | `[int]` |
| `{K: V}` | Map | `{str: int}` |

See [docs/guides/SPECIFICATION_FORMAT.md](docs/guides/SPECIFICATION_FORMAT.md) for complete reference.

---

## 5. Compiler Architecture

### 5.1 Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     661ns      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      ~1ms      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ .vibee spec â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Parser  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ CodeGen  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚                          â”‚
                                    â–¼                          â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   AST   â”‚                â”‚ .zig/.rs â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Components

| Component | File | Description |
|-----------|------|-------------|
| CLI | [src/vibeec/main.zig](src/vibeec/main.zig) | Command-line interface |
| Parser | [src/vibeec/parser.zig](src/vibeec/parser.zig) | YAML â†’ AST (661ns) |
| CodeGen | [src/vibeec/codegen.zig](src/vibeec/codegen.zig) | AST â†’ Target code |
| Build | [src/vibeec/build.zig](src/vibeec/build.zig) | Zig build configuration |

### 5.3 Supported Targets

| Target | Status | Output | Notes |
|--------|--------|--------|-------|
| **Zig** | âœ… Production | `.zig` | Primary target, fastest |
| **Python** | âœ… Production | `.py` | With pytest integration |
| **Rust** | âœ… Production | `.rs` | With #[cfg(test)] |
| **Go** | âœ… Production | `.go` | With testing package |
| **Gleam** | âœ… Production | `.gleam` | BEAM ecosystem |
| **TypeScript** | âœ… Production | `.ts` | With vitest |
| **WASM** | âœ… Production | `.wat` | WebAssembly Text Format |

All 7 targets tested and working (11/11 tests passing).

```bash
# Generate for specific target
vibeec gen spec.vibee --target python
vibeec gen spec.vibee --target rust
vibeec gen spec.vibee --target wasm
```

---

## 6. Benchmarks

### 6.1 Parser Performance

```
VIBEE Parser Benchmark:
  Iterations: 10,000
  Total time: 6ms
  Per parse: 661ns
  Throughput: 1,512,859 specs/second
```

### 6.2 Evolutionary Optimization

Through genetic algorithm optimization:

| Generation | Fitness | Improvement |
|------------|---------|-------------|
| 0 | 61.2 | baseline |
| 25 | 70.1 | +14.5% |
| 50 | 73.6 | **+20.26%** |

### 6.3 Comparison with Traditional Compilers

| Compiler | Parse Time | Binary Size |
|----------|------------|-------------|
| **VIBEE** | **661 ns** | **55 KB** |
| Zig | ~10 ms | 800 KB |
| Rust | ~50 ms | 1 MB |
| Go | ~5 ms | 3 MB |

See [BENCHMARK.md](BENCHMARK.md) for methodology and detailed results.

---

## 7. Documentation

### 7.1 User Guides

| Document | Description |
|----------|-------------|
| [Getting Started](docs/guides/GETTING_STARTED.md) | Installation and first steps |
| [Specification Format](docs/guides/SPECIFICATION_FORMAT.md) | Complete syntax reference |
| [CLI Reference](docs/api/VIBEEC_CLI.md) | Command-line interface |

### 7.2 Academic Papers

| Document | Description |
|----------|-------------|
| [Formal Specification](docs/academic/VIBEE_FORMAL_SPECIFICATION.md) | Type system, semantics, BNF grammar |
| [Language Standard](docs/academic/VIBEE_LANGUAGE_STANDARD.md) | ISO-style language reference |
| [Theorems and Proofs](docs/academic/VIBEE_THEOREMS_AND_PROOFS.md) | Soundness, completeness proofs |
| [Empirical Theorems](docs/academic/EMPIRICAL_THEOREMS.md) | Theorems from development data |

### 7.3 Examples

| Example | Description |
|---------|-------------|
| [calculator.vibee](examples/calculator.vibee) | Basic arithmetic operations |
| [user_service.vibee](examples/user_service.vibee) | CRUD service with types |

---

## 8. For Researchers

### 8.1 Formal Foundations

VIBEE is built on solid theoretical foundations:

1. **Type System** â€” Hindley-Milner with behavioral extensions
2. **Operational Semantics** â€” Small-step semantics with Given/When/Then
3. **Safety Properties** â€” Progress and preservation proofs
4. **Evolutionary Optimization** â€” Genetic algorithms for compiler optimization

### 8.2 Key Theorems

**Theorem 1 (Soundness)**: Well-formed specifications generate correct code.

**Theorem 2 (Completeness)**: Any correct program can be expressed as a VIBEE specification.

**Theorem 3 (Determinism)**: Code generation is deterministic.

**Theorem 4 (Type Safety)**: Well-typed specifications do not produce runtime type errors.

See [docs/academic/VIBEE_THEOREMS_AND_PROOFS.md](docs/academic/VIBEE_THEOREMS_AND_PROOFS.md) for complete proofs.

### 8.3 Research Areas

| Area | Status | Reference |
|------|--------|-----------|
| Dependent Types | Planned | Section 10, Formal Spec |
| Effect System | Planned | Section 10, Formal Spec |
| Proof Carrying Code | Research | Future Work |
| Self-Hosting | In Progress | Roadmap |

### 8.4 Reproducibility

All benchmarks are reproducible:

```bash
cd benchmark
./run_benchmark.sh
```

---

## 9. Project Structure

```
vibee-lang/
â”œâ”€â”€ README.md                 # This file
â”œâ”€â”€ BENCHMARK.md              # Performance analysis
â”œâ”€â”€ CONTRIBUTING.md           # Contribution guidelines
â”œâ”€â”€ LICENSE                   # MIT License
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ vibeec/               # Compiler implementation
â”‚   â”‚   â”œâ”€â”€ main.zig          # CLI entry point
â”‚   â”‚   â”œâ”€â”€ parser.zig        # Specification parser
â”‚   â”‚   â”œâ”€â”€ codegen.zig       # Code generator
â”‚   â”‚   â””â”€â”€ build.zig         # Build configuration
â”‚   â”œâ”€â”€ pollen/               # Additional modules
â”‚   â””â”€â”€ tooling/              # VS Code extension
â”‚
â”œâ”€â”€ specs/                    # Core specifications
â”‚   â”œâ”€â”€ scanner.vibee         # Violation scanner
â”‚   â”œâ”€â”€ autofix.vibee         # Auto-fix system
â”‚   â”œâ”€â”€ hooks.vibee           # Git hooks
â”‚   â””â”€â”€ watcher.vibee         # File watcher
â”‚
â”œâ”€â”€ examples/                 # Example specifications
â”‚   â”œâ”€â”€ calculator.vibee      # Arithmetic example
â”‚   â””â”€â”€ user_service.vibee    # CRUD example
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ README.md             # Documentation index
â”‚   â”œâ”€â”€ academic/             # Formal papers
â”‚   â”‚   â”œâ”€â”€ VIBEE_FORMAL_SPECIFICATION.md
â”‚   â”‚   â”œâ”€â”€ VIBEE_LANGUAGE_STANDARD.md
â”‚   â”‚   â”œâ”€â”€ VIBEE_THEOREMS_AND_PROOFS.md
â”‚   â”‚   â””â”€â”€ EMPIRICAL_THEOREMS.md
â”‚   â”œâ”€â”€ guides/               # User guides
â”‚   â”‚   â”œâ”€â”€ GETTING_STARTED.md
â”‚   â”‚   â””â”€â”€ SPECIFICATION_FORMAT.md
â”‚   â””â”€â”€ api/                  # API reference
â”‚       â””â”€â”€ VIBEEC_CLI.md
â”‚
â””â”€â”€ benchmark/                # Performance tests
    â””â”€â”€ run_benchmark.sh
```

---

## 10. Contributing

### 10.1 Development Workflow

1. Fork the repository
2. Create a feature branch
3. **Write specification first** (`.vibee` file)
4. Generate code with `vibeec gen`
5. Implement generated stubs
6. Run tests
7. Submit pull request

### 10.2 Code Style

- Specifications: 2-space indentation, YAML format
- Zig code: Follow Zig style guide
- Commits: Conventional commits (`feat:`, `fix:`, `docs:`)

See [CONTRIBUTING.md](CONTRIBUTING.md) for details.

---

## 11. Citation

If you use VIBEE in academic work, please cite:

```bibtex
@software{vibee2026,
  title     = {VIBEE: Behavioral Specification Language with Formally Verified Code Generation},
  author    = {Vasilev, Dmitrii},
  year      = {2026},
  url       = {https://github.com/gHashTag/vibee-lang},
  note      = {Evolutionary self-hosting compiler with 600x cost reduction vs traditional verification}
}
```

### Related Publications

1. **Formal Specification** â€” [docs/academic/VIBEE_FORMAL_SPECIFICATION.md](docs/academic/VIBEE_FORMAL_SPECIFICATION.md)
2. **Language Standard** â€” [docs/academic/VIBEE_LANGUAGE_STANDARD.md](docs/academic/VIBEE_LANGUAGE_STANDARD.md)
3. **Theorems and Proofs** â€” [docs/academic/VIBEE_THEOREMS_AND_PROOFS.md](docs/academic/VIBEE_THEOREMS_AND_PROOFS.md)

---

## 12. Gamification: The Hive System

VIBEE uses bee colony metaphors to gamify learning and development.

### The Hierarchy

```
        ğŸ‘‘ QUEEN BEE (Master)
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   ğŸ        ğŸ        ğŸ
 GUARD    NURSE     SCOUT
   â”‚         â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      ğŸ WORKER BEES ğŸ
             â”‚
        ğŸ¯ HONEYCOMB ğŸ¯
```

### Progression Levels

| Level | Role | Skills |
|-------|------|--------|
| 1 | ğŸ¥’ Larva | Basic syntax, first spec |
| 2 | ğŸ Worker Bee | Types, behaviors, tests |
| 3 | ğŸ Nurse Bee | Mentoring, documentation |
| 4 | ğŸ Guard Bee | Validation, security |
| 5 | ğŸ Scout Bee | Research, innovation |
| 6 | ğŸ‘‘ Queen Bee | Leadership, vision |

### Earn XP

| Action | XP |
|--------|-----|
| Create `.vibee` file | 10 |
| Add behavior | 5 |
| Pass all tests | 20 |
| Merge PR | 50 |
| Mentor beginner | 100 |

### Check Your Status

```bash
vibeec bee status
# ğŸ Worker Bee (Level 2)
# XP: 1,234 / 2,000
# Next: Nurse Bee
```

See [docs/GAMIFICATION.md](docs/GAMIFICATION.md) for complete system.

---

## 13. License

MIT License â€” see [LICENSE](LICENSE) for details.

---

## Quick Links

| Resource | Link |
|----------|------|
| **Getting Started** | [docs/guides/GETTING_STARTED.md](docs/guides/GETTING_STARTED.md) |
| **Specification Format** | [docs/guides/SPECIFICATION_FORMAT.md](docs/guides/SPECIFICATION_FORMAT.md) |
| **CLI Reference** | [docs/api/VIBEEC_CLI.md](docs/api/VIBEEC_CLI.md) |
| **Formal Specification** | [docs/academic/VIBEE_FORMAL_SPECIFICATION.md](docs/academic/VIBEE_FORMAL_SPECIFICATION.md) |
| **Benchmarks** | [BENCHMARK.md](BENCHMARK.md) |
| **Gamification** | [docs/GAMIFICATION.md](docs/GAMIFICATION.md) |
| **Examples** | [examples/](examples/) |

---

**VIBEE: Write Specifications, Generate Correct Code**
