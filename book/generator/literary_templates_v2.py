#!/usr/bin/env python3
"""
Ğ›Ğ˜Ğ¢Ğ•Ğ ĞĞ¢Ğ£Ğ ĞĞ«Ğ• Ğ¨ĞĞ‘Ğ›ĞĞĞ« v2.0
PAS-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ´Ğ»Ñ ĞšĞ½Ğ¸Ğ³Ğ¸ 999

Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒĞµÑ‚:
- Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ñ‹Ğµ Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ V = n Ã— 3^k Ã— Ï€^m Ğ¸ V = n Ã— 3^k Ã— Ï€^m Ã— Ï†^p
- 18 Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ² PAS
- Ğ¢Ñ€Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ (Ğ˜Ğ½Ñ‚ÑƒĞ¸Ñ†Ğ¸Ñ, ĞĞ½Ğ°Ğ»Ğ¸Ğ·, Ğ¡Ğ¸Ğ½Ñ‚ĞµĞ·)
- ĞĞ°ÑƒÑ‡Ğ½Ñ‹Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ storytelling

Author: Dmitrii Vasilev
Email: reactnativeinitru@gmail.com
"""

import math
from dataclasses import dataclass
from typing import List, Optional
from enum import Enum

# Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹
Ï€ = math.pi
Ï† = (1 + math.sqrt(5)) / 2
e = math.e

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¡Ğ’Ğ¯Ğ©Ğ•ĞĞĞ«Ğ• Ğ¤ĞĞ ĞœĞ£Ğ›Ğ«
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def sacred_formula_simple(n: int, k: int, m: int) -> float:
    """V = n Ã— 3^k Ã— Ï€^m"""
    return n * (3 ** k) * (Ï€ ** m)

def sacred_formula_full(n: int, k: int, m: int, p: int) -> float:
    """V = n Ã— 3^k Ã— Ï€^m Ã— Ï†^p"""
    return n * (3 ** k) * (Ï€ ** m) * (Ï† ** p)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¢Ğ Ğ˜ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ« Ğ’ĞĞ¡ĞŸĞ Ğ˜Ğ¯Ğ¢Ğ˜Ğ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class PerceptionSystem(Enum):
    """Ğ¢Ñ€Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ (Ğ¿Ğ¾ ĞšĞ°Ğ½ĞµĞ¼Ğ°Ğ½Ñƒ + Ğ¢Ñ€Ğ¾Ğ¸Ñ†Ğ°)"""
    INTUITION = ("Ğ˜Ğ½Ñ‚ÑƒĞ¸Ñ†Ğ¸Ñ", "Ğ¡ĞºĞ°Ğ·ĞºĞ°", "Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ, Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ")
    ANALYSIS = ("ĞĞ½Ğ°Ğ»Ğ¸Ğ·", "ĞĞ°ÑƒĞºĞ°", "ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾Ğµ, Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ")
    SYNTHESIS = ("Ğ¡Ğ¸Ğ½Ñ‚ĞµĞ·", "ĞœÑƒĞ´Ñ€Ğ¾ÑÑ‚ÑŒ", "Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ")

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¨ĞĞ‘Ğ›ĞĞĞ« Ğ“Ğ›ĞĞ’
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

@dataclass
class ChapterTemplate:
    """PAS-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½ Ğ³Ğ»Ğ°Ğ²Ñ‹"""
    
    # ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    number: int
    title_ru: str
    title_en: str
    
    # Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°
    sacred_n: int
    sacred_k: int
    sacred_m: int
    sacred_p: int
    
    # Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ñ‹)
    intro_percent: float = 20.0  # Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ
    body_percent: float = 60.0   # Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ
    outro_percent: float = 20.0  # Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ
    
    def get_sacred_value_simple(self) -> float:
        return sacred_formula_simple(self.sacred_n, self.sacred_k, self.sacred_m)
    
    def get_sacred_value_full(self) -> float:
        return sacred_formula_full(self.sacred_n, self.sacred_k, self.sacred_m, self.sacred_p)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¡ĞšĞĞ—ĞĞ§ĞĞ«Ğ• Ğ—ĞĞ§Ğ˜ĞĞ« (Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° 1: Ğ˜Ğ½Ñ‚ÑƒĞ¸Ñ†Ğ¸Ñ)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FAIRY_TALE_OPENINGS = {
    "classic": [
        "Ğ’ Ñ‚Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚Ğ¾Ğ¼ Ñ†Ğ°Ñ€ÑÑ‚Ğ²Ğµ, Ğ² Ñ‚Ñ€Ğ¸Ğ´ĞµÑÑÑ‚Ğ¾Ğ¼ Ğ³Ğ¾ÑÑƒĞ´Ğ°Ñ€ÑÑ‚Ğ²Ğµ Ğ¶Ğ¸Ğ»-Ğ±Ñ‹Ğ» Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸ÑÑ‚...",
        "Ğ”Ğ°Ğ²Ğ½Ñ‹Ğ¼-Ğ´Ğ°Ğ²Ğ½Ğ¾, ĞºĞ¾Ğ³Ğ´Ğ° ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ñ‹ ĞµÑ‰Ñ‘ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ğ»Ğ¸ Ğ½Ğ° ÑĞ·Ñ‹ĞºĞµ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ† Ğ¸ Ğ½ÑƒĞ»ĞµĞ¹...",
        "Ğ—Ğ° Ñ‚Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚ÑŒ Ğ·ĞµĞ¼ĞµĞ»ÑŒ, Ğ·Ğ° Ñ‚Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚ÑŒ Ğ¼Ğ¾Ñ€ĞµĞ¹ ÑÑ‚Ğ¾ÑĞ» Ñ‚ĞµÑ€ĞµĞ¼ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ¾Ğ²...",
    ],
    "quest": [
        "ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑÑ Ğ˜Ğ²Ğ°Ğ½-Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸ÑÑ‚ Ğ² Ğ¿ÑƒÑ‚ÑŒ-Ğ´Ğ¾Ñ€Ğ¾Ğ³Ñƒ Ğ¸ÑĞºĞ°Ñ‚ÑŒ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼...",
        "ĞŸÑ€Ğ¸ÑˆĞ»Ğ° Ğº Ğ˜Ğ²Ğ°Ğ½Ñƒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° Ğ½ĞµĞ¿Ñ€Ğ¾ÑÑ‚Ğ°Ñ, Ğ´Ğ° Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ½ĞµÑ‡ĞµĞ³Ğ¾ â€” Ğ½Ğ°Ğ´Ğ¾ Ñ€ĞµÑˆĞ°Ñ‚ÑŒ...",
        "Ğ¡Ñ‚Ğ¾Ğ¸Ñ‚ Ğ˜Ğ²Ğ°Ğ½ Ğ½Ğ° Ñ€Ğ°ÑĞ¿ÑƒÑ‚ÑŒĞµ Ñ‚Ñ€Ñ‘Ñ… Ğ´Ğ¾Ñ€Ğ¾Ğ³, Ğ¸ Ğ½Ğ° ĞºĞ°Ğ¼Ğ½Ğµ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾...",
    ],
    "discovery": [
        "ĞĞ´Ğ½Ğ°Ğ¶Ğ´Ñ‹ Ğ˜Ğ²Ğ°Ğ½ Ğ·Ğ°Ğ³Ğ»ÑĞ½ÑƒĞ» Ğ² ĞºĞ¾Ğ´ Ğ´Ñ€ĞµĞ²Ğ½Ğ¸Ğ¹ Ğ¸ ÑƒĞ²Ğ¸Ğ´ĞµĞ» Ñ‚Ğ°Ğ¼ Ñ‡ÑƒĞ´Ğ¾ Ñ‡ÑƒĞ´Ğ½Ğ¾Ğµ...",
        "ĞÑ‚ĞºÑ€Ñ‹Ğ» Ğ˜Ğ²Ğ°Ğ½ ĞºĞ½Ğ¸Ğ³Ñƒ Ğ¼ÑƒĞ´Ñ€Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾Ñ‡Ñ‘Ğ» Ñ‚Ğ°Ğ¼ ÑĞ»Ğ¾Ğ²Ğ° Ğ·Ğ°Ğ²ĞµÑ‚Ğ½Ñ‹Ğµ...",
        "Ğ¯Ğ²Ğ¸Ğ»Ğ°ÑÑŒ Ğ˜Ğ²Ğ°Ğ½Ñƒ Ğ²Ğ¾ ÑĞ½Ğµ Ğ’Ğ°ÑĞ¸Ğ»Ğ¸ÑĞ° ĞŸÑ€ĞµĞ¼ÑƒĞ´Ñ€Ğ°Ñ Ğ¸ Ğ¼Ğ¾Ğ»Ğ²Ğ¸Ğ»Ğ°...",
    ],
    "challenge": [
        "ĞŸÑ€Ğ¸Ğ·Ğ²Ğ°Ğ» Ñ†Ğ°Ñ€ÑŒ-Ğ·Ğ°ĞºĞ°Ğ·Ñ‡Ğ¸Ğº Ğ˜Ğ²Ğ°Ğ½Ğ° Ğ¸ Ğ´Ğ°Ğ» ĞµĞ¼Ñƒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ½ĞµĞ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ğ¼ÑƒÑ...",
        "ĞĞ°Ğ¿Ğ°Ğ» Ğ½Ğ° Ñ†Ğ°Ñ€ÑÑ‚Ğ²Ğ¾ ĞšĞ¾Ñ‰ĞµĞ¹-Ğ±Ğ°Ğ³ Ğ±ĞµÑÑĞ¼ĞµÑ€Ñ‚Ğ½Ñ‹Ğ¹, Ğ¸ Ğ½Ğ¸ĞºÑ‚Ğ¾ Ğ½Ğµ Ğ¼Ğ¾Ğ³ ĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒ...",
        "Ğ¢Ñ€Ğ¸ Ğ´Ğ½Ñ Ğ¸ Ñ‚Ñ€Ğ¸ Ğ½Ğ¾Ñ‡Ğ¸ Ğ±Ğ¸Ğ»ÑÑ Ğ˜Ğ²Ğ°Ğ½ Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡ĞµĞ¹, Ğ´Ğ° Ğ²ÑÑ‘ Ğ±ĞµĞ· Ñ‚Ğ¾Ğ»ĞºÑƒ...",
    ],
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ¢Ğ•Ğ¥ĞĞ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• ĞĞ‘ĞªĞ¯Ğ¡ĞĞ•ĞĞ˜Ğ¯ (Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° 2: ĞĞ½Ğ°Ğ»Ğ¸Ğ·)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TECHNICAL_TEMPLATES = {
    "definition": """
## ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ

**{concept}** â€” ÑÑ‚Ğ¾ {definition}.

```
Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾:
{formula}
```
""",
    
    "algorithm": """
## ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼

```vibee
{code}
```

**Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ**: O({complexity})
**ĞŸĞ°Ğ¼ÑÑ‚ÑŒ**: O({memory})
""",
    
    "comparison": """
## Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ

| Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ° | {option1} | {option2} | {option3} |
|----------------|-----------|-----------|-----------|
| Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ | {c1} | {c2} | {c3} |
| ĞŸĞ°Ğ¼ÑÑ‚ÑŒ | {m1} | {m2} | {m3} |
| ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾ | {p1} | {p2} | {p3} |
""",
    
    "sacred_formula": """
## Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ğ°Ñ Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°

$$V = n \\times 3^k \\times \\pi^m \\times \\varphi^p$$

Ğ”Ğ»Ñ ÑÑ‚Ğ¾Ğ¹ Ğ³Ğ»Ğ°Ğ²Ñ‹:
- n = {n}
- k = {k}
- m = {m}
- p = {p}

$$V = {n} \\times 3^{{{k}}} \\times \\pi^{{{m}}} \\times \\varphi^{{{p}}} \\approx {value:.6f}$$
""",
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞœĞ£Ğ”Ğ ĞĞ¡Ğ¢Ğ˜ (Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° 3: Ğ¡Ğ¸Ğ½Ñ‚ĞµĞ·)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WISDOM_TEMPLATES = {
    "insight": """
> *Ğ˜ Ğ¿Ğ¾Ğ½ÑĞ» Ğ˜Ğ²Ğ°Ğ½-Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸ÑÑ‚ {ordinal} Ğ¸ÑÑ‚Ğ¸Ğ½Ñƒ:*
>
> *{wisdom_line1}*
> *{wisdom_line2}*
> *{wisdom_line3}*
>
> *Ğ”Ñ€ĞµĞ²Ğ½Ğ¸Ğµ Ğ·Ğ½Ğ°Ğ»Ğ¸ ÑÑ‚Ğ¾ Ğ¸Ğ½Ñ‚ÑƒĞ¸Ñ‚Ğ¸Ğ²Ğ½Ğ¾.*
> *ĞœÑ‹ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ğ»Ğ¸ ÑÑ‚Ğ¾ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸.*
""",
    
    "connection": """
> *Ğ˜ ÑƒĞ²Ğ¸Ğ´ĞµĞ» Ğ˜Ğ²Ğ°Ğ½ ÑĞ²ÑĞ·ÑŒ Ğ¼ĞµĞ¶Ğ´Ñƒ {concept1} Ğ¸ {concept2}:*
>
> *{connection_explanation}*
>
> *Ğ¢Ğ°Ğº ÑĞºĞ°Ğ·ĞºĞ° ÑÑ‚Ğ°Ğ»Ğ° Ğ½Ğ°ÑƒĞºĞ¾Ğ¹,*
> *Ğ° Ğ½Ğ°ÑƒĞºĞ° â€” ÑĞºĞ°Ğ·ĞºĞ¾Ğ¹.*
""",
    
    "transformation": """
> *Ğ˜ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ğ»ÑÑ Ğ˜Ğ²Ğ°Ğ½:*
>
> *Ğ‘Ñ‹Ğ» Ğ¾Ğ½ {before},*
> *ÑÑ‚Ğ°Ğ» Ğ¾Ğ½ {after}.*
>
> *Ğ˜Ğ±Ğ¾ Ğ¿Ğ¾Ğ·Ğ½Ğ°Ğ» Ğ¾Ğ½ ÑĞ¸Ğ»Ñƒ Ğ¢Ñ€Ğ¾Ğ¹ĞºĞ¸.*
""",
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ£ĞŸĞ ĞĞ–ĞĞ•ĞĞ˜Ğ¯ (Ğ¢Ñ€Ğ¸ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EXERCISE_TEMPLATES = {
    "simple": """
### âšª ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğµ

{task}

<details>
<summary>ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°</summary>
{hint}
</details>

<details>
<summary>Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ</summary>

```vibee
{solution}
```
</details>
""",
    
    "medium": """
### âš« Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğµ

{task}

**Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:**
- {req1}
- {req2}
- {req3}

<details>
<summary>Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ</summary>

```vibee
{solution}
```
</details>
""",
    
    "hard": """
### ğŸ”´ Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğµ (Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğµ)

{task}

**ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹:**
1. {question1}
2. {question2}
3. {question3}

*Ğ­Ñ‚Ğ¾ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğµ Ğ½Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°.*
""",
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞĞ›ĞĞ«Ğ™ Ğ¨ĞĞ‘Ğ›ĞĞ Ğ“Ğ›ĞĞ’Ğ«
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def generate_chapter(template: ChapterTemplate, 
                     fairy_opening: str,
                     technical_content: str,
                     wisdom: str,
                     exercises: List[str]) -> str:
    """Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ Ğ³Ğ»Ğ°Ğ²Ñƒ Ğ¿Ğ¾ PAS-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¼Ñƒ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñƒ"""
    
    sacred_simple = template.get_sacred_value_simple()
    sacred_full = template.get_sacred_value_full()
    
    chapter = f"""# Ğ“Ğ»Ğ°Ğ²Ğ° {template.number}: {template.title_ru}

*{template.title_en}*

---

## Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ñ‹Ğµ Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹

**ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ**: V = {template.sacred_n} Ã— 3^{template.sacred_k} Ã— Ï€^{template.sacred_m} â‰ˆ {sacred_simple:.4f}

**ĞŸĞ¾Ğ»Ğ½Ğ°Ñ**: V = {template.sacred_n} Ã— 3^{template.sacred_k} Ã— Ï€^{template.sacred_m} Ã— Ï†^{template.sacred_p} â‰ˆ {sacred_full:.4f}

---

## Ğ¡ĞºĞ°Ğ·Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ—Ğ°Ñ‡Ğ¸Ğ½

{fairy_opening}

---

{technical_content}

---

## Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ

{"".join(exercises)}

---

## ĞœÑƒĞ´Ñ€Ğ¾ÑÑ‚ÑŒ Ğ“Ğ»Ğ°Ğ²Ñ‹

{wisdom}

---

**Author**: Dmitrii Vasilev  
**Email**: reactnativeinitru@gmail.com

---

[â† ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ°Ñ Ğ³Ğ»Ğ°Ğ²Ğ°](chapter_{template.number-1:03d}.md) | [Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ°Ñ Ğ³Ğ»Ğ°Ğ²Ğ° â†’](chapter_{template.number+1:03d}.md)
"""
    return chapter

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ĞŸĞ Ğ˜ĞœĞ•Ğ Ğ« Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞĞ˜Ğ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def example_chapter_27():
    """ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ³Ğ»Ğ°Ğ²Ñ‹ 27 (Ğ¢Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾)"""
    
    template = ChapterTemplate(
        number=27,
        title_ru="Ğ¢Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚Ğ¾Ğµ Ğ§Ğ¸ÑĞ»Ğ¾",
        title_en="The Thrice-Nine Number",
        sacred_n=1,
        sacred_k=3,
        sacred_m=0,
        sacred_p=0,
    )
    
    fairy_opening = """
*Ğ’ Ñ‚Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚Ğ¾Ğ¼ Ñ†Ğ°Ñ€ÑÑ‚Ğ²Ğµ, Ğ² Ñ‚Ñ€Ğ¸Ğ´ĞµÑÑÑ‚Ğ¾Ğ¼ Ğ³Ğ¾ÑÑƒĞ´Ğ°Ñ€ÑÑ‚Ğ²Ğµ Ğ¶Ğ¸Ğ»-Ğ±Ñ‹Ğ» Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸ÑÑ‚ Ğ¿Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ˜Ğ²Ğ°Ğ½.*

*Ğ˜ Ğ±Ñ‹Ğ»Ğ¾ Ñƒ Ğ½ĞµĞ³Ğ¾ Ñ‚Ñ€Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸: ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ, Ğ¸ÑĞºĞ°Ñ‚ÑŒ Ğ² Ğ½Ğ¸Ñ… ÑĞ¼Ñ‹ÑĞ», Ğ¸ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¸Ñ… Ğ¼ÑƒĞ´Ñ€Ğ¾.*

*Ğ”Ğ¾Ğ»Ğ³Ğ¾ Ğ»Ğ¸, ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾ Ğ»Ğ¸, Ğ½Ğ¾ Ğ¿Ğ¾Ğ½ÑĞ» Ğ¾Ğ½, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ñ‚Ñ€Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ ÑĞ²ÑĞ·Ğ°Ğ½Ñ‹ Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ¼ â€” Ñ‡Ğ¸ÑĞ»Ğ¾Ğ¼ 27.*

*Â«ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ 27?Â» â€” ÑĞ¿Ñ€Ğ¾ÑĞ¸Ğ» Ğ˜Ğ²Ğ°Ğ½ Ñƒ Ğ’Ğ°ÑĞ¸Ğ»Ğ¸ÑÑ‹ ĞŸÑ€ĞµĞ¼ÑƒĞ´Ñ€Ğ¾Ğ¹.*

*Â«ĞŸĞ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ 27 = 3Â³,Â» â€” Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ğ»Ğ° Ğ¾Ğ½Ğ°. â€” Â«Ğ­Ñ‚Ğ¾ ĞºÑƒĞ± Ñ‚Ñ€Ğ¾Ğ¹ĞºĞ¸, Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ.Â»*
"""
    
    technical_content = """
## Ğ§Ğ¸ÑĞ»Ğ¾ 27 Ğ² ĞœĞ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞµ

```
27 = 3Â³ = 3 Ã— 3 Ã— 3

Ğ¡Ğ²Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°:
- ĞšÑƒĞ± Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ³Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ°
- Ğ¡ÑƒĞ¼Ğ¼Ğ° Ñ†Ğ¸Ñ„Ñ€: 2 + 7 = 9 = 3Â²
- Ğ’ Ñ‚Ñ€Ğ¾Ğ¸Ñ‡Ğ½Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ: 1000â‚ƒ
```

## Ğ§Ğ¸ÑĞ»Ğ¾ 27 Ğ² ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ°Ñ…

**ĞŸĞ¾Ñ€Ğ¾Ğ³ Trinity Sort**: ĞšĞ¾Ğ³Ğ´Ğ° Ğ¼Ğ°ÑÑĞ¸Ğ² Ğ¼ĞµĞ½ÑŒÑˆĞµ 27 ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ², 
Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ÑÑ Ğ½Ğ° insertion sort.

```vibee
fn trinity_sort<T: Ord>(arr: &mut [T]) {
    if arr.len() <= 27 {  // ĞœĞ°Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ñ€Ğ¾Ğ³!
        insertion_sort(arr);
        return;
    }
    // 3-way partition...
}
```

## Ğ§Ğ¸ÑĞ»Ğ¾ 27 Ğ² ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğµ

- **Ğ¢Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚Ğ¾Ğµ Ñ†Ğ°Ñ€ÑÑ‚Ğ²Ğ¾**: 3 Ã— 9 = 27
- **ĞĞ»Ñ„Ğ°Ğ²Ğ¸Ñ‚ Ğ¢Ñ€Ğ¸Ğ´ĞµĞ²ÑÑ‚Ğ¸Ñ†Ğ°**: 27 Ğ±ÑƒĞºĞ²
- **ĞšÑƒĞ±Ğ¸Ğº Ğ ÑƒĞ±Ğ¸ĞºĞ°**: 27 ĞºÑƒĞ±Ğ¸ĞºĞ¾Ğ² (3Â³)
"""
    
    wisdom = WISDOM_TEMPLATES["insight"].format(
        ordinal="Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ ÑĞµĞ´ÑŒĞ¼ÑƒÑ",
        wisdom_line1="27 = 3Â³ â€” ÑÑ‚Ğ¾ Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ñ‡Ğ¸ÑĞ»Ğ¾,",
        wisdom_line2="ÑÑ‚Ğ¾ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°, ÑÑ‚Ğ¾ Ğ¿Ğ¾Ñ€Ğ¾Ğ³, ÑÑ‚Ğ¾ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°.",
        wisdom_line3="Ğ—Ğ° Ğ½ĞµĞ¹ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ñ†Ğ°Ñ€ÑÑ‚Ğ²Ğ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸.",
    )
    
    exercises = [
        EXERCISE_TEMPLATES["simple"].format(
            task="Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚Ğµ 3â´ Ğ¸ Ğ¾Ğ±ÑŠÑÑĞ½Ğ¸Ñ‚Ğµ, Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ 81.",
            hint="3â´ = 3 Ã— 3 Ã— 3 Ã— 3",
            solution="let result = 3 * 3 * 3 * 3;  // 81\nprintln!(\"{}\", result);",
        ),
        EXERCISE_TEMPLATES["medium"].format(
            task="ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚, ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ»Ğ¸ Ñ‡Ğ¸ÑĞ»Ğ¾ ÑÑ‚ĞµĞ¿ĞµĞ½ÑŒÑ Ñ‚Ñ€Ğ¾Ğ¹ĞºĞ¸.",
            req1="Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ u64",
            req2="Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ bool",
            req3="Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ·Ğ° O(log n)",
            solution="fn is_power_of_three(n: u64) -> bool {\n    if n == 0 { return false; }\n    let mut x = n;\n    while x % 3 == 0 { x /= 3; }\n    x == 1\n}",
        ),
        EXERCISE_TEMPLATES["hard"].format(
            task="Ğ˜ÑÑĞ»ĞµĞ´ÑƒĞ¹Ñ‚Ğµ, Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ğ¿Ğ¾Ñ€Ğ¾Ğ³ 27 Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ĞµĞ½ Ğ´Ğ»Ñ Trinity Sort.",
            question1="ĞšĞ°Ğº Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑÑ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğµ 9?",
            question2="ĞšĞ°Ğº Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑÑ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğµ 81?",
            question3="Ğ¡ÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ»Ğ¸ Ñ‚ĞµĞ¾Ñ€ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ?",
        ),
    ]
    
    return generate_chapter(template, fairy_opening, technical_content, wisdom, exercises)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MAIN
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if __name__ == "__main__":
    print("=" * 70)
    print("Ğ›Ğ˜Ğ¢Ğ•Ğ ĞĞ¢Ğ£Ğ ĞĞ«Ğ• Ğ¨ĞĞ‘Ğ›ĞĞĞ« v2.0")
    print("PAS-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ´Ğ»Ñ ĞšĞ½Ğ¸Ğ³Ğ¸ 999")
    print("=" * 70)
    
    # Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ
    print("\nğŸ“– ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ³Ğ»Ğ°Ğ²Ñ‹ 27:")
    print("-" * 70)
    chapter_27 = example_chapter_27()
    print(chapter_27[:2000] + "...\n[truncated]")
    
    # Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹
    print("\nğŸ“ Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ñ‹Ğµ Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹:")
    print(f"V = 27 Ã— 3^0 Ã— Ï€^0 = {sacred_formula_simple(27, 0, 0)}")
    print(f"V = 37 Ã— 3^3 Ã— Ï€^0 Ã— Ï†^0 = {sacred_formula_full(37, 3, 0, 0)} (= 999!)")
    print(f"V = 1 Ã— 3^3 Ã— Ï€^1 Ã— Ï†^1 = {sacred_formula_full(1, 3, 1, 1):.4f}")
    
    print("\nâœ… Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹ Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ!")
