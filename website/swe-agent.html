<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibee SWE Agent - AI Coding Assistant</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #0f172a; --panel: #1e293b; --accent: #6366f1; --cyan: #22d3ee; --green: #10b981; --text: #e2e8f0; --muted: #64748b; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); height: 100vh; display: flex; }
        .sidebar { width: 280px; background: var(--panel); border-right: 1px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; }
        .logo { padding: 20px; font-size: 20px; font-weight: bold; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .logo span { color: var(--accent); }
        .nav { flex: 1; padding: 15px; }
        .nav-item { padding: 12px 15px; border-radius: 8px; cursor: pointer; margin-bottom: 5px; display: flex; align-items: center; gap: 10px; }
        .nav-item:hover, .nav-item.active { background: rgba(99,102,241,0.2); }
        .nav-item.active { border-left: 3px solid var(--accent); }
        .main { flex: 1; display: flex; flex-direction: column; }
        .header { padding: 15px 25px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: space-between; align-items: center; }
        .header h1 { font-size: 18px; }
        .status { display: flex; align-items: center; gap: 8px; font-size: 13px; color: var(--green); }
        .status::before { content: ''; width: 8px; height: 8px; background: var(--green); border-radius: 50%; }
        .content { flex: 1; display: flex; overflow: hidden; }
        .chat-panel { flex: 1; display: flex; flex-direction: column; }
        .messages { flex: 1; overflow-y: auto; padding: 20px; }
        .message { margin-bottom: 20px; display: flex; gap: 12px; }
        .message.user { flex-direction: row-reverse; }
        .avatar { width: 36px; height: 36px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; flex-shrink: 0; }
        .message.assistant .avatar { background: var(--accent); }
        .message.user .avatar { background: var(--cyan); }
        .msg-content { max-width: 70%; }
        .msg-bubble { padding: 12px 16px; border-radius: 12px; background: var(--panel); line-height: 1.6; }
        .message.user .msg-bubble { background: var(--accent); }
        .msg-time { font-size: 11px; color: var(--muted); margin-top: 5px; }
        .message.user .msg-time { text-align: right; }
        pre { background: #0a0a0a; padding: 12px; border-radius: 8px; overflow-x: auto; margin: 10px 0; font-family: 'Fira Code', monospace; font-size: 13px; }
        code { color: var(--cyan); }
        .input-area { padding: 20px; border-top: 1px solid rgba(255,255,255,0.1); }
        .input-box { display: flex; gap: 10px; background: var(--panel); border-radius: 12px; padding: 5px; }
        #input { flex: 1; background: transparent; border: none; color: var(--text); padding: 12px; font-size: 14px; outline: none; }
        .send-btn { background: var(--accent); border: none; color: white; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .send-btn:hover { background: #4f46e5; }
        .code-panel { width: 45%; border-left: 1px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; }
        .code-header { padding: 12px 15px; background: rgba(0,0,0,0.3); display: flex; justify-content: space-between; align-items: center; font-size: 13px; }
        .tabs { display: flex; gap: 5px; }
        .tab { padding: 6px 12px; border-radius: 5px; cursor: pointer; font-size: 12px; }
        .tab.active { background: var(--accent); }
        #editor { flex: 1; background: #0a0a0a; font-family: 'Fira Code', monospace; font-size: 13px; padding: 15px; color: var(--text); border: none; resize: none; outline: none; }
        .terminal { height: 150px; background: #000; border-top: 1px solid rgba(255,255,255,0.1); padding: 10px; font-family: 'Fira Code', monospace; font-size: 12px; overflow-y: auto; color: var(--green); }
        .typing { display: flex; gap: 4px; padding: 10px; }
        .typing span { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: bounce 1.4s infinite; }
        .typing span:nth-child(2) { animation-delay: 0.2s; }
        .typing span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce { 0%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-8px); } }
        .hidden { display: none; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code&display=swap" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <div class="logo">Vibee<span>Agent</span></div>
        <div class="nav">
            <div class="nav-item active">üí¨ Chat</div>
            <div class="nav-item">üìÅ Files</div>
            <div class="nav-item">üîß Tools</div>
            <div class="nav-item">üìä Tasks</div>
            <div class="nav-item">‚öôÔ∏è Settings</div>
        </div>
    </div>
    <div class="main">
        <div class="header">
            <h1>SWE Agent - AI Coding Assistant</h1>
            <div class="status">Online</div>
        </div>
        <div class="content">
            <div class="chat-panel">
                <div class="messages" id="messages">
                    <div class="message assistant">
                        <div class="avatar">ü§ñ</div>
                        <div class="msg-content">
                            <div class="msg-bubble">
                                Hi! I'm Vibee SWE Agent. I can help you with:
                                <br><br>
                                ‚Ä¢ Writing and debugging code<br>
                                ‚Ä¢ Creating files and projects<br>
                                ‚Ä¢ Running commands<br>
                                ‚Ä¢ Explaining concepts<br>
                                ‚Ä¢ Code review and refactoring
                                <br><br>
                                What would you like to build today?
                            </div>
                            <div class="msg-time">Just now</div>
                        </div>
                    </div>
                </div>
                <div class="typing hidden" id="typing"><span></span><span></span><span></span></div>
                <div class="input-area">
                    <div class="input-box">
                        <input type="text" id="input" placeholder="Ask me to write code, fix bugs, or explain concepts..." />
                        <button class="send-btn" onclick="sendMessage()">Send</button>
                    </div>
                </div>
            </div>
            <div class="code-panel">
                <div class="code-header">
                    <div class="tabs">
                        <div class="tab active">main.vibee</div>
                        <div class="tab">+</div>
                    </div>
                    <button class="send-btn" style="padding:6px 12px;font-size:12px" onclick="runCode()">‚ñ∂ Run</button>
                </div>
                <textarea id="editor">// Your code will appear here
fn main() {
    println("Hello from Vibee!")
}</textarea>
                <div class="terminal" id="terminal">$ vibee run main.vibee<br>> Ready...</div>
            </div>
        </div>
    </div>
    <script>
const responses = {
    'hello': 'Hello! How can I help you code today?',
    'help': 'I can help with:\n‚Ä¢ Writing code in any language\n‚Ä¢ Debugging issues\n‚Ä¢ Explaining concepts\n‚Ä¢ Creating projects\n\nJust describe what you need!',
    'create': 'I\'ll create that for you. Here\'s the code:',
    'fix': 'I found the issue. Here\'s the fix:',
    'explain': 'Let me explain that concept:'
};

const codeExamples = {
    'http server': `use std::http::{Server, Response}

fn main() {
    let server = Server::new("0.0.0.0:8080")
        .route("/", |_| Response::ok().body("Hello!"))
        .route("/api", |_| Response::json({"status": "ok"}))
    
    println("Server running on :8080")
    server.run()
}`,
    'fibonacci': `fn fib(n: Int) -> Int {
    match n {
        0 => 0,
        1 => 1,
        _ => fib(n - 1) + fib(n - 2)
    }
}

fn main() {
    for i in 0..10 {
        println("fib({}) = {}", i, fib(i))
    }
}`,
    'actor': `actor Counter {
    count: Int,
    
    pub fn increment(mut self) {
        self.count += 1
    }
    
    pub fn get(self) -> Int {
        self.count
    }
}

async fn main() {
    let counter = spawn Counter { count: 0 }
    counter.increment().await
    println("Count: {}", counter.get().await)
}`
};

function sendMessage() {
    const input = document.getElementById('input');
    const text = input.value.trim();
    if (!text) return;
    
    addMessage(text, 'user');
    input.value = '';
    
    document.getElementById('typing').classList.remove('hidden');
    
    setTimeout(() => {
        document.getElementById('typing').classList.add('hidden');
        processMessage(text);
    }, 1000 + Math.random() * 1000);
}

function addMessage(text, type) {
    const messages = document.getElementById('messages');
    const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
    
    let content = text;
    if (text.includes('```')) {
        content = text.replace(/```(\w+)?\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>');
    }
    
    messages.innerHTML += `
        <div class="message ${type}">
            <div class="avatar">${type === 'user' ? 'üë§' : 'ü§ñ'}</div>
            <div class="msg-content">
                <div class="msg-bubble">${content}</div>
                <div class="msg-time">${time}</div>
            </div>
        </div>`;
    messages.scrollTop = messages.scrollHeight;
}

function processMessage(text) {
    const lower = text.toLowerCase();
    let response = '';
    let code = '';
    
    if (lower.includes('http') || lower.includes('server') || lower.includes('api')) {
        response = 'Here\'s a simple HTTP server in Vibee:';
        code = codeExamples['http server'];
    } else if (lower.includes('fibonacci') || lower.includes('fib')) {
        response = 'Here\'s a recursive Fibonacci implementation:';
        code = codeExamples['fibonacci'];
    } else if (lower.includes('actor') || lower.includes('concurrent')) {
        response = 'Here\'s an example using Vibee\'s actor model:';
        code = codeExamples['actor'];
    } else if (lower.includes('hello') || lower.includes('hi')) {
        response = responses['hello'];
    } else if (lower.includes('help')) {
        response = responses['help'];
    } else {
        response = `I'll help you with that. Let me write some code for "${text}"...`;
        code = `// Generated for: ${text}\nfn main() {\n    // TODO: Implement\n    println("Working on: ${text}")\n}`;
    }
    
    if (code) {
        response += '\n\n```vibee\n' + code + '\n```';
        document.getElementById('editor').value = code;
    }
    
    addMessage(response, 'assistant');
}

function runCode() {
    const terminal = document.getElementById('terminal');
    const code = document.getElementById('editor').value;
    terminal.innerHTML += '<br>$ vibee run main.vibee<br>';
    terminal.innerHTML += '<span style="color:#22d3ee">> Compiling...</span><br>';
    setTimeout(() => {
        terminal.innerHTML += '<span style="color:#10b981">> Running...</span><br>';
        terminal.innerHTML += '> Hello from Vibee!<br>';
        terminal.innerHTML += '<span style="color:#64748b">> Finished in 0.02s</span><br>';
        terminal.scrollTop = terminal.scrollHeight;
    }, 500);
}

document.getElementById('input').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage();
});
    </script>
</body>
</html>
