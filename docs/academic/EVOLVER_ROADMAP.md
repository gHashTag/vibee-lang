# EVOLVER Roadmap - План Улучшений

## Текущее состояние

| Метрика | Значение |
|---------|----------|
| Файлов | 94 |
| Качество (v1) | 78% |
| Качество (v2, строгое) | 62% |
| Цель | 99.9% (0.999) |

## Фазы улучшений

### Фаза 1: Глубокий анализ (текущая)
- [x] Базовый лексический анализ
- [x] Троичные паттерны (△○▽)
- [x] Creation Pattern
- [ ] **AST-парсер для языка 999**
- [ ] **Семантический анализ**
- [ ] **Граф зависимостей**

### Фаза 2: Умные мутации
- [ ] **Контекстно-зависимые замены** (не просто `func`→`Ⲫ`)
- [ ] **Рефакторинг функций** (извлечение, объединение)
- [ ] **Оптимизация выражений** (упрощение, inline)
- [ ] **Генерация документации** из кода

### Фаза 3: ML-guided эволюция
- [ ] **Обучение на истории** улучшений
- [ ] **Предсказание** какие мутации дадут эффект
- [ ] **Автоматический выбор** уровня k

### Фаза 4: Самоулучшение
- [ ] **Evolver улучшает сам себя**
- [ ] **Генерация новых правил** из паттернов
- [ ] **Адаптация** к стилю проекта

---

## Конкретные задачи

### 1. AST-парсер для 999

```python
# Нужно распарсить:
Ⲫ function_name(arg: Type) -> ReturnType:
  Ⲙ variable = expression
  Ⲝ condition:
    action
  Ⲣ result
```

### 2. Семантический анализ

- Понимание **что делает** функция
- Обнаружение **дублирования** логики
- Проверка **типов** (если есть)

### 3. Граф зависимостей

```
ⲕⲉⲣⲛⲉⲗ/core.999
    ↓
ⲉⲣⲅⲁⲗⲉⲓⲁ/evolver.999
    ↓
ⲥⲃⲱ/evolution.999
```

### 4. Контекстные мутации

Вместо слепой замены:
```
func → Ⲫ  (всегда)
```

Контекстная:
```
func main → Ⲫ ⲙⲁⲓⲛ  (главная функция)
func helper → Ⲫ ⲃⲟⲏⲑⲟⲥ  (вспомогательная)
```

### 5. Генерация кода

На основе `.vibee` спецификаций:
```yaml
name: feature
behaviors:
  - given: X
    when: Y
    then: Z
```

Генерировать:
```
Ⲫ feature(x: X) -> Z:
  // given: X
  // when: Y
  Ⲣ z  // then: Z
```

---

## Приоритеты

| # | Задача | Влияние | Сложность |
|---|--------|---------|-----------|
| 1 | AST-парсер | Высокое | Средняя |
| 2 | Граф зависимостей | Высокое | Низкая |
| 3 | Генерация из .vibee | Высокое | Средняя |
| 4 | ML-предсказания | Среднее | Высокая |
| 5 | Самоулучшение | Низкое | Очень высокая |

---

## Метрики успеха

| Фаза | Целевое качество | Срок |
|------|------------------|------|
| 1 | 80% | Неделя 1 |
| 2 | 90% | Неделя 2-3 |
| 3 | 95% | Месяц 1-2 |
| 4 | 99.9% | Месяц 3+ |
